{"version":3,"sources":["webpack:///./node_modules/react-mosaic-component/lib/contextTypes.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/RemoveButton.js","webpack:///./node_modules/lodash/throttle.js","webpack:///./node_modules/toggle-selection/index.js","webpack:///./node_modules/@material-ui/icons/ArrowLeftSharp.js","webpack:///./node_modules/react-mosaic-component/lib/util/assertNever.js","webpack:///./node_modules/react-dnd/dist/esm/common/DragPreviewImage.js","webpack:///./node_modules/react-dnd/dist/esm/common/DragSourceMonitorImpl.js","webpack:///./node_modules/react-dnd/dist/esm/common/SourceConnector.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/internal/drag.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/useDrag.js","webpack:///./node_modules/react-dnd/dist/esm/utils/js_utils.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/utils.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/disposables.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/decorateHandler.js","webpack:///./node_modules/react-dnd/dist/esm/utils/isValidType.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/createSourceFactory.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/DragSource.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/createTargetFactory.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/DropTarget.js","webpack:///./node_modules/react-dnd/dist/esm/decorators/DragLayer.js","webpack:///./node_modules/@material-ui/icons/CropDinSharp.js","webpack:///./node_modules/react-mosaic-component/lib/Mosaic.js","webpack:///./node_modules/lodash/dropRight.js","webpack:///./node_modules/@material-ui/icons/ViewColumn.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/defaultToolbarControls.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/ExpandButton.js","webpack:///./node_modules/react-mosaic-component/lib/types.js","webpack:///./node_modules/react-mosaic-component/lib/internalTypes.js","webpack:///./node_modules/react-copy-to-clipboard/lib/index.js","webpack:///./node_modules/@material-ui/icons/ExpandMoreSharp.js","webpack:///./node_modules/node-libs-browser/mock/process.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/internal/useMonitorOutput.js","webpack:///./node_modules/immutability-helper/index.js","webpack:///./node_modules/@material-ui/icons/PaletteSharp.js","webpack:///./node_modules/lodash/_baseDelay.js","webpack:///./node_modules/@material-ui/icons/MoreHorizSharp.js","webpack:///./node_modules/react-mosaic-component/node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/react-dnd/dist/esm/utils/isRef.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/MosaicButton.js","webpack:///./node_modules/@material-ui/icons/MoreVertSharp.js","webpack:///./node_modules/lodash/take.js","webpack:///./node_modules/react-resize-observer/lib/ResizeObserver.js","webpack:///./node_modules/lodash/isEqual.js","webpack:///./node_modules/@material-ui/icons/Close.js","webpack:///./node_modules/react-mosaic-component/node_modules/uuid/index.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/internal/drop.js","webpack:///./node_modules/react-dnd/dist/esm/hooks/useDrop.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/Separator.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/ReplaceButton.js","webpack:///./node_modules/lodash/pickBy.js","webpack:///./node_modules/react-mosaic-component/lib/buttons/SplitButton.js","webpack:///./node_modules/@material-ui/icons/AddSharp.js","webpack:///./node_modules/lodash/defer.js","webpack:///./node_modules/@material-ui/icons/FullscreenExitSharp.js","webpack:///./node_modules/lodash/_baseClamp.js","webpack:///./node_modules/react-mosaic-component/node_modules/uuid/lib/bytesToUuid.js","webpack:///./node_modules/icomcom-react/dist/index.js","webpack:///./node_modules/react-mosaic-component/lib/MosaicWindow.js","webpack:///./node_modules/@material-ui/icons/LayersSharp.js","webpack:///./node_modules/lodash/_basePickBy.js","webpack:///./node_modules/lodash/countBy.js","webpack:///./node_modules/react-mosaic-component/lib/index.js","webpack:///./node_modules/react-mosaic-component/lib/MosaicRoot.js","webpack:///./node_modules/react-mosaic-component/lib/util/BoundingBox.js","webpack:///./node_modules/react-mosaic-component/node_modules/uuid/v4.js","webpack:///./node_modules/react-dnd/dist/esm/utils/cloneWithRef.js","webpack:///./node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js","webpack:///./node_modules/@material-ui/icons/CheckSharp.js","webpack:///./node_modules/react-dnd/dist/esm/common/TargetConnector.js","webpack:///./node_modules/@material-ui/icons/Input.js","webpack:///./node_modules/react-mosaic-component/lib/RootDropTargets.js","webpack:///./node_modules/react-dnd/dist/esm/common/DropTargetMonitorImpl.js","webpack:///./node_modules/@material-ui/icons/LockSharp.js","webpack:///./node_modules/react-copy-to-clipboard/lib/Component.js","webpack:///./node_modules/react-mosaic-component/lib/util/mosaicUpdates.js","webpack:///./node_modules/react-mosaic-component/lib/MosaicZeroState.js","webpack:///./node_modules/react-mosaic-component/node_modules/uuid/v1.js","webpack:///./node_modules/@material-ui/icons/SettingsSharp.js","webpack:///./node_modules/@material-ui/icons/InsertDriveFileSharp.js","webpack:///./node_modules/@material-ui/core/esm/Grid/Grid.js","webpack:///./node_modules/@material-ui/icons/CommentSharp.js","webpack:///./node_modules/react-mosaic-component/lib/MosaicDropTarget.js","webpack:///./node_modules/react-dnd/dist/esm/common/registration.js","webpack:///./node_modules/react-mosaic-component/lib/util/mosaicUtilities.js","webpack:///./node_modules/@material-ui/icons/ExpandLessSharp.js","webpack:///./node_modules/@material-ui/icons/ArrowRightSharp.js","webpack:///./node_modules/@material-ui/icons/MenuSharp.js","webpack:///./node_modules/lodash/difference.js","webpack:///./node_modules/@material-ui/icons/CropOriginalSharp.js","webpack:///./node_modules/@material-ui/icons/CopyrightSharp.js","webpack:///./node_modules/@material-ui/icons/InfoSharp.js","webpack:///./node_modules/path-browserify/index.js","webpack:///./node_modules/@material-ui/core/esm/Fade/Fade.js","webpack:///./node_modules/@material-ui/core/esm/Backdrop/Backdrop.js","webpack:///./node_modules/@material-ui/core/esm/Dialog/Dialog.js","webpack:///./node_modules/@material-ui/core/esm/DialogContent/DialogContent.js","webpack:///./node_modules/@material-ui/core/esm/DialogTitle/DialogTitle.js","webpack:///./node_modules/@material-ui/core/esm/DialogContentText/DialogContentText.js","webpack:///./node_modules/@material-ui/core/esm/DialogActions/DialogActions.js","webpack:///./node_modules/mirador/dist/es/src/components/ErrorDialog.js","webpack:///./node_modules/mirador/dist/es/src/containers/ErrorDialog.js","webpack:///./node_modules/@material-ui/core/esm/AppBar/AppBar.js","webpack:///./node_modules/@material-ui/core/esm/Fab/Fab.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceAddButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceAddButton.js","webpack:///./node_modules/mirador/dist/es/src/components/FullScreenButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/FullScreenButton.js","webpack:///./node_modules/mirador/dist/es/src/components/LanguageSettings.js","webpack:///./node_modules/mirador/dist/es/src/containers/LanguageSettings.js","webpack:///./node_modules/mirador/dist/es/src/components/NestedMenu.js","webpack:///./node_modules/@material-ui/core/esm/Card/Card.js","webpack:///./node_modules/@material-ui/core/esm/CardContent/CardContent.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/WorkspaceTypeElasticIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/WorkspaceTypeMosaicIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/ScrollIndicatedDialogContent.js","webpack:///./node_modules/mirador/dist/es/src/containers/ScrollIndicatedDialogContent.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceSelectionDialog.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceSelectionDialog.js","webpack:///./node_modules/mirador/dist/es/src/components/ChangeThemeDialog.js","webpack:///./node_modules/mirador/dist/es/src/containers/ChangeThemeDialog.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceMenu.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceMenu.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceMenuButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceMenuButton.js","webpack:///./node_modules/@material-ui/core/esm/ClickAwayListener/ClickAwayListener.js","webpack:///./node_modules/@material-ui/core/esm/SnackbarContent/SnackbarContent.js","webpack:///./node_modules/@material-ui/core/esm/Snackbar/Snackbar.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceExport.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceExport.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceImport.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceImport.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceOptionsMenu.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceOptionsMenu.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceOptionsButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceOptionsButton.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowList.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowList.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowListButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowListButton.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceControlPanelButtons.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceControlPanelButtons.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/MiradorIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/Branding.js","webpack:///./node_modules/mirador/dist/es/src/containers/Branding.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceControlPanel.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceControlPanel.js","webpack:///./node_modules/@material-ui/core/esm/FormControlLabel/FormControlLabel.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/ThumbnailNavigationBottomIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/ThumbnailNavigationRightIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowThumbnailSettings.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowThumbnailSettings.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/BookViewIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/GalleryViewIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowViewSettings.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowViewSettings.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopMenu.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopMenu.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/WindowOptionsIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopMenuButton.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopMenuButton.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopBarPluginArea.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopBarPluginArea.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopBarPluginMenu.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopBarPluginMenu.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopBarTitle.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopBarTitle.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/WindowMaxIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/WindowMinIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowTopBar.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowTopBar.js","webpack:///./node_modules/@material-ui/core/esm/Slide/Slide.js","webpack:///./node_modules/@material-ui/core/esm/Drawer/Drawer.js","webpack:///./node_modules/mirador/dist/es/src/components/icons/CanvasIndexIcon.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowSideBarButtons.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowSideBarButtons.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowSideBar.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowSideBar.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toArray.js","webpack:///./node_modules/@material-ui/core/esm/Accordion/AccordionContext.js","webpack:///./node_modules/@material-ui/core/esm/Accordion/Accordion.js","webpack:///./node_modules/@material-ui/core/esm/AccordionSummary/AccordionSummary.js","webpack:///./node_modules/@material-ui/core/esm/AccordionDetails/AccordionDetails.js","webpack:///./node_modules/@material-ui/lab/esm/internal/svg-icons/SuccessOutlined.js","webpack:///./node_modules/@material-ui/lab/esm/internal/svg-icons/ReportProblemOutlined.js","webpack:///./node_modules/@material-ui/lab/esm/internal/svg-icons/ErrorOutline.js","webpack:///./node_modules/@material-ui/lab/esm/internal/svg-icons/InfoOutlined.js","webpack:///./node_modules/@material-ui/lab/esm/Alert/Alert.js","webpack:///./node_modules/mirador/dist/es/src/components/ErrorContent.js","webpack:///./node_modules/mirador/dist/es/src/containers/ErrorContent.js","webpack:///./node_modules/mirador/dist/es/src/components/CompanionWindowFactory.js","webpack:///./node_modules/mirador/dist/es/src/containers/CompanionWindowFactory.js","webpack:///./node_modules/mirador/dist/es/src/components/CompanionArea.js","webpack:///./node_modules/mirador/dist/es/src/containers/CompanionArea.js","webpack:///./node_modules/mirador/dist/es/src/components/CollectionDialog.js","webpack:///./node_modules/mirador/dist/es/src/containers/CollectionDialog.js","webpack:///./node_modules/mirador/dist/es/src/components/PrimaryWindow.js","webpack:///./node_modules/mirador/dist/es/src/containers/PrimaryWindow.js","webpack:///./node_modules/mirador/dist/es/src/components/MinimalWindow.js","webpack:///./node_modules/mirador/dist/es/src/containers/MinimalWindow.js","webpack:///./node_modules/mirador/dist/es/src/components/AccessTokenSender.js","webpack:///./node_modules/mirador/dist/es/src/components/NewWindow.js","webpack:///./node_modules/mirador/dist/es/src/components/WindowAuthenticationBar.js","webpack:///./node_modules/mirador/dist/es/src/containers/WindowAuthenticationBar.js","webpack:///./node_modules/mirador/dist/es/src/components/IIIFAuthentication.js","webpack:///./node_modules/mirador/dist/es/src/containers/IIIFAuthentication.js","webpack:///./node_modules/mirador/dist/es/src/components/Window.js","webpack:///./node_modules/mirador/dist/es/src/containers/Window.js","webpack:///./node_modules/mirador/dist/es/src/components/MosaicRenderPreview.js","webpack:///./node_modules/mirador/dist/es/src/containers/MosaicRenderPreview.js","webpack:///./node_modules/mirador/dist/es/src/lib/MosaicLayout.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceMosaic.js","webpack:///./node_modules/mirador/dist/es/src/styles/react-mosaic-component.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceMosaic.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceElasticWindow.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceElasticWindow.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceElastic.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceElastic.js","webpack:///./node_modules/mirador/dist/es/src/lib/readImageMetadata.js","webpack:///./node_modules/mirador/dist/es/src/components/IIIFDropTarget.js","webpack:///./node_modules/mirador/dist/es/src/components/Workspace.js","webpack:///./node_modules/mirador/dist/es/src/containers/Workspace.js","webpack:///./node_modules/mirador/dist/es/src/components/ManifestForm.js","webpack:///./node_modules/mirador/dist/es/src/containers/ManifestForm.js","webpack:///./node_modules/mirador/dist/es/src/components/ManifestListItemError.js","webpack:///./node_modules/mirador/dist/es/src/containers/ManifestListItemError.js","webpack:///./node_modules/mirador/dist/es/src/components/ManifestListItem.js","webpack:///./node_modules/mirador/dist/es/src/containers/ManifestListItem.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceAdd.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceAdd.js","webpack:///./node_modules/mirador/dist/es/src/components/BackgroundPluginArea.js","webpack:///./node_modules/mirador/dist/es/src/containers/BackgroundPluginArea.js","webpack:///./node_modules/mirador/dist/es/src/components/WorkspaceArea.js","webpack:///./node_modules/mirador/dist/es/src/containers/WorkspaceArea.js","webpack:///./node_modules/react-mosaic-component/lib/Split.js","webpack:///./node_modules/@material-ui/icons/BookmarksSharp.js","webpack:///./node_modules/lodash/drop.js","webpack:///./node_modules/@material-ui/icons/ErrorOutlineSharp.js","webpack:///./node_modules/@material-ui/icons/SaveAltSharp.js","webpack:///./node_modules/lodash/clamp.js","webpack:///./node_modules/copy-to-clipboard/index.js","webpack:///./node_modules/react-mosaic-component/lib/util/OptionalBlueprint.js","webpack:///./node_modules/@material-ui/icons/FullscreenSharp.js"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","MosaicWindowContext","MosaicContext","react_1","default","createContext","undefined","__extends","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","RemoveButton","classnames_1","contextTypes_1","OptionalBlueprint_1","MosaicButton_1","_super","apply","arguments","render","_this","createElement","Consumer","_a","mosaicActions","createDefaultToolbarButton","OptionalBlueprint","getIconClass","createRemove","remove","context","mosaicWindowActions","getPath","props","onClick","contextType","PureComponent","debounce","isObject","FUNC_ERROR_TEXT","throttle","func","wait","options","leading","trailing","TypeError","module","selection","document","getSelection","rangeCount","active","activeElement","ranges","i","push","getRangeAt","tagName","toUpperCase","blur","removeAllRanges","type","forEach","range","addRange","focus","_interopRequireDefault","_interopRequireWildcard","React","_createSvgIcon","_default","assertNever","shouldBeNever","Error","JSON","stringify","DragPreviewImage","_ref","connect","src","Image","img","onload","displayName","_classCallCheck","instance","Constructor","_defineProperties","target","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","manager","sourceId","internalMonitor","getMonitor","canDragSource","isDraggingSource","listener","subscribeToStateChange","targetId","isOverTarget","getTargetIds","isSourcePublic","getSourceId","subscribeToOffsetChange","canDropOnTarget","getItemType","getItem","getDropResult","didDrop","getInitialClientOffset","getInitialSourceClientOffset","getSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","SourceConnector","backend","hooks","wrapConnectorHooks","dragSource","node","clearDragSource","dragSourceOptions","isRef","dragSourceRef","dragSourceNode","reconnectDragSource","dragPreview","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","handlerId","dragSourceOptionsInternal","dragPreviewOptionsInternal","lastConnectedHandlerId","lastConnectedDragSource","lastConnectedDragSourceOptions","lastConnectedDragPreview","lastConnectedDragPreviewOptions","newHandlerId","reconnect","didChange","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","dragSourceUnsubscribe","connectDragSource","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","dragPreviewUnsubscribe","connectDragPreview","get","set","current","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","Symbol","iterator","toString","call","_arr","_n","_d","_e","_s","_i","next","done","err","isArray","_typeof","obj","useDragSourceMonitor","useDragDropManager","monitor","connector","getBackend","useDragHandler","spec","handler","beginDrag","_spec$current","begin","item","beginResult","canDrag","isDragging","globalMonitor","endDrag","end","useIsomorphicLayoutEffect","_registerSource","_registerSource2","unregister","receiveHandlerId","useDrag","specRef","_useDragSourceMonitor","_useDragSourceMonitor2","result","useMonitorOutput","collect","previewOptions","isFunction","input","noop","isObjectLike","isPlainObject","getPrototypeOf","proto","getDecoratedComponent","instanceRef","currentRef","decoratedRef","isClassComponent","Component","isRefForwardingComponent","C","$$typeof","isRefable","checkDecoratorArguments","functionName","signature","Disposable","action","isDisposed","dispose","isDisposable","empty","CompositeDisposable","_len","disposables","_key","shouldDispose","idx","indexOf","splice","len","currentDisposables","_i2","SerialDisposable","old","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","_getPrototypeOf","o","_inherits","subClass","superClass","_setPrototypeOf","decorateHandler","DecoratedComponent","createHandler","createMonitor","createConnector","registerHandler","containerDisplayName","getType","_options$arePropsEqua","arePropsEqual","Decorated","name","DragDropContainer","_React$Component","handleChange","nextState","getCurrentState","state","setState","disposable","receiveProps","nextProps","currentType","prevProps","receiveType","handlerMonitor","handlerConnector","_registerHandler","_registerHandler2","unsubscribe","handlerIds","setDisposable","_this2","DndContext","_ref2","dragDropManager","receiveDragDropManager","requestAnimationFrame","assign","ref","concat","isValidType","allowArray","every","t","ALLOWED_SPEC_METHODS","REQUIRED_SPEC_METHODS","SourceImpl","createSourceFactory","keys","join","DragSource","createSource","TargetImpl","canDrop","hover","drop","dropResult","createTargetFactory","DropTarget","createTarget","DropTargetMonitorImpl","TargetConnector","DragLayer","DragLayerContainer","isCurrentlyMounted","unsubscribeFromOffsetChange","unsubscribeFromStateChange","__assign","s","n","Mosaic","MosaicWithoutDragDropContext","react_dnd_1","react_dnd_multi_backend_1","HTML5toTouch_1","uuid_1","MosaicRoot_1","MosaicZeroState_1","RootDropTargets_1","mosaicUpdates_1","DEFAULT_EXPAND_PERCENTAGE","isUncontrolled","initialValue","currentNode","lastInitialValue","mosaicId","v4","updateRoot","updates","suppressOnRelease","getRoot","replaceRoot","updateTree","onChange","onRelease","actions","path","createRemoveUpdate","expand","percentage","createExpandUpdate","hide","createHideUpdate","replaceWith","newNode","$set","childContext","getDerivedStateFromProps","prevState","className","Provider","renderTree","RootDropTargets","root","validateTree","zeroStateView","renderTile","resize","MosaicRoot","defaultProps","MosaicZeroState","DndProvider","baseSlice","toInteger","dropRight","array","guard","DEFAULT_CONTROLS_WITHOUT_CREATION","DEFAULT_CONTROLS_WITH_CREATION","ExpandButton_1","RemoveButton_1","ReplaceButton_1","SplitButton_1","Children","toArray","ReplaceButton","SplitButton","ExpandButton","createExpand","MosaicDragType","WINDOW","MosaicDropTargetPosition","TOP","BOTTOM","LEFT","RIGHT","_require","CopyToClipboard","nextTick","fn","args","slice","shift","setTimeout","platform","arch","execPath","title","pid","browser","env","argv","binding","cwd","chdir","dir","resolve","exit","kill","umask","dlopen","uptime","memoryUsage","uvCounters","features","onCollect","_useCollector","_useCollector2","collected","updateCollected","getHandlerId","stringifiable","isProduction","process","invariant","condition","message","source","getAllKeys","getOwnPropertySymbols","copy","object","Map","Set","Context","commands","defaultCommands","update","bind","extend","isEquals","x","y","newContext","directive","$spec","$apply","nextObject","objectWasNextObject","nextValueForKey","nextObjectValue","$push","invariantPushAndUnshift","$unshift","$splice","originalObject","invariantSplices","invariantSplice","_nextObject","invariantSet","$toggle","targets","invariantSpecArray","nextObjectCopy","$unset","_spec","$add","values","invariantMapOrSet","has","add","$remove","delete","$merge","invariantMerge","original","invariantApply","defaultContext","command","specValue","typeOfTarget","baseDelay","getRandomValues","crypto","window","msCrypto","rnds8","Uint8Array","rnds","r","Math","random","text","getClasses","take","_react","_objectSpread","ownKeys","filter","sym","getOwnPropertyDescriptor","_defineProperty","style","position","left","top","right","bottom","overflow","zIndex","visibility","pointerEvents","styleChild","transition","isAncestor","ancestor","parentNode","ResizeObserver","_getPrototypeOf2","_temp","event","onPosition","onReflow","onResize","_globalScollTarget","_refScrollTarget","_ancestorScollTarget","_reflow","Node","documentElement","body","HTMLElement","_expandRef","_shrinkRef","width","offsetWidth","height","offsetHeight","_lastWidth","_lastHeight","_reset","_node","Element","rect","getBoundingClientRect","sizeChanged","positionChanged","_lastRect","addEventListener","_handleScroll","_hasResize","removeEventListener","scrollLeft","scrollTop","_handleRef","_handleExpandRef","_handleShrinkRef","baseIsEqual","isEqual","other","v1","uuid","useDropTargetMonitor","useDropHandler","_registerTarget","accept","_registerTarget2","useDrop","_useDropTargetMonitor","_useDropTargetMonitor2","connectDropTarget","dropTarget","dropTargetOptions","Separator","noop_1","replace","replaceWithNew","then","catch","arrayMap","baseIteratee","basePickBy","getAllKeysIn","pickBy","predicate","prop","split","baseRest","defer","baseClamp","number","lower","upper","byteToHex","substr","bytesToUuid","buf","offset","bth","_extends","defineProperties","_react2","_propTypes","_propTypes2","IComCom","onReceiveMessage","onLoad","sendMessage","_frame","postMessageData","handleReceiveMessage","handleReady","contentWindow","postMessage","targetOrigin","attributes","el","defaultAttributes","propTypes","shape","frameBorder","oneOfType","string","scrolling","sandbox","srcDoc","isRequired","any","MosaicWindow","SourceDropConnectedInternalMosaicWindow","SourceConnectedInternalMosaicWindow","InternalMosaicWindow","defer_1","dropRight_1","isEmpty_1","isEqual_1","values_1","defaultToolbarControls_1","Separator_1","internalTypes_1","MosaicDropTarget_1","types_1","mosaicUtilities_1","additionalControlsOpen","rootElement","renderDropTarget","MosaicDropTarget","checkCreateNode","createNode","direction","Promise","second","first","getAndAssertNodeAtPathExists","swap","setAdditionalControlsOpen","connectedElements","isOver","renderPreview","additionalControls","draggedMosaicId","element","renderToolbar","children","map","getToolbarControls","toolbarControls","_b","draggable","additionalControlButtonText","draggableAndNotRoot","connectIfDraggable","connectedToolbar","titleDiv","hasAdditionalControls","Icon","iconSize","icon","_monitor","component","onDragStart","hideTimer","clearTimeout","ownPath","destinationPath","splitPercentage","onDragEnd","createDragToUpdates","baseGet","baseSet","castPath","paths","index","baseAssignValue","createAggregator","objectProto","countBy","Mosaic_1","buildSpecFromUpdate","createBalancedTreeFromLeaves","Corner","getLeaves","getNodeAtPath","getOtherBranch","getOtherDirection","getPathToCorner","isParent","MosaicWindow_1","flatten_1","Split_1","BoundingBox_1","renderRecursively","BoundingBox","boundingBox","renderSplit","nonNullElement","asStyles","Split","assertNever_1","relativeSplitPercentage","absolutePercentage","getAbsoluteSplitPercentage","getRelativeSplitPercentage","absoluteSplitPercentage","rng","ii","setRef","cloneWithRef","newRef","previousRef","throwIfCompositeComponentElement","wrapHookToRecognizeElement","hook","elementOrNode","wrappedHooks","endsWith","wrappedHook","clearDropTarget","dropTargetRef","dropTargetNode","dropTargetOptionsInternal","lastConnectedDropTarget","lastConnectedDropTargetOptions","didDropTargetChange","didOptionsChange","disconnectDropTarget","unsubscribeDropTarget","RootDropTargetsClass","_connect","isCallingCanDrop","_copyToClipboard","enumerableOnly","symbols","getOwnPropertyDescriptors","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","sourceKeys","_React$PureComponent","_this$props","onCopy","elem","only","_this$props2","cloneElement","immutability_helper_1","drop_1","last_1","set_1","take_1","mosaicUpdate","mUpdate","parentPath","nodeToRemove","siblingPath","sibling","isPathPrefixEqual","a","sourcePath","destinationNode","destinationIsParentOfSource","removedNodeParentIsInPath","sourceNode","targetPath","thisBranch","branch","_nodeId","_clockseq","_lastMSecs","_lastNSecs","clockseq","seedBytes","msecs","Date","getTime","nsecs","dt","tl","tmh","SPACINGS","GRID_SIZES","generateGrid","globalStyles","theme","breakpoint","styles","size","round","flexBasis","flexGrow","maxWidth","breakpoints","up","getOffset","val","div","parse","parseFloat","String","generateGutter","spacing","themeSpacing","margin","padding","container","boxSizing","display","flexWrap","zeroMinWidth","minWidth","flexDirection","alignItems","alignContent","justifyContent","reduce","accumulator","Grid","_props$alignContent","_props$alignItems","classes","classNameProp","_props$component","_props$container","_props$direction","_props$item","_props$justify","justify","_props$lg","lg","_props$md","md","_props$sm","sm","_props$spacing","_props$wrap","wrap","_props$xl","xl","_props$xs","xs","_props$zeroMinWidth","StyledGrid","MosaicDropTargetClass","registerTarget","registry","getRegistry","addTarget","removeTarget","registerSource","addSource","removeSource","clone_1","get_1","alternateDirection","nextDirection","leaves","startDirection","unshift","tree","corner","currentPath","TOP_LEFT","BOTTOM_LEFT","TOP_RIGHT","baseDifference","baseFlatten","isArrayLikeObject","difference","normalizeArray","parts","allowAboveRoot","last","basename","start","matchedSlash","charCodeAt","f","res","resolvedPath","resolvedAbsolute","charAt","normalize","isAbsolute","trailingSlash","relative","from","to","trim","fromParts","toParts","min","samePartsLength","outputParts","sep","delimiter","dirname","code","hasRoot","ext","extname","startDot","startPart","preDotState","str","entering","opacity","entered","defaultTimeout","enter","enteringScreen","leavingScreen","_props$disableStrictM","disableStrictModeCompat","inProp","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","_props$TransitionComp","TransitionComponent","Transition","_props$timeout","timeout","useTheme","enableStrictModeCompat","unstable_strictMode","nodeRef","foreignRef","useForkRef","handleRef","normalizedTransitionCallback","callback","nodeOrAppearing","maybeAppearing","isAppearing","handleEntering","handleEnter","transitionProps","mode","webkitTransition","transitions","handleEntered","handleExiting","handleExit","handleExited","appear","childProps","backgroundColor","WebkitTapHighlightColor","invisible","_props$invisible","open","transitionDuration","withStyles","scrollPaper","scrollBody","overflowY","overflowX","textAlign","content","verticalAlign","outline","paper","boxShadow","paperScrollPaper","maxHeight","paperScrollBody","paperWidthFalse","paperWidthXs","max","down","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen","borderRadius","defaultTransitionDuration","BackdropProps","_props$disableBackdro","disableBackdropClick","_props$disableEscapeK","disableEscapeKeyDown","_props$fullScreen","fullScreen","_props$fullWidth","fullWidth","_props$maxWidth","onBackdropClick","onClose","onEscapeKeyDown","_props$PaperComponent","PaperComponent","Paper","_props$PaperProps","PaperProps","_props$scroll","scroll","_props$transitionDura","TransitionProps","ariaDescribedby","ariaLabelledby","mouseDownTarget","handleMouseDown","handleBackdropClick","currentTarget","Modal","BackdropComponent","closeAfterTransition","role","capitalize","onMouseUp","onMouseDown","elevation","flex","WebkitOverflowScrolling","paddingTop","dividers","borderTop","palette","divider","borderBottom","_props$dividers","_props$disableTypogra","disableTypography","Typography","variant","marginBottom","color","marginLeft","_props$disableSpacing","disableSpacing","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","NewTarget","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_Component","ErrorDialog","error","removeError","hasError","id","noWrap","Button","enhance","withTranslation","withPlugins","backgroundColorDefault","grey","appBar","flexShrink","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","getContrastText","colorPrimary","primary","main","contrastText","colorSecondary","secondary","colorInherit","colorTransparent","_props$color","_props$position","square","typography","button","minHeight","duration","short","shadows","A100","disabledBackground","textDecoration","disabled","label","dark","extended","focusVisible","sizeSmall","sizeMedium","_props$disabled","_props$disableFocusRi","disableFocusRipple","focusVisibleClassName","_props$size","_props$variant","ButtonBase","focusRipple","WorkspaceAddButton","setWorkspaceAddVisibility","isWorkspaceAddVisible","useExtendedFab","Tooltip","disableRipple","fab","fabPrimary","fabSecondary","_getWorkspace","withWidth","FullScreenButton","isFullscreenEnabled","setWorkspaceFullscreen","MiradorMenuButton","LanguageSettings","handleClick","languages","Fragment","language","MenuItem","locale","ListItemIcon","ListItemText","primaryTypographyProps","dispatch","afterSelect","NestedMenu","nestedMenuIsOpen","handleMenuClick","otherProps","_props$raised","raised","paddingBottom","ElasticWorkspaceIcon","SvgIcon","xmlns","viewBox","x1","y1","x2","gradientUnits","stopOpacity","stopColor","clipPath","fill","transform","stroke","strokeWidth","fillRule","cx","cy","WorkspaceTypeMosaicIcon","ScrollIndicatedDialogContent","ourClassName","shadowScrollDialog","_shadowScrollDialog","background","WorkspaceSelectionDialog","handleWorkspaceTypeChange","workspaceType","handleClose","updateWorkspace","dialog","setInitialFocus","MenuList","list","selected","menuItem","card","svgIcon","details","headline","dialogElement","selectedListItem","querySelectorAll","media","whiteSpace","ChangeThemeDialog","selectedItemRef","createRef","handleThemeChange","setSelectedTheme","selectedTheme","themeIds","dialogContent","listitem","windowId","light","cursor","WorkspaceMenu","changeTheme","toggleZoom","workspaceSelection","handleMenuItemClick","handleMenuItemClose","anchorEl","toggleZoomControls","showZoomControls","_this3","containerId","showThemePicker","_this$state","querySelector","Menu","anchorOrigin","horizontal","vertical","transformOrigin","handleZoomToggleClick","PluginHook","WorkspaceMenuButton","handleMenuClose","ctrlBtn","ctrlBtnSelected","mapEventPropToEvent","eventProp","substring","toLowerCase","clickedRootScrollbar","clientWidth","clientX","clientHeight","clientY","ClickAwayListener","_props$disableReactTr","disableReactTree","_props$mouseEvent","mouseEvent","onClickAway","_props$touchEvent","touchEvent","movedRef","activatedRef","syntheticEventRef","handleOwnRef","handleClickAway","useEventCallback","insideReactTree","insideDOM","composedPath","doc","ownerDocument","contains","createHandleSynthetic","handlerName","childrenPropsHandler","childrenProps","mappedTouchEvent","handleTouchMove","mappedMouseEvent","emphasis","body2","paddingLeft","marginRight","_props$role","top1","bottom1","top3","bottom3","right3","left3","center","snackbar","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","_props$anchorOrigin","_props$autoHideDurati","autoHideDuration","ClickAwayListenerProps","ContentProps","_props$disableWindowB","disableWindowBlurListener","onMouseEnter","onMouseLeave","resumeHideDuration","Grow","timerAutoHide","_React$useState","exited","setExited","setAutoHideTimer","autoHideDurationParam","handlePause","handleResume","handleMouseEnter","handleMouseLeave","createChainedFunction","flip","WorkspaceExport","copied","exportableState","IconButton","fontSize","exportedState","WorkspaceImport","configImportValue","handleImportConfig","preventDefault","importConfig","configJSON","ex","addError","TextField","textField","multiline","rows","inputProps","autoFocus","textInput","helperText","cancelBtn","fontFamily","WorkspaceOptionsMenu","exportWorkspace","importWorkspace","WorkspaceOptionsButton","WindowList","titles","windowIds","focusWindow","disableAutoFocusItem","focus2ndListIitem","ListSubheader","tabIndex","titleContent","menuElement","WindowListButton","windowListAnchor","handleOpen","windowCount","badge","BadgeProps","badgeContent","WorkspaceControlPanelButtons","MiradorIcon","Branding","ContainerProps","align","href","rel","titleAccess","k","WorkspaceControlPanel","wide","Toolbar","disableGutters","toolbar","workspaceButtons","branding","_branding","drawer","labelPlacementStart","labelPlacementTop","labelPlacementBottom","checked","control","disabledProp","inputRef","_props$labelPlacement","labelPlacement","muiFormControl","useFormControl","controlProps","ThumbnailNavigationBottomIcon","ThumbnailNavigationRightIcon","WindowThumbnailSettings","setWindowThumbnailPosition","thumbnailNavigationPosition","disableSticky","selectedLabel","withRef","forwardRef","BookViewIcon","GalleryViewIcon","WindowViewSettings","setWindowViewType","windowViewType","viewTypes","iconMap","book","gallery","single","PluginHookWithHeader","PluginComponents","WindowTopMenu","showThumbnailNavigationSettings","toggleDraggingEnabled","getContentAnchorEl","orientation","thumbnailNavigation","displaySettings","WindowOptionsIcon","WindowTopMenuButton","WindowTopBarPluginArea","WindowTopBarPluginMenu","menuIcon","WindowTopBarTitle","hideWindowTitle","isFetching","manifestTitle","TitleTypography","Skeleton","h6","WindowMaxIcon","WindowMinIcon","WindowTopBar","removeWindow","toggleWindowSideBar","windowDraggable","maximizeWindow","maximized","minimizeWindow","focused","allowClose","allowMaximize","allowFullscreen","allowTopMenuButton","allowWindowSideBar","windowTopBarStyle","windowTopBarStyleDraggable","config","shades","paddingRight","getTranslateValue","fakeTransform","computedStyle","getComputedStyle","getPropertyValue","offsetX","offsetY","transformValues","parseInt","innerWidth","innerHeight","setTranslateValue","webkitTransform","childrenRef","handleRefIntermediary","easing","easeOut","sharp","updatePosition","handleResize","clear","docked","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","borderRight","paperAnchorDockedTop","paperAnchorDockedRight","borderLeft","paperAnchorDockedBottom","modal","oppositeDirection","isHorizontal","anchor","getAnchor","_props$anchor","anchorProp","_props$elevation","_props$ModalProps","ModalProps","BackdropPropsProp","_props$open","SlideProps","mounted","slidingDrawer","CanvasIndexIcon","WindowSideBarButtons","addCompanionWindow","hasAnnotations","hasAnyAnnotations","hasAnyLayers","hasCurrentLayers","hasSearchResults","hasSearchService","panels","sideBarPanel","TabButton","Tab","tab","tabSelected","onKeyUp","handleKeyUp","Tabs","flexContainer","tabsFlexContainer","indicator","tabsIndicator","indicatorColor","textColor","info","attribution","canvas","annotations","Badge","search","layers","PluginComponent","hasLayers","canvases","some","c","MiradorCanvas","imageResources","annotationListUris","canvasAnnotationPages","suggestedSearches","companionWindowId","notification","WindowSideBar","sideBarOpen","mountOnEnter","unmountOnExit","order","grow","borderInlineEnd","mixins","_toArray","arrayWithHoles","iterableToArray","unsupportedIterableToArray","nonIterableRest","AccordionContext","shortest","marginTop","rounded","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","expanded","childrenProp","_props$defaultExpande","defaultExpanded","expandedProp","_props$square","Collapse","_useControlled","useControlled","controlled","_useControlled2","setExpandedState","_React$Children$toArr","_React$Children$toArr2","summary","contextValue","toggle","disabledOpacity","expandIcon","IconButtonProps","onBlur","onFocusVisible","focusedState","setFocusedState","handleFocusVisible","handleBlur","_React$useContext","_React$useContext$dis","edge","createSvgIcon","getColor","getBackgroundColor","standardSuccess","success","standardInfo","standardWarning","warning","standardError","outlinedSuccess","border","outlinedInfo","outlinedWarning","outlinedError","filledSuccess","fontWeight","fontWeightMedium","filledInfo","filledWarning","filledError","defaultIconMapping","SuccessOutlined","ReportProblemOutlined","ErrorOutline","InfoOutlined","_props$closeText","closeText","_props$iconMapping","iconMapping","_props$severity","severity","ErrorContent","metadata","showJsError","alert","stack","companionWindow","manifest","viewer","CompanionWindowFactory","CompanionWindow","CompanionWindowRegistry","CompanionArea","companionAreaOpen","_this$props3","defaultPosition","oppositePosition","_this$props4","companionWindowIds","setCompanionAreaOpen","areaLayoutClass","slideDirection","toggleButton","TooltipProps","placement","collapseIcon","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","test","iter","arr2","asArray","CollectionDialog","hideDialog","hideCollectionDialog","collectionPath","manifestId","showCollectionDialog","m","addWindow","updateWindow","canvasId","_this$props5","dialogContainer","backdropProps","placeholder","_this$props6","collection","isMultipart","ready","forceUpdate","rights","getProperty","requiredStatement","getRequiredStatement","l","getValue","labelValuePair","getValues","collections","getCollections","currentFilter","getUseableLabel","startIcon","goToPreviousCollection","collectionMetadata","ManifestInfo","CollapsibleSection","LabelValueMetadata","labelValuePairs","defaultLabel","v","Link","collectionFilter","getTotalCollections","Chip","clickable","setFilter","count","getTotalManifests","selectCollection","getManifests","selectManifest","resource","getLabel","_getWindow","collectionManifestId","collectionId","includes","workspace","collectionDialogOn","json","AudioViewer","GalleryView","SelectCollection","WindowViewer","VideoViewer","PrimaryWindow","audioResources","isCollection","videoResources","view","isCollectionDialogVisible","primaryWindow","fallback","renderViewer","manifestoInstance","MinimalWindow","ariaLabel","AccessTokenSender","onReceiveAccessTokenMessage","handleAccessTokenMessage","url","data","messageId","origin","NewWindow","released","checkIfWindowClosed","openWindow","close","clearInterval","depWindow","setInterval","closed","WindowAuthenticationBar","setOpen","onSubmit","onConfirm","confirmButton","continueLabel","header","description","ruleSet","hasLogoutService","status","ConfirmProps","buttonInvert","topBar","SanitizedHtml","htmlString","fauxButton","hoverOpacity","failure","lineHeight","textTransform","IIIFAuthentication","performLogout","payload","authServiceId","accessTokenServiceId","resolveAccessTokenRequest","logoutServiceId","resetAuthenticationState","tokenServiceId","isInteractive","logoutConfirm","defaultAuthBarProps","handleAuthInteraction","failureHeader","failureDescription","resolveAuthenticationRequest","renderLogin","_this$props7","confirm","_this$props8","renderLoggingInCookie","renderLoggingInToken","renderFailure","renderLoggedIn","services","service","accessTokenService","Utils","getService","logoutService","authStatuses","authStatus","accessTokens","accessTokenStatus","ok","authProfiles","profile","getProfile","external","kiosk","getConfirmLabel","getDescription","getFailureDescription","getFailureHeader","getHeader","Window","manifestError","onFocus","wrappedTopBar","middle","middleLeft","companionAreaBottom","companionAreaRight","thumbnailArea","thumbnailAreaBottom","thumbnailAreaRight","MosaicRenderPreview","preview","h4","MosaicLayout","layout","addedWindowIds","pathToCorner","parent","pathToParent","destination","nodeAtPath","removedWindowIds","windowPaths","removeUpdates","WorkspaceMosaic","tileRenderer","mosaicChange","determineWorkspaceLayout","updateWorkspaceMosaicLayout","newLayout","prevWindows","removedWindows","_newLayout","removeWindows","leaveKeys","addedWindows","addWindows","workspaceId","bookkeepPath","mosaicProps","globalReactMosaicStyles","touchAction","fallbacks","webkitBoxOrient","webkitBoxDirection","webkitBoxPack","webkitBoxAlign","webkitBoxFlex","textOverflow","WorkspaceElasticWindow","companionWindowDimensions","updateElasticWindowLayout","bounds","onDragStop","delta","Number","dragHandleClassName","WorkspaceElastic","elasticLayout","setWorkspaceViewportDimensions","setWorkspaceViewportPosition","viewportPosition","enableResizing","bottomLeft","bottomRight","topLeft","topRight","cancel","disableDragging","draggingEnabled","readImageMetadata","file","reject","reader","FileReader","image","readAsDataURL","onDrop","urls","URL","searchParams","files","imagePromise","manifestFiles","manifestPromises","manifestJson","readAsText","imageFiles","startsWith","imageData","all","images","items","format","motivation","_useDrop","FILE","_useDrop2","_useDrop2$","hackForSafari","safari","dataTransfer","types","getData","isActive","Workspace","handleDrop","allowNewWindows","maximizedWindows","zeroWindows","maximizedWindowIds","isWorkspaceControlPanelVisible","workspaceWithControlPanel","workspaceViewport","workspaceByType","workspaceControlPanel","enabled","ManifestForm","formValue","formSubmit","handleCancel","handleInputChange","addResourcesOpen","onCancel","that","addResource","InputLabelProps","shrink","InputProps","buttons","body1","ManifestListItemError","onDismissClick","onTryAgainClick","errorIcon","manifestIdText","wordBreak","ManifestListItem","handleOpenButtonClick","fetchManifest","provider","buttonRef","thumbnail","manifestLogo","ListItem","buttonGrid","alt","unloader","animation","logo","manifesto","getTotalItems","objectFit","gutters","WorkspaceAdd","setAddResourcesVisibility","scrollToTop","bool","scrollTo","behavior","catalog","manifestList","workspaceAdd","List","disablePadding","displayNone","disablePortal","hideBackdrop","form","menuButton","typographyBody","WorkspaceArea","controlPanelVariant","lang","clamp_1","throttle_1","RESIZE_THROTTLE_MS","TOUCH_EVENT_OPTIONS","capture","passive","listenersBound","isTouchEvent","bindListeners","unbindListeners","calculateRelativePercentage","onMouseMove","stopPropagation","throttledUpdatePercentage","computeStyle","componentDidMount","componentWillUnmount","positionStyle","minimumPaneSizePercentage","parentBBox","parentElement","location","changedTouches","relativePercentage","toNumber","clamp","deselectCurrent","clipboardToIE11Formatting","defaultMessage","copyKey","navigator","userAgent","debug","reselectPrevious","mark","createRange","textContent","clip","webkitUserSelect","MozUserSelect","msUserSelect","userSelect","clipboardData","console","warn","clearData","setData","appendChild","selectNodeContents","successful","execCommand","prompt","removeRange","removeChild","__createBinding","k2","__setModuleDefault","__importStar","Classes","IconNames","names","iconName","iconClass"],"mappings":"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","file":"js/chunk-5d48ca7d.74c3cec9.js","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MosaicWindowContext = exports.MosaicContext = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nexports.MosaicContext = react_1.default.createContext(undefined);\nexports.MosaicWindowContext = react_1.default.createContext(undefined);\n//# sourceMappingURL=contextTypes.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RemoveButton = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar contextTypes_1 = require(\"../contextTypes\");\nvar OptionalBlueprint_1 = require(\"../util/OptionalBlueprint\");\nvar MosaicButton_1 = require(\"./MosaicButton\");\nvar RemoveButton = /** @class */ (function (_super) {\n    __extends(RemoveButton, _super);\n    function RemoveButton() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RemoveButton.prototype.render = function () {\n        var _this = this;\n        return (react_1.default.createElement(contextTypes_1.MosaicContext.Consumer, null, function (_a) {\n            var mosaicActions = _a.mosaicActions;\n            return MosaicButton_1.createDefaultToolbarButton('Close Window', classnames_1.default('close-button', OptionalBlueprint_1.OptionalBlueprint.getIconClass('CROSS')), _this.createRemove(mosaicActions));\n        }));\n    };\n    RemoveButton.prototype.createRemove = function (mosaicActions) {\n        var _this = this;\n        return function () {\n            mosaicActions.remove(_this.context.mosaicWindowActions.getPath());\n            if (_this.props.onClick) {\n                _this.props.onClick();\n            }\n        };\n    };\n    RemoveButton.contextType = contextTypes_1.MosaicWindowContext;\n    return RemoveButton;\n}(react_1.default.PureComponent));\nexports.RemoveButton = RemoveButton;\n//# sourceMappingURL=RemoveButton.js.map","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 7l-5 5 5 5V7z\"\n}), 'ArrowLeftSharp');\n\nexports.default = _default;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assertNever = void 0;\nfunction assertNever(shouldBeNever) {\n    throw new Error('Unhandled case: ' + JSON.stringify(shouldBeNever));\n}\nexports.assertNever = assertNever;\n//# sourceMappingURL=assertNever.js.map","import * as React from 'react';\n/*\n * A utility for rendering a drag preview image\n */\n\nexport var DragPreviewImage = React.memo(function (_ref) {\n  var connect = _ref.connect,\n      src = _ref.src;\n\n  if (typeof Image !== 'undefined') {\n    var img = new Image();\n    img.src = src;\n\n    img.onload = function () {\n      return connect(img);\n    };\n  }\n\n  return null;\n});\nDragPreviewImage.displayName = 'DragPreviewImage';","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl =\n/*#__PURE__*/\nfunction () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    this.sourceId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport wrapConnectorHooks from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector =\n/*#__PURE__*/\nfunction () {\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dragSourceRef = null;\n    this.dragSourceOptionsInternal = null; // The drag preview may either be attached via ref or connect function\n\n    this.dragPreviewRef = null;\n    this.dragPreviewOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDragSource = null;\n    this.lastConnectedDragSourceOptions = null;\n    this.lastConnectedDragPreview = null;\n    this.lastConnectedDragPreviewOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (!this.handlerId) {\n        this.disconnectDragPreview();\n      } else if (this.dragPreview && didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.disconnectDragPreview();\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { registerSource } from '../../common/registration';\nimport { useDragDropManager } from './useDragDropManager';\nimport { DragSourceMonitorImpl } from '../../common/DragSourceMonitorImpl';\nimport { SourceConnector } from '../../common/SourceConnector';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nexport function useDragSourceMonitor() {\n  var manager = useDragDropManager();\n  var monitor = useMemo(function () {\n    return new DragSourceMonitorImpl(manager);\n  }, [manager]);\n  var connector = useMemo(function () {\n    return new SourceConnector(manager.getBackend());\n  }, [manager]);\n  return [monitor, connector];\n}\nexport function useDragHandler(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useMemo(function () {\n    return {\n      beginDrag: function beginDrag() {\n        var _spec$current = spec.current,\n            begin = _spec$current.begin,\n            item = _spec$current.item;\n\n        if (begin) {\n          var beginResult = begin(monitor);\n          invariant(beginResult == null || _typeof(beginResult) === 'object', 'dragSpec.begin() must either return an object, undefined, or null');\n          return beginResult || item || {};\n        }\n\n        return item || {};\n      },\n      canDrag: function canDrag() {\n        if (typeof spec.current.canDrag === 'boolean') {\n          return spec.current.canDrag;\n        } else if (typeof spec.current.canDrag === 'function') {\n          return spec.current.canDrag(monitor);\n        } else {\n          return true;\n        }\n      },\n      isDragging: function isDragging(globalMonitor, target) {\n        var isDragging = spec.current.isDragging;\n        return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n      },\n      endDrag: function endDrag() {\n        var end = spec.current.end;\n\n        if (end) {\n          end(monitor.getItem(), monitor);\n        }\n\n        connector.reconnect();\n      }\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function registerHandler() {\n    var _registerSource = registerSource(spec.current.item.type, handler, manager),\n        _registerSource2 = _slicedToArray(_registerSource, 2),\n        handlerId = _registerSource2[0],\n        unregister = _registerSource2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, []);\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useRef, useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { useMonitorOutput } from './internal/useMonitorOutput';\nimport { useIsomorphicLayoutEffect } from './internal/useIsomorphicLayoutEffect';\nimport { useDragSourceMonitor, useDragHandler } from './internal/drag';\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification *\n */\n\nexport function useDrag(spec) {\n  var specRef = useRef(spec);\n  specRef.current = spec; // TODO: wire options into createSourceConnector\n\n  invariant(spec.item != null, 'item must be defined');\n  invariant(spec.item.type != null, 'item type must be defined');\n\n  var _useDragSourceMonitor = useDragSourceMonitor(),\n      _useDragSourceMonitor2 = _slicedToArray(_useDragSourceMonitor, 2),\n      monitor = _useDragSourceMonitor2[0],\n      connector = _useDragSourceMonitor2[1];\n\n  useDragHandler(specRef, monitor, connector);\n  var result = useMonitorOutput(monitor, specRef.current.collect || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n  var connectDragSource = useMemo(function () {\n    return connector.hooks.dragSource();\n  }, [connector]);\n  var connectDragPreview = useMemo(function () {\n    return connector.hooks.dragPreview();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragSourceOptions = specRef.current.options || null;\n    connector.reconnect();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dragPreviewOptions = specRef.current.previewOptions || null;\n    connector.reconnect();\n  }, [connector]);\n  return [result, connectDragSource, connectDragPreview];\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\nexport function isFunction(input) {\n  return typeof input === 'function';\n}\nexport function noop() {// noop\n}\n\nfunction isObjectLike(input) {\n  return _typeof(input) === 'object' && input !== null;\n}\n\nexport function isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}","export function getDecoratedComponent(instanceRef) {\n  var currentRef = instanceRef.current;\n\n  if (currentRef == null) {\n    return null;\n  } else if (currentRef.decoratedRef) {\n    // go through the private field in decorateHandler to avoid the invariant hit\n    return currentRef.decoratedRef.current;\n  } else {\n    return currentRef;\n  }\n}\nexport function isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nexport function isRefForwardingComponent(C) {\n  return C && C.$$typeof && C.$$typeof.toString() === 'Symbol(react.forward_ref)';\n}\nexport function isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nexport function checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { isFunction, noop } from '../utils/js_utils';\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\n\nexport var Disposable =\n/*#__PURE__*/\nfunction () {\n  function Disposable(action) {\n    _classCallCheck(this, Disposable);\n\n    this.isDisposed = false;\n    this.action = isFunction(action) ? action : noop;\n  }\n  /**\n   * Validates whether the given object is a disposable\n   * @param {Object} Object to test whether it has a dispose method\n   * @returns {Boolean} true if a disposable object, else false.\n   */\n\n\n  _createClass(Disposable, [{\n    key: \"dispose\",\n\n    /** Performs the task of cleaning up resources. */\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.action();\n        this.isDisposed = true;\n      }\n    }\n  }], [{\n    key: \"isDisposable\",\n    value: function isDisposable(d) {\n      return d && isFunction(d.dispose);\n    }\n  }, {\n    key: \"_fixup\",\n    value: function _fixup(result) {\n      return Disposable.isDisposable(result) ? result : Disposable.empty;\n    }\n    /**\n     * Creates a disposable object that invokes the specified action when disposed.\n     * @param {Function} dispose Action to run during the first call to dispose.\n     * The action is guaranteed to be run at most once.\n     * @return {Disposable} The disposable object that runs the given action upon disposal.\n     */\n\n  }, {\n    key: \"create\",\n    value: function create(action) {\n      return new Disposable(action);\n    }\n  }]);\n\n  return Disposable;\n}();\n/**\n * Gets the disposable that does nothing when disposed.\n */\n\nDisposable.empty = {\n  dispose: noop\n};\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\n\nexport var CompositeDisposable =\n/*#__PURE__*/\nfunction () {\n  function CompositeDisposable() {\n    _classCallCheck(this, CompositeDisposable);\n\n    this.isDisposed = false;\n\n    for (var _len = arguments.length, disposables = new Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    this.disposables = disposables;\n  }\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Any} item Disposable to add.\n   */\n\n\n  _createClass(CompositeDisposable, [{\n    key: \"add\",\n    value: function add(item) {\n      if (this.isDisposed) {\n        item.dispose();\n      } else {\n        this.disposables.push(item);\n      }\n    }\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var shouldDispose = false;\n\n      if (!this.isDisposed) {\n        var idx = this.disposables.indexOf(item);\n\n        if (idx !== -1) {\n          shouldDispose = true;\n          this.disposables.splice(idx, 1);\n          item.dispose();\n        }\n      }\n\n      return shouldDispose;\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.isDisposed) {\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i = 0; _i < len; _i++) {\n          currentDisposables[_i].dispose();\n        }\n      }\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i2 = 0; _i2 < len; _i2++) {\n          currentDisposables[_i2].dispose();\n        }\n      }\n    }\n  }]);\n\n  return CompositeDisposable;\n}();\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\n\nexport var SerialDisposable =\n/*#__PURE__*/\nfunction () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    this.isDisposed = false;\n  }\n  /**\n   * Gets the underlying disposable.\n   * @returns {Any} the underlying disposable.\n   */\n\n\n  _createClass(SerialDisposable, [{\n    key: \"getDisposable\",\n    value: function getDisposable() {\n      return this.current;\n    }\n  }, {\n    key: \"setDisposable\",\n    value: function setDisposable(value) {\n      var shouldDispose = this.isDisposed;\n\n      if (!shouldDispose) {\n        var old = this.current;\n        this.current = value;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n\n      if (shouldDispose && value) {\n        value.dispose();\n      }\n    }\n    /** Performs the task of cleaning up resources. */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var old = this.current;\n        this.current = undefined;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n    }\n  }]);\n\n  return SerialDisposable;\n}();","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { DndContext } from '../index';\nimport { isPlainObject } from '../utils/js_utils';\nimport { Disposable, CompositeDisposable, SerialDisposable } from './disposables';\nimport { isRefable } from './utils';\nexport default function decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n  var Decorated = DecoratedComponent;\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer =\n  /*#__PURE__*/\n  function (_React$Component) {\n    _inherits(DragDropContainer, _React$Component);\n\n    function DragDropContainer(props) {\n      var _this;\n\n      _classCallCheck(this, DragDropContainer);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(DragDropContainer).call(this, props));\n      _this.decoratedRef = React.createRef();\n\n      _this.handleChange = function () {\n        var nextState = _this.getCurrentState();\n\n        if (!shallowEqual(nextState, _this.state)) {\n          _this.setState(nextState);\n        }\n      };\n\n      _this.disposable = new SerialDisposable();\n\n      _this.receiveProps(props);\n\n      _this.dispose();\n\n      return _this;\n    }\n\n    _createClass(DragDropContainer, [{\n      key: \"getHandlerId\",\n      value: function getHandlerId() {\n        return this.handlerId;\n      }\n    }, {\n      key: \"getDecoratedComponentInstance\",\n      value: function getDecoratedComponentInstance() {\n        invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n        return this.decoratedRef.current;\n      }\n    }, {\n      key: \"shouldComponentUpdate\",\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        this.disposable = new SerialDisposable();\n        this.currentType = undefined;\n        this.receiveProps(this.props);\n        this.handleChange();\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        if (!arePropsEqual(this.props, prevProps)) {\n          this.receiveProps(this.props);\n          this.handleChange();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.dispose();\n      }\n    }, {\n      key: \"receiveProps\",\n      value: function receiveProps(props) {\n        if (!this.handler) {\n          return;\n        }\n\n        this.handler.receiveProps(props);\n        this.receiveType(getType(props));\n      }\n    }, {\n      key: \"receiveType\",\n      value: function receiveType(type) {\n        if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n          return;\n        }\n\n        if (type === this.currentType) {\n          return;\n        }\n\n        this.currentType = type;\n\n        var _registerHandler = registerHandler(type, this.handler, this.manager),\n            _registerHandler2 = _slicedToArray(_registerHandler, 2),\n            handlerId = _registerHandler2[0],\n            unregister = _registerHandler2[1];\n\n        this.handlerId = handlerId;\n        this.handlerMonitor.receiveHandlerId(handlerId);\n        this.handlerConnector.receiveHandlerId(handlerId);\n        var globalMonitor = this.manager.getMonitor();\n        var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, {\n          handlerIds: [handlerId]\n        });\n        this.disposable.setDisposable(new CompositeDisposable(new Disposable(unsubscribe), new Disposable(unregister)));\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        this.disposable.dispose();\n\n        if (this.handlerConnector) {\n          this.handlerConnector.receiveHandlerId(null);\n        }\n      }\n    }, {\n      key: \"getCurrentState\",\n      value: function getCurrentState() {\n        if (!this.handlerConnector) {\n          return {};\n        }\n\n        var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);\n\n        if (process.env.NODE_ENV !== 'production') {\n          invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n        }\n\n        return nextState;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        return React.createElement(DndContext.Consumer, null, function (_ref2) {\n          var dragDropManager = _ref2.dragDropManager;\n\n          _this2.receiveDragDropManager(dragDropManager);\n\n          if (typeof requestAnimationFrame !== 'undefined') {\n            requestAnimationFrame(function () {\n              return _this2.handlerConnector.reconnect();\n            });\n          }\n\n          return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.getCurrentState(), {\n            // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.\n            ref: isRefable(Decorated) ? _this2.decoratedRef : null\n          }));\n        });\n      }\n    }, {\n      key: \"receiveDragDropManager\",\n      value: function receiveDragDropManager(dragDropManager) {\n        if (this.manager !== undefined) {\n          return;\n        }\n\n        invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n        if (dragDropManager === undefined) {\n          return;\n        }\n\n        this.manager = dragDropManager;\n        this.handlerMonitor = createMonitor(dragDropManager);\n        this.handlerConnector = createConnector(dragDropManager.getBackend());\n        this.handler = createHandler(this.handlerMonitor, this.decoratedRef);\n      }\n    }]);\n\n    return DragDropContainer;\n  }(React.Component);\n\n  DragDropContainer.DecoratedComponent = DecoratedComponent;\n  DragDropContainer.displayName = \"\".concat(containerDisplayName, \"(\").concat(displayName, \")\");\n  return hoistStatics(DragDropContainer, DecoratedComponent);\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isValidType(type, allowArray) {\n  return typeof type === 'string' || _typeof(type) === 'symbol' || !!allowArray && Array.isArray(type) && type.every(function (t) {\n    return isValidType(t, false);\n  });\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\n\nvar SourceImpl =\n/*#__PURE__*/\nfunction () {\n  function SourceImpl(spec, monitor, ref) {\n    var _this = this;\n\n    _classCallCheck(this, SourceImpl);\n\n    this.props = null;\n\n    this.beginDrag = function () {\n      if (!_this.props) {\n        return;\n      }\n\n      var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);\n      }\n\n      return item;\n    };\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(SourceImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.canDrag) {\n        return true;\n      }\n\n      return this.spec.canDrag(this.props, this.monitor);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, sourceId) {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.isDragging) {\n        return sourceId === globalMonitor.getSourceId();\n      }\n\n      return this.spec.isDragging(this.props, this.monitor);\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      if (!this.props) {\n        return;\n      }\n\n      if (!this.spec.endDrag) {\n        return;\n      }\n\n      this.spec.endDrag(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }]);\n\n  return SourceImpl;\n}();\n\nexport default function createSourceFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  REQUIRED_SPEC_METHODS.forEach(function (key) {\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  return function createSource(monitor, ref) {\n    return new SourceImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { checkDecoratorArguments } from './utils';\nimport decorateHandler from './decorateHandler';\nimport { registerSource } from '../common/registration';\nimport { DragSourceMonitorImpl } from '../common/DragSourceMonitorImpl';\nimport { SourceConnector } from '../common/SourceConnector';\nimport { isValidType } from '../utils/isValidType';\nimport createSourceFactory from './createSourceFactory';\n/**\n * Decorates a component as a dragsource\n * @param type The dragsource type\n * @param spec The drag source specification\n * @param collect The props collector function\n * @param options DnD options\n */\n\nexport function DragSource(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type), 'Expected \"type\" provided as the first argument to DragSource to be ' + 'a string, or a function that returns a string given the current props. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DragSource to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', spec);\n  var createSource = createSourceFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DragSource to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DragSource to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  return function decorateSource(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DragSource',\n      createHandler: createSource,\n      registerHandler: registerSource,\n      createConnector: function createConnector(backend) {\n        return new SourceConnector(backend);\n      },\n      createMonitor: function createMonitor(manager) {\n        return new DragSourceMonitorImpl(manager);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nvar TargetImpl =\n/*#__PURE__*/\nfunction () {\n  function TargetImpl(spec, monitor, ref) {\n    _classCallCheck(this, TargetImpl);\n\n    this.props = null;\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(TargetImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"receiveMonitor\",\n    value: function receiveMonitor(monitor) {\n      this.monitor = monitor;\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      if (!this.spec.canDrop) {\n        return true;\n      }\n\n      return this.spec.canDrop(this.props, this.monitor);\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      if (!this.spec.hover) {\n        return;\n      }\n\n      this.spec.hover(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      if (!this.spec.drop) {\n        return undefined;\n      }\n\n      var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);\n      }\n\n      return dropResult;\n    }\n  }]);\n\n  return TargetImpl;\n}();\n\nexport default function createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);\n  });\n  return function createTarget(monitor, ref) {\n    return new TargetImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { registerTarget } from '../common/registration';\nimport { isValidType } from '../utils/isValidType';\nimport { TargetConnector } from '../common/TargetConnector';\nimport { DropTargetMonitorImpl } from '../common/DropTargetMonitorImpl';\nimport { checkDecoratorArguments } from './utils';\nimport decorateHandler from './decorateHandler';\nimport createTargetFactory from './createTargetFactory';\nexport function DropTarget(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' + 'a string, an array of strings, or a function that returns either given ' + 'the current props. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);\n  var createTarget = createTargetFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  return function decorateTarget(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DropTarget',\n      createHandler: createTarget,\n      registerHandler: registerTarget,\n      createMonitor: function createMonitor(manager) {\n        return new DropTargetMonitorImpl(manager);\n      },\n      createConnector: function createConnector(backend) {\n        return new TargetConnector(backend);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../index';\nimport { isPlainObject } from '../utils/js_utils';\nimport { isRefable, checkDecoratorArguments } from './utils';\nexport function DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  checkDecoratorArguments('DragLayer', 'collect[, options]', collect, options);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' + 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);\n  return function decorateLayer(DecoratedComponent) {\n    var Decorated = DecoratedComponent;\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n    var displayName = Decorated.displayName || Decorated.name || 'Component';\n\n    var DragLayerContainer =\n    /*#__PURE__*/\n    function (_React$Component) {\n      _inherits(DragLayerContainer, _React$Component);\n\n      function DragLayerContainer() {\n        var _this;\n\n        _classCallCheck(this, DragLayerContainer);\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(DragLayerContainer).apply(this, arguments));\n        _this.isCurrentlyMounted = false;\n        _this.ref = React.createRef();\n\n        _this.handleChange = function () {\n          if (!_this.isCurrentlyMounted) {\n            return;\n          }\n\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        };\n\n        return _this;\n      }\n\n      _createClass(DragLayerContainer, [{\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.ref.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.isCurrentlyMounted = true;\n          this.handleChange();\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.isCurrentlyMounted = false;\n\n          if (this.unsubscribeFromOffsetChange) {\n            this.unsubscribeFromOffsetChange();\n            this.unsubscribeFromOffsetChange = undefined;\n          }\n\n          if (this.unsubscribeFromStateChange) {\n            this.unsubscribeFromStateChange();\n            this.unsubscribeFromStateChange = undefined;\n          }\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return React.createElement(DndContext.Consumer, null, function (_ref) {\n            var dragDropManager = _ref.dragDropManager;\n\n            if (dragDropManager === undefined) {\n              return null;\n            }\n\n            _this2.receiveDragDropManager(dragDropManager); // Let componentDidMount fire to initialize the collected state\n\n\n            if (!_this2.isCurrentlyMounted) {\n              return null;\n            }\n\n            return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.state, {\n              ref: isRefable(Decorated) ? _this2.ref : null\n            }));\n          });\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          invariant(_typeof(dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n          var monitor = this.manager.getMonitor();\n          this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n          this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.manager) {\n            return {};\n          }\n\n          var monitor = this.manager.getMonitor();\n          return collect(monitor, this.props);\n        }\n      }]);\n\n      return DragLayerContainer;\n    }(React.Component);\n\n    DragLayerContainer.displayName = \"DragLayer(\".concat(displayName, \")\");\n    DragLayerContainer.DecoratedComponent = DecoratedComponent;\n    return hoistStatics(DragLayerContainer, DecoratedComponent);\n  };\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 3H3v18h18V3zm-2 16H5V5h14v14z\"\n}), 'CropDinSharp');\n\nexports.default = _default;","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Mosaic = exports.MosaicWithoutDragDropContext = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar countBy_1 = __importDefault(require(\"lodash/countBy\"));\nvar keys_1 = __importDefault(require(\"lodash/keys\"));\nvar pickBy_1 = __importDefault(require(\"lodash/pickBy\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar react_dnd_1 = require(\"react-dnd\");\nvar react_dnd_multi_backend_1 = __importDefault(require(\"react-dnd-multi-backend\"));\nvar HTML5toTouch_1 = __importDefault(require(\"react-dnd-multi-backend/dist/cjs/HTML5toTouch\"));\nvar uuid_1 = require(\"uuid\");\nvar contextTypes_1 = require(\"./contextTypes\");\nvar MosaicRoot_1 = require(\"./MosaicRoot\");\nvar MosaicZeroState_1 = require(\"./MosaicZeroState\");\nvar RootDropTargets_1 = require(\"./RootDropTargets\");\nvar mosaicUpdates_1 = require(\"./util/mosaicUpdates\");\nvar mosaicUtilities_1 = require(\"./util/mosaicUtilities\");\nvar DEFAULT_EXPAND_PERCENTAGE = 70;\nfunction isUncontrolled(props) {\n    return props.initialValue != null;\n}\nvar MosaicWithoutDragDropContext = /** @class */ (function (_super) {\n    __extends(MosaicWithoutDragDropContext, _super);\n    function MosaicWithoutDragDropContext() {\n        var _a;\n        var _this = _super.apply(this, arguments) || this;\n        _this.state = {\n            currentNode: null,\n            lastInitialValue: null,\n            mosaicId: (_a = _this.props.mosaicId) !== null && _a !== void 0 ? _a : uuid_1.v4(),\n        };\n        _this.updateRoot = function (updates, suppressOnRelease) {\n            if (suppressOnRelease === void 0) { suppressOnRelease = false; }\n            var currentNode = _this.getRoot() || {};\n            _this.replaceRoot(mosaicUpdates_1.updateTree(currentNode, updates), suppressOnRelease);\n        };\n        _this.replaceRoot = function (currentNode, suppressOnRelease) {\n            if (suppressOnRelease === void 0) { suppressOnRelease = false; }\n            _this.props.onChange(currentNode);\n            if (!suppressOnRelease && _this.props.onRelease) {\n                _this.props.onRelease(currentNode);\n            }\n            if (isUncontrolled(_this.props)) {\n                _this.setState({ currentNode: currentNode });\n            }\n        };\n        _this.actions = {\n            updateTree: _this.updateRoot,\n            remove: function (path) {\n                if (path.length === 0) {\n                    _this.replaceRoot(null);\n                }\n                else {\n                    _this.updateRoot([mosaicUpdates_1.createRemoveUpdate(_this.getRoot(), path)]);\n                }\n            },\n            expand: function (path, percentage) {\n                if (percentage === void 0) { percentage = DEFAULT_EXPAND_PERCENTAGE; }\n                return _this.updateRoot([mosaicUpdates_1.createExpandUpdate(path, percentage)]);\n            },\n            getRoot: function () { return _this.getRoot(); },\n            hide: function (path) { return _this.updateRoot([mosaicUpdates_1.createHideUpdate(path)]); },\n            replaceWith: function (path, newNode) {\n                return _this.updateRoot([\n                    {\n                        path: path,\n                        spec: {\n                            $set: newNode,\n                        },\n                    },\n                ]);\n            },\n        };\n        _this.childContext = {\n            mosaicActions: _this.actions,\n            mosaicId: _this.state.mosaicId,\n        };\n        return _this;\n    }\n    MosaicWithoutDragDropContext.getDerivedStateFromProps = function (nextProps, prevState) {\n        if (nextProps.mosaicId && prevState.mosaicId !== nextProps.mosaicId && process.env.NODE_ENV !== 'production') {\n            throw new Error('Mosaic does not support updating the mosaicId after instantiation');\n        }\n        if (isUncontrolled(nextProps) && nextProps.initialValue !== prevState.lastInitialValue) {\n            return {\n                lastInitialValue: nextProps.initialValue,\n                currentNode: nextProps.initialValue,\n            };\n        }\n        return null;\n    };\n    MosaicWithoutDragDropContext.prototype.render = function () {\n        var className = this.props.className;\n        return (react_1.default.createElement(contextTypes_1.MosaicContext.Provider, { value: this.childContext },\n            react_1.default.createElement(\"div\", { className: classnames_1.default(className, 'mosaic mosaic-drop-target') },\n                this.renderTree(),\n                react_1.default.createElement(RootDropTargets_1.RootDropTargets, null))));\n    };\n    MosaicWithoutDragDropContext.prototype.getRoot = function () {\n        if (isUncontrolled(this.props)) {\n            return this.state.currentNode;\n        }\n        else {\n            return this.props.value;\n        }\n    };\n    MosaicWithoutDragDropContext.prototype.renderTree = function () {\n        var root = this.getRoot();\n        this.validateTree(root);\n        if (root === null || root === undefined) {\n            return this.props.zeroStateView;\n        }\n        else {\n            var _a = this.props, renderTile = _a.renderTile, resize = _a.resize;\n            return react_1.default.createElement(MosaicRoot_1.MosaicRoot, { root: root, renderTile: renderTile, resize: resize });\n        }\n    };\n    MosaicWithoutDragDropContext.prototype.validateTree = function (node) {\n        if (process.env.NODE_ENV !== 'production') {\n            var duplicates = keys_1.default(pickBy_1.default(countBy_1.default(mosaicUtilities_1.getLeaves(node)), function (n) { return n > 1; }));\n            if (duplicates.length > 0) {\n                throw new Error(\"Duplicate IDs [\" + duplicates.join(', ') + \"] detected. Mosaic does not support leaves with the same ID\");\n            }\n        }\n    };\n    MosaicWithoutDragDropContext.defaultProps = {\n        onChange: function () { return void 0; },\n        zeroStateView: react_1.default.createElement(MosaicZeroState_1.MosaicZeroState, null),\n        className: 'mosaic-blueprint-theme',\n    };\n    return MosaicWithoutDragDropContext;\n}(react_1.default.PureComponent));\nexports.MosaicWithoutDragDropContext = MosaicWithoutDragDropContext;\nvar Mosaic = /** @class */ (function (_super) {\n    __extends(Mosaic, _super);\n    function Mosaic() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Mosaic.prototype.render = function () {\n        return (react_1.default.createElement(react_dnd_1.DndProvider, { backend: react_dnd_multi_backend_1.default, options: HTML5toTouch_1.default },\n            react_1.default.createElement(MosaicWithoutDragDropContext, __assign({}, this.props))));\n    };\n    return Mosaic;\n}(react_1.default.PureComponent));\nexports.Mosaic = Mosaic;\n//# sourceMappingURL=Mosaic.js.map","var baseSlice = require('./_baseSlice'),\n    toInteger = require('./toInteger');\n\n/**\n * Creates a slice of `array` with `n` elements dropped from the end.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=1] The number of elements to drop.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.dropRight([1, 2, 3]);\n * // => [1, 2]\n *\n * _.dropRight([1, 2, 3], 2);\n * // => [1]\n *\n * _.dropRight([1, 2, 3], 5);\n * // => []\n *\n * _.dropRight([1, 2, 3], 0);\n * // => [1, 2, 3]\n */\nfunction dropRight(array, n, guard) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return [];\n  }\n  n = (guard || n === undefined) ? 1 : toInteger(n);\n  n = length - n;\n  return baseSlice(array, 0, n < 0 ? 0 : n);\n}\n\nmodule.exports = dropRight;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z\"\n}), 'ViewColumn');\n\nexports.default = _default;","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_CONTROLS_WITHOUT_CREATION = exports.DEFAULT_CONTROLS_WITH_CREATION = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar ExpandButton_1 = require(\"./ExpandButton\");\nvar RemoveButton_1 = require(\"./RemoveButton\");\nvar ReplaceButton_1 = require(\"./ReplaceButton\");\nvar SplitButton_1 = require(\"./SplitButton\");\nexports.DEFAULT_CONTROLS_WITH_CREATION = react_1.default.Children.toArray([\n    react_1.default.createElement(ReplaceButton_1.ReplaceButton, null),\n    react_1.default.createElement(SplitButton_1.SplitButton, null),\n    react_1.default.createElement(ExpandButton_1.ExpandButton, null),\n    react_1.default.createElement(RemoveButton_1.RemoveButton, null),\n]);\nexports.DEFAULT_CONTROLS_WITHOUT_CREATION = react_1.default.Children.toArray([react_1.default.createElement(ExpandButton_1.ExpandButton, null), react_1.default.createElement(RemoveButton_1.RemoveButton, null)]);\n//# sourceMappingURL=defaultToolbarControls.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExpandButton = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar contextTypes_1 = require(\"../contextTypes\");\nvar OptionalBlueprint_1 = require(\"../util/OptionalBlueprint\");\nvar MosaicButton_1 = require(\"./MosaicButton\");\nvar ExpandButton = /** @class */ (function (_super) {\n    __extends(ExpandButton, _super);\n    function ExpandButton() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ExpandButton.prototype.render = function () {\n        var _this = this;\n        return (react_1.default.createElement(contextTypes_1.MosaicContext.Consumer, null, function (_a) {\n            var mosaicActions = _a.mosaicActions;\n            return MosaicButton_1.createDefaultToolbarButton('Expand', classnames_1.default('expand-button', OptionalBlueprint_1.OptionalBlueprint.getIconClass('MAXIMIZE')), _this.createExpand(mosaicActions));\n        }));\n    };\n    ExpandButton.prototype.createExpand = function (mosaicActions) {\n        var _this = this;\n        return function () {\n            mosaicActions.expand(_this.context.mosaicWindowActions.getPath());\n            if (_this.props.onClick) {\n                _this.props.onClick();\n            }\n        };\n    };\n    ExpandButton.contextType = contextTypes_1.MosaicWindowContext;\n    return ExpandButton;\n}(react_1.default.PureComponent));\nexports.ExpandButton = ExpandButton;\n//# sourceMappingURL=ExpandButton.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MosaicDragType = void 0;\n/**\n * Used by `react-dnd`\n * @type {{WINDOW: string}}\n */\nexports.MosaicDragType = {\n    WINDOW: 'MosaicWindow',\n};\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MosaicDropTargetPosition = void 0;\nexports.MosaicDropTargetPosition = {\n    TOP: 'top',\n    BOTTOM: 'bottom',\n    LEFT: 'left',\n    RIGHT: 'right',\n};\n//# sourceMappingURL=internalTypes.js.map","\"use strict\";\n\nvar _require = require('./Component'),\n    CopyToClipboard = _require.CopyToClipboard;\n\nCopyToClipboard.CopyToClipboard = CopyToClipboard;\nmodule.exports = CopyToClipboard;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z\"\n}), 'ExpandMoreSharp');\n\nexports.default = _default;","exports.nextTick = function nextTick(fn) {\n    var args = Array.prototype.slice.call(arguments);\n    args.shift();\n    setTimeout(function () {\n        fn.apply(null, args);\n    }, 0);\n};\n\nexports.platform = exports.arch = \nexports.execPath = exports.title = 'browser';\nexports.pid = 1;\nexports.browser = true;\nexports.env = {};\nexports.argv = [];\n\nexports.binding = function (name) {\n\tthrow new Error('No such module. (Possibly not yet loaded)')\n};\n\n(function () {\n    var cwd = '/';\n    var path;\n    exports.cwd = function () { return cwd };\n    exports.chdir = function (dir) {\n        if (!path) path = require('path');\n        cwd = path.resolve(dir, cwd);\n    };\n})();\n\nexports.exit = exports.kill = \nexports.umask = exports.dlopen = \nexports.uptime = exports.memoryUsage = \nexports.uvCounters = function() {};\nexports.features = {};\n","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nimport { useCollector } from './useCollector';\nexport function useMonitorOutput(monitor, collect, onCollect) {\n  var _useCollector = useCollector(monitor, collect, onCollect),\n      _useCollector2 = _slicedToArray(_useCollector, 2),\n      collected = _useCollector2[0],\n      updateCollected = _useCollector2[1];\n\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    var handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return undefined;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction stringifiable(obj) {\n    // Safely stringify Object.create(null)\n    /* istanbul ignore next */\n    return typeof obj === 'object' && !('toString' in obj) ?\n        Object.prototype.toString.call(obj).slice(8, -1) :\n        obj;\n}\nvar isProduction = typeof process === 'object' && process.env.NODE_ENV === 'production';\nfunction invariant(condition, message) {\n    if (!condition) {\n        /* istanbul ignore next */\n        if (isProduction) {\n            throw new Error('Invariant failed');\n        }\n        throw new Error(message());\n    }\n}\nexports.invariant = invariant;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar splice = Array.prototype.splice;\nvar toString = Object.prototype.toString;\nfunction type(obj) {\n    return toString.call(obj).slice(8, -1);\n}\nvar assign = Object.assign || /* istanbul ignore next */ (function (target, source) {\n    getAllKeys(source).forEach(function (key) {\n        if (hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n        }\n    });\n    return target;\n});\nvar getAllKeys = typeof Object.getOwnPropertySymbols === 'function'\n    ? function (obj) { return Object.keys(obj).concat(Object.getOwnPropertySymbols(obj)); }\n    /* istanbul ignore next */\n    : function (obj) { return Object.keys(obj); };\nfunction copy(object) {\n    return Array.isArray(object)\n        ? assign(object.constructor(object.length), object)\n        : (type(object) === 'Map')\n            ? new Map(object)\n            : (type(object) === 'Set')\n                ? new Set(object)\n                : (object && typeof object === 'object')\n                    ? assign(Object.create(Object.getPrototypeOf(object)), object)\n                    /* istanbul ignore next */\n                    : object;\n}\nvar Context = /** @class */ (function () {\n    function Context() {\n        this.commands = assign({}, defaultCommands);\n        this.update = this.update.bind(this);\n        // Deprecated: update.extend, update.isEquals and update.newContext\n        this.update.extend = this.extend = this.extend.bind(this);\n        this.update.isEquals = function (x, y) { return x === y; };\n        this.update.newContext = function () { return new Context().update; };\n    }\n    Object.defineProperty(Context.prototype, \"isEquals\", {\n        get: function () {\n            return this.update.isEquals;\n        },\n        set: function (value) {\n            this.update.isEquals = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Context.prototype.extend = function (directive, fn) {\n        this.commands[directive] = fn;\n    };\n    Context.prototype.update = function (object, $spec) {\n        var _this = this;\n        var spec = (typeof $spec === 'function') ? { $apply: $spec } : $spec;\n        if (!(Array.isArray(object) && Array.isArray(spec))) {\n            invariant(!Array.isArray(spec), function () { return \"update(): You provided an invalid spec to update(). The spec may \" +\n                \"not contain an array except as the value of $set, $push, $unshift, \" +\n                \"$splice or any custom command allowing an array value.\"; });\n        }\n        invariant(typeof spec === 'object' && spec !== null, function () { return \"update(): You provided an invalid spec to update(). The spec and \" +\n            \"every included key path must be plain objects containing one of the \" +\n            (\"following commands: \" + Object.keys(_this.commands).join(', ') + \".\"); });\n        var nextObject = object;\n        getAllKeys(spec).forEach(function (key) {\n            if (hasOwnProperty.call(_this.commands, key)) {\n                var objectWasNextObject = object === nextObject;\n                nextObject = _this.commands[key](spec[key], nextObject, spec, object);\n                if (objectWasNextObject && _this.isEquals(nextObject, object)) {\n                    nextObject = object;\n                }\n            }\n            else {\n                var nextValueForKey = type(object) === 'Map'\n                    ? _this.update(object.get(key), spec[key])\n                    : _this.update(object[key], spec[key]);\n                var nextObjectValue = type(nextObject) === 'Map'\n                    ? nextObject.get(key)\n                    : nextObject[key];\n                if (!_this.isEquals(nextValueForKey, nextObjectValue)\n                    || typeof nextValueForKey === 'undefined'\n                        && !hasOwnProperty.call(object, key)) {\n                    if (nextObject === object) {\n                        nextObject = copy(object);\n                    }\n                    if (type(nextObject) === 'Map') {\n                        nextObject.set(key, nextValueForKey);\n                    }\n                    else {\n                        nextObject[key] = nextValueForKey;\n                    }\n                }\n            }\n        });\n        return nextObject;\n    };\n    return Context;\n}());\nexports.Context = Context;\nvar defaultCommands = {\n    $push: function (value, nextObject, spec) {\n        invariantPushAndUnshift(nextObject, spec, '$push');\n        return value.length ? nextObject.concat(value) : nextObject;\n    },\n    $unshift: function (value, nextObject, spec) {\n        invariantPushAndUnshift(nextObject, spec, '$unshift');\n        return value.length ? value.concat(nextObject) : nextObject;\n    },\n    $splice: function (value, nextObject, spec, originalObject) {\n        invariantSplices(nextObject, spec);\n        value.forEach(function (args) {\n            invariantSplice(args);\n            if (nextObject === originalObject && args.length) {\n                nextObject = copy(originalObject);\n            }\n            splice.apply(nextObject, args);\n        });\n        return nextObject;\n    },\n    $set: function (value, _nextObject, spec) {\n        invariantSet(spec);\n        return value;\n    },\n    $toggle: function (targets, nextObject) {\n        invariantSpecArray(targets, '$toggle');\n        var nextObjectCopy = targets.length ? copy(nextObject) : nextObject;\n        targets.forEach(function (target) {\n            nextObjectCopy[target] = !nextObject[target];\n        });\n        return nextObjectCopy;\n    },\n    $unset: function (value, nextObject, _spec, originalObject) {\n        invariantSpecArray(value, '$unset');\n        value.forEach(function (key) {\n            if (Object.hasOwnProperty.call(nextObject, key)) {\n                if (nextObject === originalObject) {\n                    nextObject = copy(originalObject);\n                }\n                delete nextObject[key];\n            }\n        });\n        return nextObject;\n    },\n    $add: function (values, nextObject, _spec, originalObject) {\n        invariantMapOrSet(nextObject, '$add');\n        invariantSpecArray(values, '$add');\n        if (type(nextObject) === 'Map') {\n            values.forEach(function (_a) {\n                var key = _a[0], value = _a[1];\n                if (nextObject === originalObject && nextObject.get(key) !== value) {\n                    nextObject = copy(originalObject);\n                }\n                nextObject.set(key, value);\n            });\n        }\n        else {\n            values.forEach(function (value) {\n                if (nextObject === originalObject && !nextObject.has(value)) {\n                    nextObject = copy(originalObject);\n                }\n                nextObject.add(value);\n            });\n        }\n        return nextObject;\n    },\n    $remove: function (value, nextObject, _spec, originalObject) {\n        invariantMapOrSet(nextObject, '$remove');\n        invariantSpecArray(value, '$remove');\n        value.forEach(function (key) {\n            if (nextObject === originalObject && nextObject.has(key)) {\n                nextObject = copy(originalObject);\n            }\n            nextObject.delete(key);\n        });\n        return nextObject;\n    },\n    $merge: function (value, nextObject, _spec, originalObject) {\n        invariantMerge(nextObject, value);\n        getAllKeys(value).forEach(function (key) {\n            if (value[key] !== nextObject[key]) {\n                if (nextObject === originalObject) {\n                    nextObject = copy(originalObject);\n                }\n                nextObject[key] = value[key];\n            }\n        });\n        return nextObject;\n    },\n    $apply: function (value, original) {\n        invariantApply(value);\n        return value(original);\n    },\n};\nvar defaultContext = new Context();\nexports.isEquals = defaultContext.update.isEquals;\nexports.extend = defaultContext.extend;\nexports.default = defaultContext.update;\n// @ts-ignore\nexports.default.default = module.exports = assign(exports.default, exports);\n// invariants\nfunction invariantPushAndUnshift(value, spec, command) {\n    invariant(Array.isArray(value), function () { return \"update(): expected target of \" + stringifiable(command) + \" to be an array; got \" + stringifiable(value) + \".\"; });\n    invariantSpecArray(spec[command], command);\n}\nfunction invariantSpecArray(spec, command) {\n    invariant(Array.isArray(spec), function () { return \"update(): expected spec of \" + stringifiable(command) + \" to be an array; got \" + stringifiable(spec) + \". \" +\n        \"Did you forget to wrap your parameter in an array?\"; });\n}\nfunction invariantSplices(value, spec) {\n    invariant(Array.isArray(value), function () { return \"Expected $splice target to be an array; got \" + stringifiable(value); });\n    invariantSplice(spec.$splice);\n}\nfunction invariantSplice(value) {\n    invariant(Array.isArray(value), function () { return \"update(): expected spec of $splice to be an array of arrays; got \" + stringifiable(value) + \". \" +\n        \"Did you forget to wrap your parameters in an array?\"; });\n}\nfunction invariantApply(fn) {\n    invariant(typeof fn === 'function', function () { return \"update(): expected spec of $apply to be a function; got \" + stringifiable(fn) + \".\"; });\n}\nfunction invariantSet(spec) {\n    invariant(Object.keys(spec).length === 1, function () { return \"Cannot have more than one key in an object with $set\"; });\n}\nfunction invariantMerge(target, specValue) {\n    invariant(specValue && typeof specValue === 'object', function () { return \"update(): $merge expects a spec of type 'object'; got \" + stringifiable(specValue); });\n    invariant(target && typeof target === 'object', function () { return \"update(): $merge expects a target of type 'object'; got \" + stringifiable(target); });\n}\nfunction invariantMapOrSet(target, command) {\n    var typeOfTarget = type(target);\n    invariant(typeOfTarget === 'Map' || typeOfTarget === 'Set', function () { return \"update(): \" + stringifiable(command) + \" expects a target of type Set or Map; got \" + stringifiable(typeOfTarget); });\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\"\n}), 'PaletteSharp');\n\nexports.default = _default;","/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * The base implementation of `_.delay` and `_.defer` which accepts `args`\n * to provide to `func`.\n *\n * @private\n * @param {Function} func The function to delay.\n * @param {number} wait The number of milliseconds to delay invocation.\n * @param {Array} args The arguments to provide to `func`.\n * @returns {number|Object} Returns the timer id or timeout object.\n */\nfunction baseDelay(func, wait, args) {\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  return setTimeout(function() { func.apply(undefined, args); }, wait);\n}\n\nmodule.exports = baseDelay;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'MoreHorizSharp');\n\nexports.default = _default;","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && obj.hasOwnProperty('current')\n  );\n}","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createDefaultToolbarButton = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar OptionalBlueprint_1 = require(\"../util/OptionalBlueprint\");\nfunction createDefaultToolbarButton(title, className, onClick, text) {\n    return (react_1.default.createElement(\"button\", { title: title, onClick: onClick, className: classnames_1.default('mosaic-default-control', OptionalBlueprint_1.OptionalBlueprint.getClasses('BUTTON', 'MINIMAL'), className) }, text && react_1.default.createElement(\"span\", { className: \"control-text\" }, text)));\n}\nexports.createDefaultToolbarButton = createDefaultToolbarButton;\n//# sourceMappingURL=MosaicButton.js.map","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n}), 'MoreVertSharp');\n\nexports.default = _default;","var baseSlice = require('./_baseSlice'),\n    toInteger = require('./toInteger');\n\n/**\n * Creates a slice of `array` with `n` elements taken from the beginning.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=1] The number of elements to take.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.take([1, 2, 3]);\n * // => [1]\n *\n * _.take([1, 2, 3], 2);\n * // => [1, 2]\n *\n * _.take([1, 2, 3], 5);\n * // => [1, 2, 3]\n *\n * _.take([1, 2, 3], 0);\n * // => []\n */\nfunction take(array, n, guard) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  n = (guard || n === undefined) ? 1 : toInteger(n);\n  return baseSlice(array, 0, n < 0 ? 0 : n);\n}\n\nmodule.exports = take;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } _setPrototypeOf(subClass.prototype, superClass && superClass.prototype); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.getPrototypeOf || function _getPrototypeOf(o) { return o.__proto__; }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar style = {\n  position: 'absolute',\n  left: 0,\n  top: 0,\n  right: 0,\n  bottom: 0,\n  overflow: 'hidden',\n  zIndex: -1,\n  visibility: 'hidden',\n  pointerEvents: 'none'\n};\nvar styleChild = {\n  position: 'absolute',\n  left: 0,\n  top: 0,\n  transition: '0s'\n};\n\nfunction isAncestor(node, ancestor) {\n  var current = node.parentNode;\n\n  while (current) {\n    if (current === ancestor) {\n      return true;\n    }\n\n    current = current.parentNode;\n  }\n\n  return false;\n}\n\nvar ResizeObserver =\n/*#__PURE__*/\nfunction (_React$Component) {\n  function ResizeObserver() {\n    var _getPrototypeOf2;\n\n    var _temp, _this;\n\n    _classCallCheck(this, ResizeObserver);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _possibleConstructorReturn(_this, (_temp = _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ResizeObserver)).call.apply(_getPrototypeOf2, [this].concat(args))), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_expandRef\", null), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_shrinkRef\", null), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_node\", null), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_lastWidth\", void 0), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_lastHeight\", void 0), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_lastRect\", void 0), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_hasResize\", false), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_handleScroll\", function (event) {\n      if ((_this.props.onPosition || _this.props.onReflow || _this.props.onResize) && (_this._globalScollTarget(event.target) || _this._refScrollTarget(event.target) || _this._ancestorScollTarget(event.target))) {\n        _this._reflow();\n      }\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_globalScollTarget\", function (target) {\n      return target instanceof Node && (_this.props.onPosition || _this.props.onReflow) && (target === document || target === document.documentElement || target === document.body);\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_refScrollTarget\", function (target) {\n      if (target instanceof HTMLElement && (target === _this._expandRef || target === _this._shrinkRef)) {\n        var width = target.offsetWidth;\n        var height = target.offsetHeight;\n\n        if (width !== _this._lastWidth || height !== _this._lastHeight) {\n          _this._lastWidth = width;\n          _this._lastHeight = height;\n\n          _this._reset(_this._expandRef);\n\n          _this._reset(_this._shrinkRef);\n\n          return true;\n        }\n      }\n\n      return false;\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_ancestorScollTarget\", function (target) {\n      return target instanceof Node && (_this.props.onPosition || _this.props.onReflow) && _this._node && isAncestor(_this._node, target);\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_reflow\", function () {\n      if (!_this._node || !(_this._node.parentNode instanceof Element)) return;\n\n      var rect = _this._node.parentNode.getBoundingClientRect();\n\n      var sizeChanged = true;\n      var positionChanged = true;\n\n      if (_this._lastRect) {\n        sizeChanged = rect.width !== _this._lastRect.width || rect.height !== _this._lastRect.height;\n        positionChanged = rect.top !== _this._lastRect.top || rect.left !== _this._lastRect.left;\n      }\n\n      _this._lastRect = rect;\n\n      if (sizeChanged && _this.props.onResize) {\n        _this.props.onResize(rect);\n      }\n\n      if (positionChanged && _this.props.onPosition) {\n        _this.props.onPosition(rect);\n      }\n\n      if ((sizeChanged || positionChanged) && _this.props.onReflow) {\n        _this.props.onReflow(rect);\n      }\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_handleRef\", function (node) {\n      _this._node = node;\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_handleExpandRef\", function (node) {\n      _this._reset(node);\n\n      _this._expandRef = node;\n    }), _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"_handleShrinkRef\", function (node) {\n      _this._reset(node);\n\n      _this._shrinkRef = node;\n    }), _temp));\n  }\n\n  _createClass(ResizeObserver, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._reflow();\n\n      window.addEventListener('scroll', this._handleScroll, true);\n\n      if (this.props.onPosition || this.props.onReflow) {\n        window.addEventListener('resize', this._reflow, true);\n        this._hasResize = true;\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if ((this.props.onPosition || this.props.onReflow) && !this._hasResize) {\n        window.addEventListener('resize', this._reflow, true);\n        this._hasResize = true;\n      } else if (!(this.props.onPosition || this.props.onReflow) && this._hasResize) {\n        window.removeEventListener('resize', this._reflow, true);\n        this._hasResize = false;\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('scroll', this._handleScroll, true);\n\n      if (this._hasResize) {\n        window.removeEventListener('resize', this._reflow, true);\n      }\n    }\n  }, {\n    key: \"_reset\",\n    value: function _reset(node) {\n      if (node) {\n        node.scrollLeft = 100000;\n        node.scrollTop = 100000;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.onResize || this.props.onReflow) {\n        return _react.default.createElement(\"div\", {\n          style: style,\n          ref: this._handleRef\n        }, _react.default.createElement(\"div\", {\n          ref: this._handleExpandRef,\n          style: style\n        }, _react.default.createElement(\"div\", {\n          style: _objectSpread({}, styleChild, {\n            width: 100000,\n            height: 100000\n          })\n        })), _react.default.createElement(\"div\", {\n          ref: this._handleShrinkRef,\n          style: style\n        }, _react.default.createElement(\"div\", {\n          style: _objectSpread({}, styleChild, {\n            width: '200%',\n            height: '200%'\n          })\n        })));\n      }\n\n      return _react.default.createElement(\"noscript\", {\n        ref: this._handleRef\n      });\n    }\n  }]);\n\n  _inherits(ResizeObserver, _React$Component);\n\n  return ResizeObserver;\n}(_react.default.Component);\n\n_defineProperty(ResizeObserver, \"displayName\", 'ResizeObserver');\n\nvar _default = ResizeObserver;\nexports.default = _default;\n//# sourceMappingURL=ResizeObserver.js.map","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\n\nexports.default = _default;","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useMemo } from 'react';\nimport { registerTarget } from '../../common/registration';\nimport { useDragDropManager } from './useDragDropManager';\nimport { TargetConnector } from '../../common/TargetConnector';\nimport { DropTargetMonitorImpl } from '../../common/DropTargetMonitorImpl';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nexport function useDropTargetMonitor() {\n  var manager = useDragDropManager();\n  var monitor = useMemo(function () {\n    return new DropTargetMonitorImpl(manager);\n  }, [manager]);\n  var connector = useMemo(function () {\n    return new TargetConnector(manager.getBackend());\n  }, [manager]);\n  return [monitor, connector];\n}\nexport function useDropHandler(spec, monitor, connector) {\n  var manager = useDragDropManager();\n  var handler = useMemo(function () {\n    return {\n      canDrop: function canDrop() {\n        var canDrop = spec.current.canDrop;\n        return canDrop ? canDrop(monitor.getItem(), monitor) : true;\n      },\n      hover: function hover() {\n        var hover = spec.current.hover;\n\n        if (hover) {\n          hover(monitor.getItem(), monitor);\n        }\n      },\n      drop: function drop() {\n        var drop = spec.current.drop;\n\n        if (drop) {\n          return drop(monitor.getItem(), monitor);\n        }\n      }\n    };\n  }, [monitor]);\n  useIsomorphicLayoutEffect(function registerHandler() {\n    var _registerTarget = registerTarget(spec.current.accept, handler, manager),\n        _registerTarget2 = _slicedToArray(_registerTarget, 2),\n        handlerId = _registerTarget2[0],\n        unregister = _registerTarget2[1];\n\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [monitor, connector]);\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useRef, useMemo } from 'react';\nimport { invariant } from '@react-dnd/invariant';\nimport { useMonitorOutput } from './internal/useMonitorOutput';\nimport { useIsomorphicLayoutEffect } from './internal/useIsomorphicLayoutEffect';\nimport { useDropHandler, useDropTargetMonitor } from './internal/drop';\n/**\n * useDropTarget Hook\n * @param spec The drop target specification\n */\n\nexport function useDrop(spec) {\n  var specRef = useRef(spec);\n  specRef.current = spec;\n  invariant(spec.accept != null, 'accept must be defined');\n\n  var _useDropTargetMonitor = useDropTargetMonitor(),\n      _useDropTargetMonitor2 = _slicedToArray(_useDropTargetMonitor, 2),\n      monitor = _useDropTargetMonitor2[0],\n      connector = _useDropTargetMonitor2[1];\n\n  useDropHandler(specRef, monitor, connector);\n  var result = useMonitorOutput(monitor, specRef.current.collect || function () {\n    return {};\n  }, function () {\n    return connector.reconnect();\n  });\n  var connectDropTarget = useMemo(function () {\n    return connector.hooks.dropTarget();\n  }, [connector]);\n  useIsomorphicLayoutEffect(function () {\n    connector.dropTargetOptions = spec.options || null;\n    connector.reconnect();\n  }, [spec.options]);\n  return [result, connectDropTarget];\n}","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Separator = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar Separator = /** @class */ (function (_super) {\n    __extends(Separator, _super);\n    function Separator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Separator.prototype.render = function () {\n        return react_1.default.createElement(\"div\", { className: \"separator\" });\n    };\n    return Separator;\n}(react_1.default.PureComponent));\nexports.Separator = Separator;\n//# sourceMappingURL=Separator.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReplaceButton = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar noop_1 = __importDefault(require(\"lodash/noop\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar contextTypes_1 = require(\"../contextTypes\");\nvar OptionalBlueprint_1 = require(\"../util/OptionalBlueprint\");\nvar MosaicButton_1 = require(\"./MosaicButton\");\nvar ReplaceButton = /** @class */ (function (_super) {\n    __extends(ReplaceButton, _super);\n    function ReplaceButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.replace = function () {\n            _this.context.mosaicWindowActions\n                .replaceWithNew()\n                .then(function () {\n                if (_this.props.onClick) {\n                    _this.props.onClick();\n                }\n            })\n                .catch(noop_1.default); // Swallow rejections (i.e. on user cancel)\n        };\n        return _this;\n    }\n    ReplaceButton.prototype.render = function () {\n        return MosaicButton_1.createDefaultToolbarButton('Replace Window', classnames_1.default('replace-button', OptionalBlueprint_1.OptionalBlueprint.getIconClass('EXCHANGE')), this.replace);\n    };\n    ReplaceButton.contextType = contextTypes_1.MosaicWindowContext;\n    return ReplaceButton;\n}(react_1.default.PureComponent));\nexports.ReplaceButton = ReplaceButton;\n//# sourceMappingURL=ReplaceButton.js.map","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    basePickBy = require('./_basePickBy'),\n    getAllKeysIn = require('./_getAllKeysIn');\n\n/**\n * Creates an object composed of the `object` properties `predicate` returns\n * truthy for. The predicate is invoked with two arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pickBy(object, _.isNumber);\n * // => { 'a': 1, 'c': 3 }\n */\nfunction pickBy(object, predicate) {\n  if (object == null) {\n    return {};\n  }\n  var props = arrayMap(getAllKeysIn(object), function(prop) {\n    return [prop];\n  });\n  predicate = baseIteratee(predicate);\n  return basePickBy(object, props, function(value, path) {\n    return predicate(value, path[0]);\n  });\n}\n\nmodule.exports = pickBy;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SplitButton = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar noop_1 = __importDefault(require(\"lodash/noop\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar contextTypes_1 = require(\"../contextTypes\");\nvar OptionalBlueprint_1 = require(\"../util/OptionalBlueprint\");\nvar MosaicButton_1 = require(\"./MosaicButton\");\nvar SplitButton = /** @class */ (function (_super) {\n    __extends(SplitButton, _super);\n    function SplitButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.split = function () {\n            _this.context.mosaicWindowActions\n                .split()\n                .then(function () {\n                if (_this.props.onClick) {\n                    _this.props.onClick();\n                }\n            })\n                .catch(noop_1.default); // Swallow rejections (i.e. on user cancel)\n        };\n        return _this;\n    }\n    SplitButton.prototype.render = function () {\n        return MosaicButton_1.createDefaultToolbarButton('Split Window', classnames_1.default('split-button', OptionalBlueprint_1.OptionalBlueprint.getIconClass('ADD_COLUMN_RIGHT')), this.split);\n    };\n    SplitButton.contextType = contextTypes_1.MosaicWindowContext;\n    return SplitButton;\n}(react_1.default.PureComponent));\nexports.SplitButton = SplitButton;\n//# sourceMappingURL=SplitButton.js.map","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'AddSharp');\n\nexports.default = _default;","var baseDelay = require('./_baseDelay'),\n    baseRest = require('./_baseRest');\n\n/**\n * Defers invoking the `func` until the current call stack has cleared. Any\n * additional arguments are provided to `func` when it's invoked.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to defer.\n * @param {...*} [args] The arguments to invoke `func` with.\n * @returns {number} Returns the timer id.\n * @example\n *\n * _.defer(function(text) {\n *   console.log(text);\n * }, 'deferred');\n * // => Logs 'deferred' after one millisecond.\n */\nvar defer = baseRest(function(func, args) {\n  return baseDelay(func, 1, args);\n});\n\nmodule.exports = defer;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"\n}), 'FullscreenExitSharp');\n\nexports.default = _default;","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IComCom = function (_React$Component) {\n  _inherits(IComCom, _React$Component);\n\n  function IComCom(args) {\n    _classCallCheck(this, IComCom);\n\n    var _this = _possibleConstructorReturn(this, (IComCom.__proto__ || Object.getPrototypeOf(IComCom)).call(this, args));\n\n    _this.onReceiveMessage = _this.onReceiveMessage.bind(_this);\n    _this.onLoad = _this.onLoad.bind(_this);\n    _this.sendMessage = _this.sendMessage.bind(_this);\n    return _this;\n  }\n\n  _createClass(IComCom, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      window.addEventListener('message', this.onReceiveMessage);\n      if (this._frame) {\n        this._frame.addEventListener('load', this.onLoad);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      window.removeEventListener('message', this.onReceiveMessage, false);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.postMessageData !== nextProps.postMessageData) {\n        this.sendMessage(nextProps.postMessageData);\n      }\n    }\n  }, {\n    key: 'onReceiveMessage',\n    value: function onReceiveMessage(event) {\n      var handleReceiveMessage = this.props.handleReceiveMessage;\n\n      if (handleReceiveMessage) {\n        handleReceiveMessage(event);\n      }\n    }\n  }, {\n    key: 'onLoad',\n    value: function onLoad() {\n      var handleReady = this.props.handleReady;\n\n      if (handleReady) {\n        handleReady();\n      }\n\n      this.sendMessage(this.props.postMessageData);\n    }\n  }, {\n    key: 'sendMessage',\n    value: function sendMessage(postMessageData) {\n      this._frame.contentWindow.postMessage(postMessageData, this.props.targetOrigin);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var attributes = this.props.attributes;\n\n\n      return _react2.default.createElement('iframe', _extends({\n        ref: function ref(el) {\n          _this2._frame = el;\n        }\n      }, Object.assign({}, IComCom.defaultAttributes, attributes)));\n    }\n  }]);\n\n  return IComCom;\n}(_react2.default.Component);\n\nIComCom.propTypes = {\n  attributes: _propTypes2.default.shape({\n    frameBorder: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n    height: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\n    name: _propTypes2.default.string,\n    scrolling: _propTypes2.default.string,\n    sandbox: _propTypes2.default.string,\n    srcDoc: _propTypes2.default.string,\n    src: _propTypes2.default.string.isRequired,\n    width: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number])\n  }),\n  handleReceiveMessage: _propTypes2.default.func,\n  handleReady: _propTypes2.default.func,\n  postMessageData: _propTypes2.default.any,\n  targetOrigin: _propTypes2.default.string\n};\nIComCom.defaultProps = {\n  targetOrigin: '*'\n};\nIComCom.defaultAttributes = {\n  frameBorder: 0\n};\nexports.default = IComCom;","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MosaicWindow = exports.SourceDropConnectedInternalMosaicWindow = exports.SourceConnectedInternalMosaicWindow = exports.InternalMosaicWindow = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar defer_1 = __importDefault(require(\"lodash/defer\"));\nvar dropRight_1 = __importDefault(require(\"lodash/dropRight\"));\nvar isEmpty_1 = __importDefault(require(\"lodash/isEmpty\"));\nvar isEqual_1 = __importDefault(require(\"lodash/isEqual\"));\nvar values_1 = __importDefault(require(\"lodash/values\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar react_dnd_1 = require(\"react-dnd\");\nvar defaultToolbarControls_1 = require(\"./buttons/defaultToolbarControls\");\nvar Separator_1 = require(\"./buttons/Separator\");\nvar contextTypes_1 = require(\"./contextTypes\");\nvar internalTypes_1 = require(\"./internalTypes\");\nvar MosaicDropTarget_1 = require(\"./MosaicDropTarget\");\nvar types_1 = require(\"./types\");\nvar mosaicUpdates_1 = require(\"./util/mosaicUpdates\");\nvar mosaicUtilities_1 = require(\"./util/mosaicUtilities\");\nvar OptionalBlueprint_1 = require(\"./util/OptionalBlueprint\");\nvar InternalMosaicWindow = /** @class */ (function (_super) {\n    __extends(InternalMosaicWindow, _super);\n    function InternalMosaicWindow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            additionalControlsOpen: false,\n        };\n        _this.rootElement = null;\n        _this.renderDropTarget = function (position) {\n            var path = _this.props.path;\n            return react_1.default.createElement(MosaicDropTarget_1.MosaicDropTarget, { position: position, path: path, key: position });\n        };\n        _this.split = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            _this.checkCreateNode();\n            var _a = _this.props, createNode = _a.createNode, path = _a.path;\n            var mosaicActions = _this.context.mosaicActions;\n            var root = mosaicActions.getRoot();\n            var direction = _this.rootElement.offsetWidth > _this.rootElement.offsetHeight ? 'row' : 'column';\n            return Promise.resolve(createNode.apply(void 0, args)).then(function (second) {\n                return mosaicActions.replaceWith(path, {\n                    direction: direction,\n                    second: second,\n                    first: mosaicUtilities_1.getAndAssertNodeAtPathExists(root, path),\n                });\n            });\n        };\n        _this.swap = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            _this.checkCreateNode();\n            var mosaicActions = _this.context.mosaicActions;\n            var _a = _this.props, createNode = _a.createNode, path = _a.path;\n            return Promise.resolve(createNode.apply(void 0, args)).then(function (node) { return mosaicActions.replaceWith(path, node); });\n        };\n        _this.setAdditionalControlsOpen = function (additionalControlsOpen) {\n            _this.setState({ additionalControlsOpen: additionalControlsOpen });\n        };\n        _this.getPath = function () { return _this.props.path; };\n        _this.connectDragSource = function (connectedElements) {\n            var connectDragSource = _this.props.connectDragSource;\n            return connectDragSource(connectedElements);\n        };\n        _this.childContext = {\n            mosaicWindowActions: {\n                split: _this.split,\n                replaceWithNew: _this.swap,\n                setAdditionalControlsOpen: _this.setAdditionalControlsOpen,\n                getPath: _this.getPath,\n                connectDragSource: _this.connectDragSource,\n            },\n        };\n        return _this;\n    }\n    InternalMosaicWindow.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, className = _a.className, isOver = _a.isOver, renderPreview = _a.renderPreview, additionalControls = _a.additionalControls, connectDropTarget = _a.connectDropTarget, connectDragPreview = _a.connectDragPreview, draggedMosaicId = _a.draggedMosaicId;\n        return (react_1.default.createElement(contextTypes_1.MosaicWindowContext.Provider, { value: this.childContext }, connectDropTarget(react_1.default.createElement(\"div\", { className: classnames_1.default('mosaic-window mosaic-drop-target', className, {\n                'drop-target-hover': isOver && draggedMosaicId === this.context.mosaicId,\n                'additional-controls-open': this.state.additionalControlsOpen,\n            }), ref: function (element) { return (_this.rootElement = element); } },\n            this.renderToolbar(),\n            react_1.default.createElement(\"div\", { className: \"mosaic-window-body\" }, this.props.children),\n            react_1.default.createElement(\"div\", { className: \"mosaic-window-body-overlay\", onClick: function () { return _this.setAdditionalControlsOpen(false); } }),\n            react_1.default.createElement(\"div\", { className: \"mosaic-window-additional-actions-bar\" }, additionalControls),\n            connectDragPreview(renderPreview(this.props)),\n            react_1.default.createElement(\"div\", { className: \"drop-target-container\" }, values_1.default(internalTypes_1.MosaicDropTargetPosition).map(this.renderDropTarget))))));\n    };\n    InternalMosaicWindow.prototype.getToolbarControls = function () {\n        var _a = this.props, toolbarControls = _a.toolbarControls, createNode = _a.createNode;\n        if (toolbarControls) {\n            return toolbarControls;\n        }\n        else if (createNode) {\n            return defaultToolbarControls_1.DEFAULT_CONTROLS_WITH_CREATION;\n        }\n        else {\n            return defaultToolbarControls_1.DEFAULT_CONTROLS_WITHOUT_CREATION;\n        }\n    };\n    InternalMosaicWindow.prototype.renderToolbar = function () {\n        var _a;\n        var _this = this;\n        var _b = this.props, title = _b.title, draggable = _b.draggable, additionalControls = _b.additionalControls, additionalControlButtonText = _b.additionalControlButtonText, path = _b.path, renderToolbar = _b.renderToolbar;\n        var additionalControlsOpen = this.state.additionalControlsOpen;\n        var toolbarControls = this.getToolbarControls();\n        var draggableAndNotRoot = draggable && path.length > 0;\n        var connectIfDraggable = draggableAndNotRoot ? this.props.connectDragSource : function (el) { return el; };\n        if (renderToolbar) {\n            var connectedToolbar = connectIfDraggable(renderToolbar(this.props, draggable));\n            return (react_1.default.createElement(\"div\", { className: classnames_1.default('mosaic-window-toolbar', { draggable: draggableAndNotRoot }) }, connectedToolbar));\n        }\n        var titleDiv = connectIfDraggable(react_1.default.createElement(\"div\", { title: title, className: \"mosaic-window-title\" }, title));\n        var hasAdditionalControls = !isEmpty_1.default(additionalControls);\n        return (react_1.default.createElement(\"div\", { className: classnames_1.default('mosaic-window-toolbar', { draggable: draggableAndNotRoot }) },\n            titleDiv,\n            react_1.default.createElement(\"div\", { className: classnames_1.default('mosaic-window-controls', OptionalBlueprint_1.OptionalBlueprint.getClasses('BUTTON_GROUP')) },\n                hasAdditionalControls && (react_1.default.createElement(\"button\", { onClick: function () { return _this.setAdditionalControlsOpen(!additionalControlsOpen); }, className: classnames_1.default(OptionalBlueprint_1.OptionalBlueprint.getClasses('BUTTON', 'MINIMAL'), OptionalBlueprint_1.OptionalBlueprint.getIconClass('MORE'), (_a = {},\n                        _a[OptionalBlueprint_1.OptionalBlueprint.getClasses('ACTIVE')] = additionalControlsOpen,\n                        _a)) },\n                    react_1.default.createElement(\"span\", { className: \"control-text\" }, additionalControlButtonText))),\n                hasAdditionalControls && react_1.default.createElement(Separator_1.Separator, null),\n                toolbarControls)));\n    };\n    InternalMosaicWindow.prototype.checkCreateNode = function () {\n        if (this.props.createNode == null) {\n            throw new Error('Operation invalid unless `createNode` is defined');\n        }\n    };\n    InternalMosaicWindow.defaultProps = {\n        additionalControlButtonText: 'More',\n        draggable: true,\n        renderPreview: function (_a) {\n            var title = _a.title;\n            return (react_1.default.createElement(\"div\", { className: \"mosaic-preview\" },\n                react_1.default.createElement(\"div\", { className: \"mosaic-window-toolbar\" },\n                    react_1.default.createElement(\"div\", { className: \"mosaic-window-title\" }, title)),\n                react_1.default.createElement(\"div\", { className: \"mosaic-window-body\" },\n                    react_1.default.createElement(\"h4\", null, title),\n                    react_1.default.createElement(OptionalBlueprint_1.OptionalBlueprint.Icon, { iconSize: 72, icon: \"application\" }))));\n        },\n        renderToolbar: null,\n    };\n    InternalMosaicWindow.contextType = contextTypes_1.MosaicContext;\n    return InternalMosaicWindow;\n}(react_1.default.Component));\nexports.InternalMosaicWindow = InternalMosaicWindow;\nvar dragSource = {\n    beginDrag: function (props, _monitor, component) {\n        if (props.onDragStart) {\n            props.onDragStart();\n        }\n        // TODO: Actually just delete instead of hiding\n        // The defer is necessary as the element must be present on start for HTML DnD to not cry\n        var hideTimer = defer_1.default(function () { return component.context.mosaicActions.hide(component.props.path); });\n        return {\n            mosaicId: component.context.mosaicId,\n            hideTimer: hideTimer,\n        };\n    },\n    endDrag: function (props, monitor, component) {\n        var hideTimer = monitor.getItem().hideTimer;\n        // If the hide call hasn't happened yet, cancel it\n        window.clearTimeout(hideTimer);\n        var ownPath = component.props.path;\n        var dropResult = (monitor.getDropResult() || {});\n        var mosaicActions = component.context.mosaicActions;\n        var position = dropResult.position, destinationPath = dropResult.path;\n        if (position != null && destinationPath != null && !isEqual_1.default(destinationPath, ownPath)) {\n            mosaicActions.updateTree(mosaicUpdates_1.createDragToUpdates(mosaicActions.getRoot(), ownPath, destinationPath, position));\n            if (props.onDragEnd) {\n                props.onDragEnd('drop');\n            }\n        }\n        else {\n            // TODO: restore node from captured state\n            mosaicActions.updateTree([\n                {\n                    path: dropRight_1.default(ownPath),\n                    spec: {\n                        splitPercentage: {\n                            $set: null,\n                        },\n                    },\n                },\n            ]);\n            if (props.onDragEnd) {\n                props.onDragEnd('reset');\n            }\n        }\n    },\n};\nvar dropTarget = {};\n// Each step exported here just to keep react-hot-loader happy\nexports.SourceConnectedInternalMosaicWindow = react_dnd_1.DragSource(types_1.MosaicDragType.WINDOW, dragSource, function (connect, _monitor) { return ({\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n}); })(InternalMosaicWindow);\nexports.SourceDropConnectedInternalMosaicWindow = react_dnd_1.DropTarget(types_1.MosaicDragType.WINDOW, dropTarget, function (connect, monitor) { return ({\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    draggedMosaicId: (monitor.getItem() || {}).mosaicId,\n}); })(exports.SourceConnectedInternalMosaicWindow);\nvar MosaicWindow = /** @class */ (function (_super) {\n    __extends(MosaicWindow, _super);\n    function MosaicWindow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MosaicWindow.prototype.render = function () {\n        return react_1.default.createElement(exports.SourceDropConnectedInternalMosaicWindow, __assign({}, this.props));\n    };\n    return MosaicWindow;\n}(react_1.default.PureComponent));\nexports.MosaicWindow = MosaicWindow;\n//# sourceMappingURL=MosaicWindow.js.map","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z\"\n}), 'LayersSharp');\n\nexports.default = _default;","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the number of times the key was returned by `iteratee`. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.countBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': 1, '6': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.countBy(['one', 'two', 'three'], 'length');\n * // => { '3': 2, '5': 1 }\n */\nvar countBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    ++result[key];\n  } else {\n    baseAssignValue(result, key, 1);\n  }\n});\n\nmodule.exports = countBy;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @license\n * Copyright 2019 Kevin Verdieck, originally developed at Palantir Technologies, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar Mosaic_1 = require(\"./Mosaic\");\nObject.defineProperty(exports, \"Mosaic\", { enumerable: true, get: function () { return Mosaic_1.Mosaic; } });\nObject.defineProperty(exports, \"MosaicWithoutDragDropContext\", { enumerable: true, get: function () { return Mosaic_1.MosaicWithoutDragDropContext; } });\nvar types_1 = require(\"./types\");\nObject.defineProperty(exports, \"MosaicDragType\", { enumerable: true, get: function () { return types_1.MosaicDragType; } });\nvar contextTypes_1 = require(\"./contextTypes\");\nObject.defineProperty(exports, \"MosaicContext\", { enumerable: true, get: function () { return contextTypes_1.MosaicContext; } });\nObject.defineProperty(exports, \"MosaicWindowContext\", { enumerable: true, get: function () { return contextTypes_1.MosaicWindowContext; } });\nvar mosaicUpdates_1 = require(\"./util/mosaicUpdates\");\nObject.defineProperty(exports, \"buildSpecFromUpdate\", { enumerable: true, get: function () { return mosaicUpdates_1.buildSpecFromUpdate; } });\nObject.defineProperty(exports, \"createDragToUpdates\", { enumerable: true, get: function () { return mosaicUpdates_1.createDragToUpdates; } });\nObject.defineProperty(exports, \"createExpandUpdate\", { enumerable: true, get: function () { return mosaicUpdates_1.createExpandUpdate; } });\nObject.defineProperty(exports, \"createHideUpdate\", { enumerable: true, get: function () { return mosaicUpdates_1.createHideUpdate; } });\nObject.defineProperty(exports, \"createRemoveUpdate\", { enumerable: true, get: function () { return mosaicUpdates_1.createRemoveUpdate; } });\nObject.defineProperty(exports, \"updateTree\", { enumerable: true, get: function () { return mosaicUpdates_1.updateTree; } });\nvar mosaicUtilities_1 = require(\"./util/mosaicUtilities\");\nObject.defineProperty(exports, \"createBalancedTreeFromLeaves\", { enumerable: true, get: function () { return mosaicUtilities_1.createBalancedTreeFromLeaves; } });\nObject.defineProperty(exports, \"Corner\", { enumerable: true, get: function () { return mosaicUtilities_1.Corner; } });\nObject.defineProperty(exports, \"getAndAssertNodeAtPathExists\", { enumerable: true, get: function () { return mosaicUtilities_1.getAndAssertNodeAtPathExists; } });\nObject.defineProperty(exports, \"getLeaves\", { enumerable: true, get: function () { return mosaicUtilities_1.getLeaves; } });\nObject.defineProperty(exports, \"getNodeAtPath\", { enumerable: true, get: function () { return mosaicUtilities_1.getNodeAtPath; } });\nObject.defineProperty(exports, \"getOtherBranch\", { enumerable: true, get: function () { return mosaicUtilities_1.getOtherBranch; } });\nObject.defineProperty(exports, \"getOtherDirection\", { enumerable: true, get: function () { return mosaicUtilities_1.getOtherDirection; } });\nObject.defineProperty(exports, \"getPathToCorner\", { enumerable: true, get: function () { return mosaicUtilities_1.getPathToCorner; } });\nObject.defineProperty(exports, \"isParent\", { enumerable: true, get: function () { return mosaicUtilities_1.isParent; } });\nvar MosaicWindow_1 = require(\"./MosaicWindow\");\nObject.defineProperty(exports, \"MosaicWindow\", { enumerable: true, get: function () { return MosaicWindow_1.MosaicWindow; } });\nvar MosaicButton_1 = require(\"./buttons/MosaicButton\");\nObject.defineProperty(exports, \"createDefaultToolbarButton\", { enumerable: true, get: function () { return MosaicButton_1.createDefaultToolbarButton; } });\nvar MosaicZeroState_1 = require(\"./MosaicZeroState\");\nObject.defineProperty(exports, \"MosaicZeroState\", { enumerable: true, get: function () { return MosaicZeroState_1.MosaicZeroState; } });\nvar Separator_1 = require(\"./buttons/Separator\");\nObject.defineProperty(exports, \"Separator\", { enumerable: true, get: function () { return Separator_1.Separator; } });\nvar ExpandButton_1 = require(\"./buttons/ExpandButton\");\nObject.defineProperty(exports, \"ExpandButton\", { enumerable: true, get: function () { return ExpandButton_1.ExpandButton; } });\nvar ReplaceButton_1 = require(\"./buttons/ReplaceButton\");\nObject.defineProperty(exports, \"ReplaceButton\", { enumerable: true, get: function () { return ReplaceButton_1.ReplaceButton; } });\nvar SplitButton_1 = require(\"./buttons/SplitButton\");\nObject.defineProperty(exports, \"SplitButton\", { enumerable: true, get: function () { return SplitButton_1.SplitButton; } });\nvar RemoveButton_1 = require(\"./buttons/RemoveButton\");\nObject.defineProperty(exports, \"RemoveButton\", { enumerable: true, get: function () { return RemoveButton_1.RemoveButton; } });\nvar defaultToolbarControls_1 = require(\"./buttons/defaultToolbarControls\");\nObject.defineProperty(exports, \"DEFAULT_CONTROLS_WITH_CREATION\", { enumerable: true, get: function () { return defaultToolbarControls_1.DEFAULT_CONTROLS_WITH_CREATION; } });\nObject.defineProperty(exports, \"DEFAULT_CONTROLS_WITHOUT_CREATION\", { enumerable: true, get: function () { return defaultToolbarControls_1.DEFAULT_CONTROLS_WITHOUT_CREATION; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MosaicRoot = void 0;\nvar flatten_1 = __importDefault(require(\"lodash/flatten\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar contextTypes_1 = require(\"./contextTypes\");\nvar Split_1 = require(\"./Split\");\nvar BoundingBox_1 = require(\"./util/BoundingBox\");\nvar mosaicUtilities_1 = require(\"./util/mosaicUtilities\");\nvar MosaicRoot = /** @class */ (function (_super) {\n    __extends(MosaicRoot, _super);\n    function MosaicRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onResize = function (percentage, path, suppressOnRelease) {\n            _this.context.mosaicActions.updateTree([\n                {\n                    path: path,\n                    spec: {\n                        splitPercentage: {\n                            $set: percentage,\n                        },\n                    },\n                },\n            ], suppressOnRelease);\n        };\n        return _this;\n    }\n    MosaicRoot.prototype.render = function () {\n        var root = this.props.root;\n        return react_1.default.createElement(\"div\", { className: \"mosaic-root\" }, this.renderRecursively(root, BoundingBox_1.BoundingBox.empty(), []));\n    };\n    MosaicRoot.prototype.renderRecursively = function (node, boundingBox, path) {\n        if (mosaicUtilities_1.isParent(node)) {\n            var splitPercentage = node.splitPercentage == null ? 50 : node.splitPercentage;\n            var _a = BoundingBox_1.BoundingBox.split(boundingBox, splitPercentage, node.direction), first = _a.first, second = _a.second;\n            return flatten_1.default([\n                this.renderRecursively(node.first, first, path.concat('first')),\n                this.renderSplit(node.direction, boundingBox, splitPercentage, path),\n                this.renderRecursively(node.second, second, path.concat('second')),\n            ].filter(nonNullElement));\n        }\n        else {\n            return (react_1.default.createElement(\"div\", { key: node, className: \"mosaic-tile\", style: __assign({}, BoundingBox_1.BoundingBox.asStyles(boundingBox)) }, this.props.renderTile(node, path)));\n        }\n    };\n    MosaicRoot.prototype.renderSplit = function (direction, boundingBox, splitPercentage, path) {\n        var _this = this;\n        var resize = this.props.resize;\n        if (resize !== 'DISABLED') {\n            return (react_1.default.createElement(Split_1.Split, __assign({ key: path.join(',') + 'splitter' }, resize, { boundingBox: boundingBox, splitPercentage: splitPercentage, direction: direction, onChange: function (percentage) { return _this.onResize(percentage, path, true); }, onRelease: function (percentage) { return _this.onResize(percentage, path, false); } })));\n        }\n        else {\n            return null;\n        }\n    };\n    MosaicRoot.contextType = contextTypes_1.MosaicContext;\n    return MosaicRoot;\n}(react_1.default.PureComponent));\nexports.MosaicRoot = MosaicRoot;\nfunction nonNullElement(x) {\n    return x !== null;\n}\n//# sourceMappingURL=MosaicRoot.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BoundingBox = void 0;\nvar assertNever_1 = require(\"./assertNever\");\nvar BoundingBox;\n(function (BoundingBox) {\n    function empty() {\n        return {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n        };\n    }\n    BoundingBox.empty = empty;\n    function split(boundingBox, relativeSplitPercentage, direction) {\n        var absolutePercentage = getAbsoluteSplitPercentage(boundingBox, relativeSplitPercentage, direction);\n        if (direction === 'column') {\n            return {\n                first: __assign(__assign({}, boundingBox), { bottom: 100 - absolutePercentage }),\n                second: __assign(__assign({}, boundingBox), { top: absolutePercentage }),\n            };\n        }\n        else if (direction === 'row') {\n            return {\n                first: __assign(__assign({}, boundingBox), { right: 100 - absolutePercentage }),\n                second: __assign(__assign({}, boundingBox), { left: absolutePercentage }),\n            };\n        }\n        else {\n            return assertNever_1.assertNever(direction);\n        }\n    }\n    BoundingBox.split = split;\n    function getAbsoluteSplitPercentage(boundingBox, relativeSplitPercentage, direction) {\n        var top = boundingBox.top, right = boundingBox.right, bottom = boundingBox.bottom, left = boundingBox.left;\n        if (direction === 'column') {\n            var height = 100 - top - bottom;\n            return (height * relativeSplitPercentage) / 100 + top;\n        }\n        else if (direction === 'row') {\n            var width = 100 - right - left;\n            return (width * relativeSplitPercentage) / 100 + left;\n        }\n        else {\n            return assertNever_1.assertNever(direction);\n        }\n    }\n    BoundingBox.getAbsoluteSplitPercentage = getAbsoluteSplitPercentage;\n    function getRelativeSplitPercentage(boundingBox, absoluteSplitPercentage, direction) {\n        var top = boundingBox.top, right = boundingBox.right, bottom = boundingBox.bottom, left = boundingBox.left;\n        if (direction === 'column') {\n            var height = 100 - top - bottom;\n            return ((absoluteSplitPercentage - top) / height) * 100;\n        }\n        else if (direction === 'row') {\n            var width = 100 - right - left;\n            return ((absoluteSplitPercentage - left) / width) * 100;\n        }\n        else {\n            return assertNever_1.assertNever(direction);\n        }\n    }\n    BoundingBox.getRelativeSplitPercentage = getRelativeSplitPercentage;\n    function asStyles(_a) {\n        var top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left;\n        return {\n            top: top + \"%\",\n            right: right + \"%\",\n            bottom: bottom + \"%\",\n            left: left + \"%\",\n        };\n    }\n    BoundingBox.asStyles = asStyles;\n})(BoundingBox = exports.BoundingBox || (exports.BoundingBox = {}));\n//# sourceMappingURL=BoundingBox.js.map","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","import { cloneElement } from 'react';\nimport { invariant } from '@react-dnd/invariant';\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nexport function cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","import { isValidElement } from 'react';\nimport { cloneWithRef } from '../utils/cloneWithRef';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport default function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z\"\n}), 'CheckSharp');\n\nexports.default = _default;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport wrapConnectorHooks from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nexport var TargetConnector =\n/*#__PURE__*/\nfunction () {\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dropTargetRef = null;\n    this.dropTargetOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDropTarget = null;\n    this.lastConnectedDropTargetOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }]);\n\n  return TargetConnector;\n}();","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z\"\n}), 'Input');\n\nexports.default = _default;","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RootDropTargets = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar values_1 = __importDefault(require(\"lodash/values\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar react_dnd_1 = require(\"react-dnd\");\nvar internalTypes_1 = require(\"./internalTypes\");\nvar MosaicDropTarget_1 = require(\"./MosaicDropTarget\");\nvar types_1 = require(\"./types\");\nvar RootDropTargetsClass = /** @class */ (function (_super) {\n    __extends(RootDropTargetsClass, _super);\n    function RootDropTargetsClass() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RootDropTargetsClass.prototype.render = function () {\n        return (react_1.default.createElement(\"div\", { className: classnames_1.default('drop-target-container', {\n                '-dragging': this.props.isDragging,\n            }) }, values_1.default(internalTypes_1.MosaicDropTargetPosition).map(function (position) { return (react_1.default.createElement(MosaicDropTarget_1.MosaicDropTarget, { position: position, path: [], key: position })); })));\n    };\n    return RootDropTargetsClass;\n}(react_1.default.PureComponent));\nvar dropTarget = {};\nexports.RootDropTargets = react_dnd_1.DropTarget(types_1.MosaicDragType.WINDOW, dropTarget, function (_connect, monitor) { return ({\n    isDragging: monitor.getItem() !== null && monitor.getItemType() === types_1.MosaicDragType.WINDOW,\n}); })(RootDropTargetsClass);\n//# sourceMappingURL=RootDropTargets.js.map","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl =\n/*#__PURE__*/\nfunction () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    this.targetId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 8h-3V6.21c0-2.61-1.91-4.94-4.51-5.19C9.51.74 7 3.08 7 6v2H4v14h16V8zm-8 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z\"\n}), 'LockSharp');\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CopyToClipboard = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _copyToClipboard = _interopRequireDefault(require(\"copy-to-clipboard\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar CopyToClipboard =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(CopyToClipboard, _React$PureComponent);\n\n  function CopyToClipboard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CopyToClipboard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CopyToClipboard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function (event) {\n      var _this$props = _this.props,\n          text = _this$props.text,\n          onCopy = _this$props.onCopy,\n          children = _this$props.children,\n          options = _this$props.options;\n\n      var elem = _react[\"default\"].Children.only(children);\n\n      var result = (0, _copyToClipboard[\"default\"])(text, options);\n\n      if (onCopy) {\n        onCopy(text, result);\n      } // Bypass onClick if it was present\n\n\n      if (elem && elem.props && typeof elem.props.onClick === 'function') {\n        elem.props.onClick(event);\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(CopyToClipboard, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          _text = _this$props2.text,\n          _onCopy = _this$props2.onCopy,\n          _options = _this$props2.options,\n          children = _this$props2.children,\n          props = _objectWithoutProperties(_this$props2, [\"text\", \"onCopy\", \"options\", \"children\"]);\n\n      var elem = _react[\"default\"].Children.only(children);\n\n      return _react[\"default\"].cloneElement(elem, _objectSpread({}, props, {\n        onClick: this.onClick\n      }));\n    }\n  }]);\n\n  return CopyToClipboard;\n}(_react[\"default\"].PureComponent);\n\nexports.CopyToClipboard = CopyToClipboard;\n\n_defineProperty(CopyToClipboard, \"defaultProps\", {\n  onCopy: undefined,\n  options: undefined\n});","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createExpandUpdate = exports.createHideUpdate = exports.createDragToUpdates = exports.createRemoveUpdate = exports.updateTree = exports.buildSpecFromUpdate = void 0;\nvar immutability_helper_1 = __importDefault(require(\"immutability-helper\"));\nvar drop_1 = __importDefault(require(\"lodash/drop\"));\nvar dropRight_1 = __importDefault(require(\"lodash/dropRight\"));\nvar isEqual_1 = __importDefault(require(\"lodash/isEqual\"));\nvar last_1 = __importDefault(require(\"lodash/last\"));\nvar set_1 = __importDefault(require(\"lodash/set\"));\nvar take_1 = __importDefault(require(\"lodash/take\"));\nvar internalTypes_1 = require(\"../internalTypes\");\nvar mosaicUtilities_1 = require(\"./mosaicUtilities\");\n/**\n * Used to prepare `update` for `immutability-helper`\n * @param mosaicUpdate\n * @returns {any}\n */\nfunction buildSpecFromUpdate(mosaicUpdate) {\n    if (mosaicUpdate.path.length > 0) {\n        return set_1.default({}, mosaicUpdate.path, mosaicUpdate.spec);\n    }\n    else {\n        return mosaicUpdate.spec;\n    }\n}\nexports.buildSpecFromUpdate = buildSpecFromUpdate;\n/**\n * Applies `updates` to `root`\n * @param root\n * @param updates\n * @returns {MosaicNode<T>}\n */\nfunction updateTree(root, updates) {\n    var currentNode = root;\n    updates.forEach(function (mUpdate) {\n        currentNode = immutability_helper_1.default(currentNode, buildSpecFromUpdate(mUpdate));\n    });\n    return currentNode;\n}\nexports.updateTree = updateTree;\n/**\n * Creates a `MosaicUpdate<T>` to remove the node at `path` from `root`\n * @param root\n * @param path\n * @returns {{path: T[], spec: {$set: MosaicNode<T>}}}\n */\nfunction createRemoveUpdate(root, path) {\n    var parentPath = dropRight_1.default(path);\n    var nodeToRemove = last_1.default(path);\n    var siblingPath = parentPath.concat(mosaicUtilities_1.getOtherBranch(nodeToRemove));\n    var sibling = mosaicUtilities_1.getAndAssertNodeAtPathExists(root, siblingPath);\n    return {\n        path: parentPath,\n        spec: {\n            $set: sibling,\n        },\n    };\n}\nexports.createRemoveUpdate = createRemoveUpdate;\nfunction isPathPrefixEqual(a, b, length) {\n    return isEqual_1.default(take_1.default(a, length), take_1.default(b, length));\n}\n/**\n * Creates a `MosaicUpdate<T>` to split the _leaf_ at `destinationPath` into a node of it and the node from `sourcePath`\n * placing the node from `sourcePath` in `position`.\n * @param root\n * @param sourcePath\n * @param destinationPath\n * @param position\n * @returns {(MosaicUpdate<T>|{path: MosaicPath, spec: {$set: {first: MosaicNode<T>, second: MosaicNode<T>, direction: MosaicDirection}}})[]}\n */\nfunction createDragToUpdates(root, sourcePath, destinationPath, position) {\n    var destinationNode = mosaicUtilities_1.getAndAssertNodeAtPathExists(root, destinationPath);\n    var updates = [];\n    var destinationIsParentOfSource = isPathPrefixEqual(sourcePath, destinationPath, destinationPath.length);\n    if (destinationIsParentOfSource) {\n        // Must explicitly remove source from the destination node\n        destinationNode = updateTree(destinationNode, [\n            createRemoveUpdate(destinationNode, drop_1.default(sourcePath, destinationPath.length)),\n        ]);\n    }\n    else {\n        // Can remove source normally\n        updates.push(createRemoveUpdate(root, sourcePath));\n        // Have to drop in the correct destination after the source has been removed\n        var removedNodeParentIsInPath = isPathPrefixEqual(sourcePath, destinationPath, sourcePath.length - 1);\n        if (removedNodeParentIsInPath) {\n            destinationPath.splice(sourcePath.length - 1, 1);\n        }\n    }\n    var sourceNode = mosaicUtilities_1.getAndAssertNodeAtPathExists(root, sourcePath);\n    var first;\n    var second;\n    if (position === internalTypes_1.MosaicDropTargetPosition.LEFT || position === internalTypes_1.MosaicDropTargetPosition.TOP) {\n        first = sourceNode;\n        second = destinationNode;\n    }\n    else {\n        first = destinationNode;\n        second = sourceNode;\n    }\n    var direction = 'column';\n    if (position === internalTypes_1.MosaicDropTargetPosition.LEFT || position === internalTypes_1.MosaicDropTargetPosition.RIGHT) {\n        direction = 'row';\n    }\n    updates.push({\n        path: destinationPath,\n        spec: {\n            $set: { first: first, second: second, direction: direction },\n        },\n    });\n    return updates;\n}\nexports.createDragToUpdates = createDragToUpdates;\n/**\n * Sets the splitPercentage to hide the node at `path`\n * @param path\n * @returns {{path: T[], spec: {splitPercentage: {$set: number}}}}\n */\nfunction createHideUpdate(path) {\n    var targetPath = dropRight_1.default(path);\n    var thisBranch = last_1.default(path);\n    var splitPercentage;\n    if (thisBranch === 'first') {\n        splitPercentage = 0;\n    }\n    else {\n        splitPercentage = 100;\n    }\n    return {\n        path: targetPath,\n        spec: {\n            splitPercentage: {\n                $set: splitPercentage,\n            },\n        },\n    };\n}\nexports.createHideUpdate = createHideUpdate;\n/**\n * Sets the splitPercentage of node at `path` and all of its parents to `percentage` in order to expand it\n * @param path\n * @param percentage\n * @returns {{spec: MosaicUpdateSpec<T>, path: Array}}\n */\nfunction createExpandUpdate(path, percentage) {\n    var _a;\n    var spec = {};\n    for (var i = path.length - 1; i >= 0; i--) {\n        var branch = path[i];\n        var splitPercentage = branch === 'first' ? percentage : 100 - percentage;\n        spec = (_a = {\n                splitPercentage: {\n                    $set: splitPercentage,\n                }\n            },\n            _a[branch] = spec,\n            _a);\n    }\n    return {\n        spec: spec,\n        path: [],\n    };\n}\nexports.createExpandUpdate = createExpandUpdate;\n//# sourceMappingURL=mosaicUpdates.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MosaicZeroState = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar noop_1 = __importDefault(require(\"lodash/noop\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar contextTypes_1 = require(\"./contextTypes\");\nvar OptionalBlueprint_1 = require(\"./util/OptionalBlueprint\");\nvar MosaicZeroState = /** @class */ (function (_super) {\n    __extends(MosaicZeroState, _super);\n    function MosaicZeroState() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.replace = function () {\n            return Promise.resolve(_this.props.createNode())\n                .then(function (node) { return _this.context.mosaicActions.replaceWith([], node); })\n                .catch(noop_1.default);\n        }; // Swallow rejections (i.e. on user cancel)\n        return _this;\n    }\n    MosaicZeroState.prototype.render = function () {\n        return (react_1.default.createElement(\"div\", { className: classnames_1.default('mosaic-zero-state', OptionalBlueprint_1.OptionalBlueprint.getClasses('NON_IDEAL_STATE')) },\n            react_1.default.createElement(\"div\", { className: OptionalBlueprint_1.OptionalBlueprint.getClasses('NON_IDEAL_STATE_VISUAL') },\n                react_1.default.createElement(OptionalBlueprint_1.OptionalBlueprint.Icon, { iconSize: 120, icon: \"applications\" })),\n            react_1.default.createElement(\"h4\", { className: OptionalBlueprint_1.OptionalBlueprint.getClasses('HEADING') }, \"No Windows Present\"),\n            react_1.default.createElement(\"div\", null, this.props.createNode && (react_1.default.createElement(\"button\", { className: classnames_1.default(OptionalBlueprint_1.OptionalBlueprint.getClasses('BUTTON'), OptionalBlueprint_1.OptionalBlueprint.getIconClass('ADD')), onClick: this.replace }, \"Add New Window\")))));\n    };\n    MosaicZeroState.contextType = contextTypes_1.MosaicContext;\n    return MosaicZeroState;\n}(react_1.default.PureComponent));\nexports.MosaicZeroState = MosaicZeroState;\n//# sourceMappingURL=MosaicZeroState.js.map","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.44 12.99l-.01.02c.04-.33.08-.67.08-1.01 0-.34-.03-.66-.07-.99l.01.02 2.44-1.92-2.43-4.22-2.87 1.16.01.01c-.52-.4-1.09-.74-1.71-1h.01L14.44 2H9.57l-.44 3.07h.01c-.62.26-1.19.6-1.71 1l.01-.01-2.88-1.17-2.44 4.22 2.44 1.92.01-.02c-.04.33-.07.65-.07.99 0 .34.03.68.08 1.01l-.01-.02-2.1 1.65-.33.26 2.43 4.2 2.88-1.15-.02-.04c.53.41 1.1.75 1.73 1.01h-.03L9.58 22h4.85s.03-.18.06-.42l.38-2.65h-.01c.62-.26 1.2-.6 1.73-1.01l-.02.04 2.88 1.15 2.43-4.2s-.14-.12-.33-.26l-2.11-1.66zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z\"\n}), 'SettingsSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4.01 2L4 22h16V8l-6-6H4.01zM13 9V3.5L18.5 9H13z\"\n}), 'InsertDriveFileSharp');\n\nexports.default = _default;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n// A grid component using the following libs as inspiration.\n//\n// For the implementation:\n// - https://getbootstrap.com/docs/4.3/layout/grid/\n// - https://github.com/kristoferjoseph/flexboxgrid/blob/master/src/css/flexboxgrid.css\n// - https://github.com/roylee0704/react-flexbox-grid\n// - https://material.angularjs.org/latest/layout/introduction\n//\n// Follow this flexbox Guide to better understand the underlying model:\n// - https://css-tricks.com/snippets/css/a-guide-to-flexbox/\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport requirePropFactory from '../utils/requirePropFactory';\nvar SPACINGS = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nvar GRID_SIZES = ['auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\n\nfunction generateGrid(globalStyles, theme, breakpoint) {\n  var styles = {};\n  GRID_SIZES.forEach(function (size) {\n    var key = \"grid-\".concat(breakpoint, \"-\").concat(size);\n\n    if (size === true) {\n      // For the auto layouting\n      styles[key] = {\n        flexBasis: 0,\n        flexGrow: 1,\n        maxWidth: '100%'\n      };\n      return;\n    }\n\n    if (size === 'auto') {\n      styles[key] = {\n        flexBasis: 'auto',\n        flexGrow: 0,\n        maxWidth: 'none'\n      };\n      return;\n    } // Keep 7 significant numbers.\n\n\n    var width = \"\".concat(Math.round(size / 12 * 10e7) / 10e5, \"%\"); // Close to the bootstrap implementation:\n    // https://github.com/twbs/bootstrap/blob/8fccaa2439e97ec72a4b7dc42ccc1f649790adb0/scss/mixins/_grid.scss#L41\n\n    styles[key] = {\n      flexBasis: width,\n      flexGrow: 0,\n      maxWidth: width\n    };\n  }); // No need for a media query for the first size.\n\n  if (breakpoint === 'xs') {\n    _extends(globalStyles, styles);\n  } else {\n    globalStyles[theme.breakpoints.up(breakpoint)] = styles;\n  }\n}\n\nfunction getOffset(val) {\n  var div = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var parse = parseFloat(val);\n  return \"\".concat(parse / div).concat(String(val).replace(String(parse), '') || 'px');\n}\n\nfunction generateGutter(theme, breakpoint) {\n  var styles = {};\n  SPACINGS.forEach(function (spacing) {\n    var themeSpacing = theme.spacing(spacing);\n\n    if (themeSpacing === 0) {\n      return;\n    }\n\n    styles[\"spacing-\".concat(breakpoint, \"-\").concat(spacing)] = {\n      margin: \"-\".concat(getOffset(themeSpacing, 2)),\n      width: \"calc(100% + \".concat(getOffset(themeSpacing), \")\"),\n      '& > $item': {\n        padding: getOffset(themeSpacing, 2)\n      }\n    };\n  });\n  return styles;\n} // Default CSS values\n// flex: '0 1 auto',\n// flexDirection: 'row',\n// alignItems: 'flex-start',\n// flexWrap: 'nowrap',\n// justifyContent: 'flex-start',\n\n\nexport var styles = function styles(theme) {\n  return _extends({\n    /* Styles applied to the root element. */\n    root: {},\n\n    /* Styles applied to the root element if `container={true}`. */\n    container: {\n      boxSizing: 'border-box',\n      display: 'flex',\n      flexWrap: 'wrap',\n      width: '100%'\n    },\n\n    /* Styles applied to the root element if `item={true}`. */\n    item: {\n      boxSizing: 'border-box',\n      margin: '0' // For instance, it's useful when used with a `figure` element.\n\n    },\n\n    /* Styles applied to the root element if `zeroMinWidth={true}`. */\n    zeroMinWidth: {\n      minWidth: 0\n    },\n\n    /* Styles applied to the root element if `direction=\"column\"`. */\n    'direction-xs-column': {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the root element if `direction=\"column-reverse\"`. */\n    'direction-xs-column-reverse': {\n      flexDirection: 'column-reverse'\n    },\n\n    /* Styles applied to the root element if `direction=\"row-reverse\"`. */\n    'direction-xs-row-reverse': {\n      flexDirection: 'row-reverse'\n    },\n\n    /* Styles applied to the root element if `wrap=\"nowrap\"`. */\n    'wrap-xs-nowrap': {\n      flexWrap: 'nowrap'\n    },\n\n    /* Styles applied to the root element if `wrap=\"reverse\"`. */\n    'wrap-xs-wrap-reverse': {\n      flexWrap: 'wrap-reverse'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"center\"`. */\n    'align-items-xs-center': {\n      alignItems: 'center'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"flex-start\"`. */\n    'align-items-xs-flex-start': {\n      alignItems: 'flex-start'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"flex-end\"`. */\n    'align-items-xs-flex-end': {\n      alignItems: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"baseline\"`. */\n    'align-items-xs-baseline': {\n      alignItems: 'baseline'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"center\"`. */\n    'align-content-xs-center': {\n      alignContent: 'center'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"flex-start\"`. */\n    'align-content-xs-flex-start': {\n      alignContent: 'flex-start'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"flex-end\"`. */\n    'align-content-xs-flex-end': {\n      alignContent: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"space-between\"`. */\n    'align-content-xs-space-between': {\n      alignContent: 'space-between'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"space-around\"`. */\n    'align-content-xs-space-around': {\n      alignContent: 'space-around'\n    },\n\n    /* Styles applied to the root element if `justify=\"center\"`. */\n    'justify-xs-center': {\n      justifyContent: 'center'\n    },\n\n    /* Styles applied to the root element if `justify=\"flex-end\"`. */\n    'justify-xs-flex-end': {\n      justifyContent: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-between\"`. */\n    'justify-xs-space-between': {\n      justifyContent: 'space-between'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-around\"`. */\n    'justify-xs-space-around': {\n      justifyContent: 'space-around'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-evenly\"`. */\n    'justify-xs-space-evenly': {\n      justifyContent: 'space-evenly'\n    }\n  }, generateGutter(theme, 'xs'), theme.breakpoints.keys.reduce(function (accumulator, key) {\n    // Use side effect over immutability for better performance.\n    generateGrid(accumulator, theme, key);\n    return accumulator;\n  }, {}));\n};\nvar Grid = /*#__PURE__*/React.forwardRef(function Grid(props, ref) {\n  var _props$alignContent = props.alignContent,\n      alignContent = _props$alignContent === void 0 ? 'stretch' : _props$alignContent,\n      _props$alignItems = props.alignItems,\n      alignItems = _props$alignItems === void 0 ? 'stretch' : _props$alignItems,\n      classes = props.classes,\n      classNameProp = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$container = props.container,\n      container = _props$container === void 0 ? false : _props$container,\n      _props$direction = props.direction,\n      direction = _props$direction === void 0 ? 'row' : _props$direction,\n      _props$item = props.item,\n      item = _props$item === void 0 ? false : _props$item,\n      _props$justify = props.justify,\n      justify = _props$justify === void 0 ? 'flex-start' : _props$justify,\n      _props$lg = props.lg,\n      lg = _props$lg === void 0 ? false : _props$lg,\n      _props$md = props.md,\n      md = _props$md === void 0 ? false : _props$md,\n      _props$sm = props.sm,\n      sm = _props$sm === void 0 ? false : _props$sm,\n      _props$spacing = props.spacing,\n      spacing = _props$spacing === void 0 ? 0 : _props$spacing,\n      _props$wrap = props.wrap,\n      wrap = _props$wrap === void 0 ? 'wrap' : _props$wrap,\n      _props$xl = props.xl,\n      xl = _props$xl === void 0 ? false : _props$xl,\n      _props$xs = props.xs,\n      xs = _props$xs === void 0 ? false : _props$xs,\n      _props$zeroMinWidth = props.zeroMinWidth,\n      zeroMinWidth = _props$zeroMinWidth === void 0 ? false : _props$zeroMinWidth,\n      other = _objectWithoutProperties(props, [\"alignContent\", \"alignItems\", \"classes\", \"className\", \"component\", \"container\", \"direction\", \"item\", \"justify\", \"lg\", \"md\", \"sm\", \"spacing\", \"wrap\", \"xl\", \"xs\", \"zeroMinWidth\"]);\n\n  var className = clsx(classes.root, classNameProp, container && [classes.container, spacing !== 0 && classes[\"spacing-xs-\".concat(String(spacing))]], item && classes.item, zeroMinWidth && classes.zeroMinWidth, direction !== 'row' && classes[\"direction-xs-\".concat(String(direction))], wrap !== 'wrap' && classes[\"wrap-xs-\".concat(String(wrap))], alignItems !== 'stretch' && classes[\"align-items-xs-\".concat(String(alignItems))], alignContent !== 'stretch' && classes[\"align-content-xs-\".concat(String(alignContent))], justify !== 'flex-start' && classes[\"justify-xs-\".concat(String(justify))], xs !== false && classes[\"grid-xs-\".concat(String(xs))], sm !== false && classes[\"grid-sm-\".concat(String(sm))], md !== false && classes[\"grid-md-\".concat(String(md))], lg !== false && classes[\"grid-lg-\".concat(String(lg))], xl !== false && classes[\"grid-xl-\".concat(String(xl))]);\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: className,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Grid.propTypes = {\n  /**\n   * Defines the `align-content` style property.\n   * It's applied for all screen sizes.\n   */\n  alignContent: PropTypes.oneOf(['stretch', 'center', 'flex-start', 'flex-end', 'space-between', 'space-around']),\n\n  /**\n   * Defines the `align-items` style property.\n   * It's applied for all screen sizes.\n   */\n  alignItems: PropTypes.oneOf(['flex-start', 'center', 'flex-end', 'stretch', 'baseline']),\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, the component will have the flex *container* behavior.\n   * You should be wrapping *items* with a *container*.\n   */\n  container: PropTypes.bool,\n\n  /**\n   * Defines the `flex-direction` style property.\n   * It is applied for all screen sizes.\n   */\n  direction: PropTypes.oneOf(['row', 'row-reverse', 'column', 'column-reverse']),\n\n  /**\n   * If `true`, the component will have the flex *item* behavior.\n   * You should be wrapping *items* with a *container*.\n   */\n  item: PropTypes.bool,\n\n  /**\n   * Defines the `justify-content` style property.\n   * It is applied for all screen sizes.\n   */\n  justify: PropTypes.oneOf(['flex-start', 'center', 'flex-end', 'space-between', 'space-around', 'space-evenly']),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for the `lg` breakpoint and wider screens if not overridden.\n   */\n  lg: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for the `md` breakpoint and wider screens if not overridden.\n   */\n  md: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for the `sm` breakpoint and wider screens if not overridden.\n   */\n  sm: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * Defines the space between the type `item` component.\n   * It can only be used on a type `container` component.\n   */\n  spacing: PropTypes.oneOf(SPACINGS),\n\n  /**\n   * Defines the `flex-wrap` style property.\n   * It's applied for all screen sizes.\n   */\n  wrap: PropTypes.oneOf(['nowrap', 'wrap', 'wrap-reverse']),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for the `xl` breakpoint and wider screens.\n   */\n  xl: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for all the screen sizes with the lowest priority.\n   */\n  xs: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * If `true`, it sets `min-width: 0` on the item.\n   * Refer to the limitations section of the documentation to better understand the use case.\n   */\n  zeroMinWidth: PropTypes.bool\n} : void 0;\nvar StyledGrid = withStyles(styles, {\n  name: 'MuiGrid'\n})(Grid);\n\nif (process.env.NODE_ENV !== 'production') {\n  var requireProp = requirePropFactory('Grid');\n  StyledGrid.propTypes = _extends({}, StyledGrid.propTypes, {\n    alignContent: requireProp('container'),\n    alignItems: requireProp('container'),\n    direction: requireProp('container'),\n    justify: requireProp('container'),\n    lg: requireProp('item'),\n    md: requireProp('item'),\n    sm: requireProp('item'),\n    spacing: requireProp('container'),\n    wrap: requireProp('container'),\n    xs: requireProp('item'),\n    zeroMinWidth: requireProp('item')\n  });\n}\n\nexport default StyledGrid;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21.99 2H2v16h16l4 4-.01-20zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z\"\n}), 'CommentSharp');\n\nexports.default = _default;","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MosaicDropTarget = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar react_dnd_1 = require(\"react-dnd\");\nvar contextTypes_1 = require(\"./contextTypes\");\nvar types_1 = require(\"./types\");\nvar dropTarget = {\n    drop: function (props, monitor, component) {\n        if (component.context.mosaicId === (monitor.getItem() || {}).mosaicId) {\n            return {\n                path: props.path,\n                position: props.position,\n            };\n        }\n        else {\n            return {};\n        }\n    },\n};\nvar MosaicDropTargetClass = /** @class */ (function (_super) {\n    __extends(MosaicDropTargetClass, _super);\n    function MosaicDropTargetClass() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MosaicDropTargetClass.prototype.render = function () {\n        var _a = this.props, position = _a.position, isOver = _a.isOver, connectDropTarget = _a.connectDropTarget, draggedMosaicId = _a.draggedMosaicId;\n        return connectDropTarget(react_1.default.createElement(\"div\", { className: classnames_1.default('drop-target', position, {\n                'drop-target-hover': isOver && draggedMosaicId === this.context.mosaicId,\n            }) }));\n    };\n    MosaicDropTargetClass.contextType = contextTypes_1.MosaicContext;\n    return MosaicDropTargetClass;\n}(react_1.default.PureComponent));\nexports.MosaicDropTarget = react_dnd_1.DropTarget(types_1.MosaicDragType.WINDOW, dropTarget, function (connect, monitor) { return ({\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    draggedMosaicId: (monitor.getItem() || {}).mosaicId,\n}); })(MosaicDropTargetClass);\n//# sourceMappingURL=MosaicDropTarget.js.map","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getAndAssertNodeAtPathExists = exports.getNodeAtPath = exports.getLeaves = exports.getPathToCorner = exports.getOtherDirection = exports.getOtherBranch = exports.createBalancedTreeFromLeaves = exports.isParent = exports.Corner = void 0;\nvar clone_1 = __importDefault(require(\"lodash/clone\"));\nvar get_1 = __importDefault(require(\"lodash/get\"));\nfunction alternateDirection(node, direction) {\n    if (direction === void 0) { direction = 'row'; }\n    if (isParent(node)) {\n        var nextDirection = getOtherDirection(direction);\n        return {\n            direction: direction,\n            first: alternateDirection(node.first, nextDirection),\n            second: alternateDirection(node.second, nextDirection),\n        };\n    }\n    else {\n        return node;\n    }\n}\nvar Corner;\n(function (Corner) {\n    Corner[Corner[\"TOP_LEFT\"] = 1] = \"TOP_LEFT\";\n    Corner[Corner[\"TOP_RIGHT\"] = 2] = \"TOP_RIGHT\";\n    Corner[Corner[\"BOTTOM_LEFT\"] = 3] = \"BOTTOM_LEFT\";\n    Corner[Corner[\"BOTTOM_RIGHT\"] = 4] = \"BOTTOM_RIGHT\";\n})(Corner = exports.Corner || (exports.Corner = {}));\n/**\n * Returns `true` if `node` is a MosaicParent\n * @param node\n * @returns {boolean}\n */\nfunction isParent(node) {\n    return node.direction != null;\n}\nexports.isParent = isParent;\n/**\n * Creates a balanced binary tree from `leaves` with the goal of making them as equal area as possible\n * @param leaves\n * @param startDirection\n * @returns {MosaicNode<T>}\n */\nfunction createBalancedTreeFromLeaves(leaves, startDirection) {\n    if (startDirection === void 0) { startDirection = 'row'; }\n    if (leaves.length === 0) {\n        return null;\n    }\n    var current = clone_1.default(leaves);\n    var next = [];\n    while (current.length > 1) {\n        while (current.length > 0) {\n            if (current.length > 1) {\n                next.push({\n                    direction: 'row',\n                    first: current.shift(),\n                    second: current.shift(),\n                });\n            }\n            else {\n                next.unshift(current.shift());\n            }\n        }\n        current = next;\n        next = [];\n    }\n    return alternateDirection(current[0], startDirection);\n}\nexports.createBalancedTreeFromLeaves = createBalancedTreeFromLeaves;\n/**\n * Gets the sibling of `branch`\n * @param branch\n * @returns {any}\n */\nfunction getOtherBranch(branch) {\n    if (branch === 'first') {\n        return 'second';\n    }\n    else if (branch === 'second') {\n        return 'first';\n    }\n    else {\n        throw new Error(\"Branch '\" + branch + \"' not a valid branch\");\n    }\n}\nexports.getOtherBranch = getOtherBranch;\n/**\n * Gets the opposite of `direction`\n * @param direction\n * @returns {any}\n */\nfunction getOtherDirection(direction) {\n    if (direction === 'row') {\n        return 'column';\n    }\n    else {\n        return 'row';\n    }\n}\nexports.getOtherDirection = getOtherDirection;\n/**\n * Traverses `tree` to find the path to the specified `corner`\n * @param tree\n * @param corner\n * @returns {MosaicPath}\n */\nfunction getPathToCorner(tree, corner) {\n    var currentNode = tree;\n    var currentPath = [];\n    while (isParent(currentNode)) {\n        if (currentNode.direction === 'row' && (corner === Corner.TOP_LEFT || corner === Corner.BOTTOM_LEFT)) {\n            currentPath.push('first');\n            currentNode = currentNode.first;\n        }\n        else if (currentNode.direction === 'column' && (corner === Corner.TOP_LEFT || corner === Corner.TOP_RIGHT)) {\n            currentPath.push('first');\n            currentNode = currentNode.first;\n        }\n        else {\n            currentPath.push('second');\n            currentNode = currentNode.second;\n        }\n    }\n    return currentPath;\n}\nexports.getPathToCorner = getPathToCorner;\n/**\n * Gets all leaves of `tree`\n * @param tree\n * @returns {T[]}\n */\nfunction getLeaves(tree) {\n    if (tree == null) {\n        return [];\n    }\n    else if (isParent(tree)) {\n        return getLeaves(tree.first).concat(getLeaves(tree.second));\n    }\n    else {\n        return [tree];\n    }\n}\nexports.getLeaves = getLeaves;\n/**\n * Gets node at `path` from `tree`\n * @param tree\n * @param path\n * @returns {MosaicNode<T>|null}\n */\nfunction getNodeAtPath(tree, path) {\n    if (path.length > 0) {\n        return get_1.default(tree, path, null);\n    }\n    else {\n        return tree;\n    }\n}\nexports.getNodeAtPath = getNodeAtPath;\n/**\n * Gets node at `path` from `tree` and verifies that neither `tree` nor the result are null\n * @param tree\n * @param path\n * @returns {MosaicNode<T>}\n */\nfunction getAndAssertNodeAtPathExists(tree, path) {\n    if (tree == null) {\n        throw new Error('Root is empty, cannot fetch path');\n    }\n    var node = getNodeAtPath(tree, path);\n    if (node == null) {\n        throw new Error(\"Path [\" + path.join(', ') + \"] did not resolve to a node\");\n    }\n    return node;\n}\nexports.getAndAssertNodeAtPathExists = getAndAssertNodeAtPathExists;\n//# sourceMappingURL=mosaicUtilities.js.map","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14l-6-6z\"\n}), 'ExpandLessSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10 17l5-5-5-5v10z\"\n}), 'ArrowRightSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"\n}), 'MenuSharp');\n\nexports.default = _default;","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 3H3v18h18V3zm-2 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z\"\n}), 'CropOriginalSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91c.48.22 1.05.34 1.7.34.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}), 'CopyrightSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\"\n}), 'InfoSharp');\n\nexports.default = _default;","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport { duration } from '../styles/transitions';\nimport useTheme from '../styles/useTheme';\nimport { reflow, getTransitionProps } from '../transitions/utils';\nimport useForkRef from '../utils/useForkRef';\nvar styles = {\n  entering: {\n    opacity: 1\n  },\n  entered: {\n    opacity: 1\n  }\n};\nvar defaultTimeout = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The Fade transition is used by the [Modal](/components/modal/) component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Fade = /*#__PURE__*/React.forwardRef(function Fade(props, ref) {\n  var children = props.children,\n      _props$disableStrictM = props.disableStrictModeCompat,\n      disableStrictModeCompat = _props$disableStrictM === void 0 ? false : _props$disableStrictM,\n      inProp = props.in,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Transition : _props$TransitionComp,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? defaultTimeout : _props$timeout,\n      other = _objectWithoutProperties(props, [\"children\", \"disableStrictModeCompat\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"TransitionComponent\", \"timeout\"]);\n\n  var theme = useTheme();\n  var enableStrictModeCompat = theme.unstable_strictMode && !disableStrictModeCompat;\n  var nodeRef = React.useRef(null);\n  var foreignRef = useForkRef(children.ref, ref);\n  var handleRef = useForkRef(enableStrictModeCompat ? nodeRef : undefined, foreignRef);\n\n  var normalizedTransitionCallback = function normalizedTransitionCallback(callback) {\n    return function (nodeOrAppearing, maybeAppearing) {\n      if (callback) {\n        var _ref = enableStrictModeCompat ? [nodeRef.current, nodeOrAppearing] : [nodeOrAppearing, maybeAppearing],\n            _ref2 = _slicedToArray(_ref, 2),\n            node = _ref2[0],\n            isAppearing = _ref2[1]; // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n\n\n        if (isAppearing === undefined) {\n          callback(node);\n        } else {\n          callback(node, isAppearing);\n        }\n      }\n    };\n  };\n\n  var handleEntering = normalizedTransitionCallback(onEntering);\n  var handleEnter = normalizedTransitionCallback(function (node, isAppearing) {\n    reflow(node); // So the animation always start from the start.\n\n    var transitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'enter'\n    });\n    node.style.webkitTransition = theme.transitions.create('opacity', transitionProps);\n    node.style.transition = theme.transitions.create('opacity', transitionProps);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  var handleEntered = normalizedTransitionCallback(onEntered);\n  var handleExiting = normalizedTransitionCallback(onExiting);\n  var handleExit = normalizedTransitionCallback(function (node) {\n    var transitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'exit'\n    });\n    node.style.webkitTransition = theme.transitions.create('opacity', transitionProps);\n    node.style.transition = theme.transitions.create('opacity', transitionProps);\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  var handleExited = normalizedTransitionCallback(onExited);\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    appear: true,\n    in: inProp,\n    nodeRef: enableStrictModeCompat ? nodeRef : undefined,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    timeout: timeout\n  }, other), function (state, childProps) {\n    return /*#__PURE__*/React.cloneElement(children, _extends({\n      style: _extends({\n        opacity: 0,\n        visibility: state === 'exited' && !inProp ? 'hidden' : undefined\n      }, styles[state], style, children.props.style),\n      ref: handleRef\n    }, childProps));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Fade.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * A single child content element.\n   */\n  children: PropTypes.element,\n\n  /**\n   * Enable this prop if you encounter 'Function components cannot be given refs',\n   * use `unstable_createStrictModeTheme`,\n   * and can't forward the ref in the child component.\n   */\n  disableStrictModeCompat: PropTypes.bool,\n\n  /**\n   * If `true`, the component will transition in.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  timeout: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nexport default Fade;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Fade from '../Fade';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    // Improve scrollable dialog support.\n    zIndex: -1,\n    position: 'fixed',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    right: 0,\n    bottom: 0,\n    top: 0,\n    left: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    WebkitTapHighlightColor: 'transparent'\n  },\n\n  /* Styles applied to the root element if `invisible={true}`. */\n  invisible: {\n    backgroundColor: 'transparent'\n  }\n};\nvar Backdrop = /*#__PURE__*/React.forwardRef(function Backdrop(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$invisible = props.invisible,\n      invisible = _props$invisible === void 0 ? false : _props$invisible,\n      open = props.open,\n      transitionDuration = props.transitionDuration,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Fade : _props$TransitionComp,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"invisible\", \"open\", \"transitionDuration\", \"TransitionComponent\"]);\n\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    in: open,\n    timeout: transitionDuration\n  }, other), /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.root, className, invisible && classes.invisible),\n    \"aria-hidden\": true,\n    ref: ref\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? Backdrop.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the backdrop is invisible.\n   * It can be used when rendering a popover or a custom select component.\n   */\n  invisible: PropTypes.bool,\n\n  /**\n   * If `true`, the backdrop is open.\n   */\n  open: PropTypes.bool.isRequired,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiBackdrop'\n})(Backdrop);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nimport Modal from '../Modal';\nimport Backdrop from '../Backdrop';\nimport Fade from '../Fade';\nimport { duration } from '../styles/transitions';\nimport Paper from '../Paper';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      '@media print': {\n        // Use !important to override the Modal inline-style.\n        position: 'absolute !important'\n      }\n    },\n\n    /* Styles applied to the container element if `scroll=\"paper\"`. */\n    scrollPaper: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n\n    /* Styles applied to the container element if `scroll=\"body\"`. */\n    scrollBody: {\n      overflowY: 'auto',\n      overflowX: 'hidden',\n      textAlign: 'center',\n      '&:after': {\n        content: '\"\"',\n        display: 'inline-block',\n        verticalAlign: 'middle',\n        height: '100%',\n        width: '0'\n      }\n    },\n\n    /* Styles applied to the container element. */\n    container: {\n      height: '100%',\n      '@media print': {\n        height: 'auto'\n      },\n      // We disable the focus ring for mouse, touch and keyboard users.\n      outline: 0\n    },\n\n    /* Styles applied to the `Paper` component. */\n    paper: {\n      margin: 32,\n      position: 'relative',\n      overflowY: 'auto',\n      // Fix IE 11 issue, to remove at some point.\n      '@media print': {\n        overflowY: 'visible',\n        boxShadow: 'none'\n      }\n    },\n\n    /* Styles applied to the `Paper` component if `scroll=\"paper\"`. */\n    paperScrollPaper: {\n      display: 'flex',\n      flexDirection: 'column',\n      maxHeight: 'calc(100% - 64px)'\n    },\n\n    /* Styles applied to the `Paper` component if `scroll=\"body\"`. */\n    paperScrollBody: {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n      textAlign: 'left' // 'initial' doesn't work on IE 11\n\n    },\n\n    /* Styles applied to the `Paper` component if `maxWidth=false`. */\n    paperWidthFalse: {\n      maxWidth: 'calc(100% - 64px)'\n    },\n\n    /* Styles applied to the `Paper` component if `maxWidth=\"xs\"`. */\n    paperWidthXs: {\n      maxWidth: Math.max(theme.breakpoints.values.xs, 444),\n      '&$paperScrollBody': _defineProperty({}, theme.breakpoints.down(Math.max(theme.breakpoints.values.xs, 444) + 32 * 2), {\n        maxWidth: 'calc(100% - 64px)'\n      })\n    },\n\n    /* Styles applied to the `Paper` component if `maxWidth=\"sm\"`. */\n    paperWidthSm: {\n      maxWidth: theme.breakpoints.values.sm,\n      '&$paperScrollBody': _defineProperty({}, theme.breakpoints.down(theme.breakpoints.values.sm + 32 * 2), {\n        maxWidth: 'calc(100% - 64px)'\n      })\n    },\n\n    /* Styles applied to the `Paper` component if `maxWidth=\"md\"`. */\n    paperWidthMd: {\n      maxWidth: theme.breakpoints.values.md,\n      '&$paperScrollBody': _defineProperty({}, theme.breakpoints.down(theme.breakpoints.values.md + 32 * 2), {\n        maxWidth: 'calc(100% - 64px)'\n      })\n    },\n\n    /* Styles applied to the `Paper` component if `maxWidth=\"lg\"`. */\n    paperWidthLg: {\n      maxWidth: theme.breakpoints.values.lg,\n      '&$paperScrollBody': _defineProperty({}, theme.breakpoints.down(theme.breakpoints.values.lg + 32 * 2), {\n        maxWidth: 'calc(100% - 64px)'\n      })\n    },\n\n    /* Styles applied to the `Paper` component if `maxWidth=\"xl\"`. */\n    paperWidthXl: {\n      maxWidth: theme.breakpoints.values.xl,\n      '&$paperScrollBody': _defineProperty({}, theme.breakpoints.down(theme.breakpoints.values.xl + 32 * 2), {\n        maxWidth: 'calc(100% - 64px)'\n      })\n    },\n\n    /* Styles applied to the `Paper` component if `fullWidth={true}`. */\n    paperFullWidth: {\n      width: 'calc(100% - 64px)'\n    },\n\n    /* Styles applied to the `Paper` component if `fullScreen={true}`. */\n    paperFullScreen: {\n      margin: 0,\n      width: '100%',\n      maxWidth: '100%',\n      height: '100%',\n      maxHeight: 'none',\n      borderRadius: 0,\n      '&$paperScrollBody': {\n        margin: 0,\n        maxWidth: '100%'\n      }\n    }\n  };\n};\nvar defaultTransitionDuration = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * Dialogs are overlaid modal paper based components with a backdrop.\n */\n\nvar Dialog = /*#__PURE__*/React.forwardRef(function Dialog(props, ref) {\n  var BackdropProps = props.BackdropProps,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$disableBackdro = props.disableBackdropClick,\n      disableBackdropClick = _props$disableBackdro === void 0 ? false : _props$disableBackdro,\n      _props$disableEscapeK = props.disableEscapeKeyDown,\n      disableEscapeKeyDown = _props$disableEscapeK === void 0 ? false : _props$disableEscapeK,\n      _props$fullScreen = props.fullScreen,\n      fullScreen = _props$fullScreen === void 0 ? false : _props$fullScreen,\n      _props$fullWidth = props.fullWidth,\n      fullWidth = _props$fullWidth === void 0 ? false : _props$fullWidth,\n      _props$maxWidth = props.maxWidth,\n      maxWidth = _props$maxWidth === void 0 ? 'sm' : _props$maxWidth,\n      onBackdropClick = props.onBackdropClick,\n      onClose = props.onClose,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onEscapeKeyDown = props.onEscapeKeyDown,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      open = props.open,\n      _props$PaperComponent = props.PaperComponent,\n      PaperComponent = _props$PaperComponent === void 0 ? Paper : _props$PaperComponent,\n      _props$PaperProps = props.PaperProps,\n      PaperProps = _props$PaperProps === void 0 ? {} : _props$PaperProps,\n      _props$scroll = props.scroll,\n      scroll = _props$scroll === void 0 ? 'paper' : _props$scroll,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Fade : _props$TransitionComp,\n      _props$transitionDura = props.transitionDuration,\n      transitionDuration = _props$transitionDura === void 0 ? defaultTransitionDuration : _props$transitionDura,\n      TransitionProps = props.TransitionProps,\n      ariaDescribedby = props['aria-describedby'],\n      ariaLabelledby = props['aria-labelledby'],\n      other = _objectWithoutProperties(props, [\"BackdropProps\", \"children\", \"classes\", \"className\", \"disableBackdropClick\", \"disableEscapeKeyDown\", \"fullScreen\", \"fullWidth\", \"maxWidth\", \"onBackdropClick\", \"onClose\", \"onEnter\", \"onEntered\", \"onEntering\", \"onEscapeKeyDown\", \"onExit\", \"onExited\", \"onExiting\", \"open\", \"PaperComponent\", \"PaperProps\", \"scroll\", \"TransitionComponent\", \"transitionDuration\", \"TransitionProps\", \"aria-describedby\", \"aria-labelledby\"]);\n\n  var mouseDownTarget = React.useRef();\n\n  var handleMouseDown = function handleMouseDown(event) {\n    mouseDownTarget.current = event.target;\n  };\n\n  var handleBackdropClick = function handleBackdropClick(event) {\n    // Ignore the events not coming from the \"backdrop\"\n    // We don't want to close the dialog when clicking the dialog content.\n    if (event.target !== event.currentTarget) {\n      return;\n    } // Make sure the event starts and ends on the same DOM element.\n\n\n    if (event.target !== mouseDownTarget.current) {\n      return;\n    }\n\n    mouseDownTarget.current = null;\n\n    if (onBackdropClick) {\n      onBackdropClick(event);\n    }\n\n    if (!disableBackdropClick && onClose) {\n      onClose(event, 'backdropClick');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, _extends({\n    className: clsx(classes.root, className),\n    BackdropComponent: Backdrop,\n    BackdropProps: _extends({\n      transitionDuration: transitionDuration\n    }, BackdropProps),\n    closeAfterTransition: true,\n    disableBackdropClick: disableBackdropClick,\n    disableEscapeKeyDown: disableEscapeKeyDown,\n    onEscapeKeyDown: onEscapeKeyDown,\n    onClose: onClose,\n    open: open,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    appear: true,\n    in: open,\n    timeout: transitionDuration,\n    onEnter: onEnter,\n    onEntering: onEntering,\n    onEntered: onEntered,\n    onExit: onExit,\n    onExiting: onExiting,\n    onExited: onExited,\n    role: \"none presentation\"\n  }, TransitionProps), /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.container, classes[\"scroll\".concat(capitalize(scroll))]),\n    onMouseUp: handleBackdropClick,\n    onMouseDown: handleMouseDown\n  }, /*#__PURE__*/React.createElement(PaperComponent, _extends({\n    elevation: 24,\n    role: \"dialog\",\n    \"aria-describedby\": ariaDescribedby,\n    \"aria-labelledby\": ariaLabelledby\n  }, PaperProps, {\n    className: clsx(classes.paper, classes[\"paperScroll\".concat(capitalize(scroll))], classes[\"paperWidth\".concat(capitalize(String(maxWidth)))], PaperProps.className, fullScreen && classes.paperFullScreen, fullWidth && classes.paperFullWidth)\n  }), children))));\n});\nprocess.env.NODE_ENV !== \"production\" ? Dialog.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The id(s) of the element(s) that describe the dialog.\n   */\n  'aria-describedby': PropTypes.string,\n\n  /**\n   * The id(s) of the element(s) that label the dialog.\n   */\n  'aria-labelledby': PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  BackdropProps: PropTypes.object,\n\n  /**\n   * Dialog children, usually the included sub-components.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, clicking the backdrop will not fire the `onClose` callback.\n   */\n  disableBackdropClick: PropTypes.bool,\n\n  /**\n   * If `true`, hitting escape will not fire the `onClose` callback.\n   */\n  disableEscapeKeyDown: PropTypes.bool,\n\n  /**\n   * If `true`, the dialog will be full-screen\n   */\n  fullScreen: PropTypes.bool,\n\n  /**\n   * If `true`, the dialog stretches to `maxWidth`.\n   *\n   * Notice that the dialog width grow is limited by the default margin.\n   */\n  fullWidth: PropTypes.bool,\n\n  /**\n   * Determine the max-width of the dialog.\n   * The dialog width grows with the size of the screen.\n   * Set to `false` to disable `maxWidth`.\n   */\n  maxWidth: PropTypes.oneOf(['lg', 'md', 'sm', 'xl', 'xs', false]),\n\n  /**\n   * Callback fired when the backdrop is clicked.\n   */\n  onBackdropClick: PropTypes.func,\n\n  /**\n   * Callback fired when the component requests to be closed.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {string} reason Can be: `\"escapeKeyDown\"`, `\"backdropClick\"`.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Callback fired before the dialog enters.\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired when the dialog has entered.\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired when the dialog is entering.\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired when the escape key is pressed,\n   * `disableKeyboard` is false and the modal is in focus.\n   */\n  onEscapeKeyDown: PropTypes.func,\n\n  /**\n   * Callback fired before the dialog exits.\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired when the dialog has exited.\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * Callback fired when the dialog is exiting.\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * If `true`, the Dialog is open.\n   */\n  open: PropTypes.bool.isRequired,\n\n  /**\n   * The component used to render the body of the dialog.\n   */\n  PaperComponent: PropTypes.elementType,\n\n  /**\n   * Props applied to the [`Paper`](/api/paper/) element.\n   */\n  PaperProps: PropTypes.object,\n\n  /**\n   * Determine the container for scrolling the dialog.\n   */\n  scroll: PropTypes.oneOf(['body', 'paper']),\n\n  /**\n   * The component used for the transition.\n   * [Follow this guide](/components/transitions/#transitioncomponent-prop) to learn more about the requirements for this component.\n   */\n  TransitionComponent: PropTypes.elementType,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })]),\n\n  /**\n   * Props applied to the [`Transition`](http://reactcommunity.org/react-transition-group/transition#Transition-props) element.\n   */\n  TransitionProps: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDialog'\n})(Dialog);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      flex: '1 1 auto',\n      WebkitOverflowScrolling: 'touch',\n      // Add iOS momentum scrolling.\n      overflowY: 'auto',\n      padding: '8px 24px',\n      '&:first-child': {\n        // dialog without title\n        paddingTop: 20\n      }\n    },\n\n    /* Styles applied to the root element if `dividers={true}`. */\n    dividers: {\n      padding: '16px 24px',\n      borderTop: \"1px solid \".concat(theme.palette.divider),\n      borderBottom: \"1px solid \".concat(theme.palette.divider)\n    }\n  };\n};\nvar DialogContent = /*#__PURE__*/React.forwardRef(function DialogContent(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$dividers = props.dividers,\n      dividers = _props$dividers === void 0 ? false : _props$dividers,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"dividers\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, dividers && classes.dividers),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogContent.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Display the top and bottom dividers.\n   */\n  dividers: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDialogContent'\n})(DialogContent);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    margin: 0,\n    padding: '16px 24px',\n    flex: '0 0 auto'\n  }\n};\nvar DialogTitle = /*#__PURE__*/React.forwardRef(function DialogTitle(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$disableTypogra = props.disableTypography,\n      disableTypography = _props$disableTypogra === void 0 ? false : _props$disableTypogra,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"disableTypography\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), disableTypography ? children : /*#__PURE__*/React.createElement(Typography, {\n    component: \"h2\",\n    variant: \"h6\"\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogTitle.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the children won't be wrapped by a typography component.\n   * For instance, this can be useful to render an h4 instead of the default h2.\n   */\n  disableTypography: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDialogTitle'\n})(DialogTitle);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    marginBottom: 12\n  }\n};\nvar DialogContentText = /*#__PURE__*/React.forwardRef(function DialogContentText(props, ref) {\n  return /*#__PURE__*/React.createElement(Typography, _extends({\n    component: \"p\",\n    variant: \"body1\",\n    color: \"textSecondary\",\n    ref: ref\n  }, props));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogContentText.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDialogContentText'\n})(DialogContentText);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: 8,\n    justifyContent: 'flex-end',\n    flex: '0 0 auto'\n  },\n\n  /* Styles applied to the root element if `disableSpacing={false}`. */\n  spacing: {\n    '& > :not(:first-child)': {\n      marginLeft: 8\n    }\n  }\n};\nvar DialogActions = /*#__PURE__*/React.forwardRef(function DialogActions(props, ref) {\n  var _props$disableSpacing = props.disableSpacing,\n      disableSpacing = _props$disableSpacing === void 0 ? false : _props$disableSpacing,\n      classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"disableSpacing\", \"classes\", \"className\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, !disableSpacing && classes.spacing),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogActions.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the actions do not have additional margin.\n   */\n  disableSpacing: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDialogActions'\n})(DialogActions);","import _isUndefined from \"lodash/isUndefined\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { DialogActions, DialogContentText, Typography } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\n\n/**\n */\nexport var ErrorDialog = /*#__PURE__*/function (_Component) {\n  _inherits(ErrorDialog, _Component);\n\n  var _super = _createSuper(ErrorDialog);\n\n  function ErrorDialog() {\n    _classCallCheck(this, ErrorDialog);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ErrorDialog, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return\n     */\n    function render() {\n      var _this$props = this.props,\n          error = _this$props.error,\n          removeError = _this$props.removeError,\n          t = _this$props.t;\n      var hasError = !_isUndefined(error);\n      return error ? /*#__PURE__*/React.createElement(Dialog, {\n        \"aria-labelledby\": \"error-dialog-title\",\n        id: \"error-dialog\",\n        onClose: function onClose() {\n          return removeError(error.id);\n        },\n        open: hasError\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"error-dialog-title\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\"\n      }, t('errorDialogTitle'))), /*#__PURE__*/React.createElement(DialogContent, {\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(DialogContentText, {\n        variant: \"body2\",\n        noWrap: true,\n        color: \"inherit\"\n      }, \"\".concat(error.message)), /*#__PURE__*/React.createElement(DialogActions, null, /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          return removeError(error.id);\n        },\n        variant: \"contained\"\n      }, t('errorDialogConfirm'))))) : null;\n    }\n  }]);\n\n  return ErrorDialog;\n}(Component);\nErrorDialog.defaultProps = {\n  error: null,\n  removeError: function removeError() {},\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { ErrorDialog } from '../components/ErrorDialog';\nimport * as actions from '../state/actions';\nimport { getLatestError } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof ErrorDialog\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    error: getLatestError(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof App\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  removeError: actions.removeError\n};\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('ErrorDialog'));\nexport default enhance(ErrorDialog);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nimport Paper from '../Paper';\nexport var styles = function styles(theme) {\n  var backgroundColorDefault = theme.palette.type === 'light' ? theme.palette.grey[100] : theme.palette.grey[900];\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      width: '100%',\n      boxSizing: 'border-box',\n      // Prevent padding issue with the Modal and fixed positioned AppBar.\n      zIndex: theme.zIndex.appBar,\n      flexShrink: 0\n    },\n\n    /* Styles applied to the root element if `position=\"fixed\"`. */\n    positionFixed: {\n      position: 'fixed',\n      top: 0,\n      left: 'auto',\n      right: 0,\n      '@media print': {\n        // Prevent the app bar to be visible on each printed page.\n        position: 'absolute'\n      }\n    },\n\n    /* Styles applied to the root element if `position=\"absolute\"`. */\n    positionAbsolute: {\n      position: 'absolute',\n      top: 0,\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the root element if `position=\"sticky\"`. */\n    positionSticky: {\n      // ⚠️ sticky is not supported by IE 11.\n      position: 'sticky',\n      top: 0,\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the root element if `position=\"static\"`. */\n    positionStatic: {\n      position: 'static'\n    },\n\n    /* Styles applied to the root element if `position=\"relative\"`. */\n    positionRelative: {\n      position: 'relative'\n    },\n\n    /* Styles applied to the root element if `color=\"default\"`. */\n    colorDefault: {\n      backgroundColor: backgroundColorDefault,\n      color: theme.palette.getContrastText(backgroundColorDefault)\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the root element if `color=\"transparent\"`. */\n    colorTransparent: {\n      backgroundColor: 'transparent',\n      color: 'inherit'\n    }\n  };\n};\nvar AppBar = /*#__PURE__*/React.forwardRef(function AppBar(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'primary' : _props$color,\n      _props$position = props.position,\n      position = _props$position === void 0 ? 'fixed' : _props$position,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"position\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    square: true,\n    component: \"header\",\n    elevation: 4,\n    className: clsx(classes.root, classes[\"position\".concat(capitalize(position))], classes[\"color\".concat(capitalize(color))], className, position === 'fixed' && 'mui-fixed'),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? AppBar.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary', 'transparent']),\n\n  /**\n   * The positioning type. The behavior of the different options is described\n   * [in the MDN web docs](https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Positioning).\n   * Note: `sticky` is not universally supported and will fall back to `static` when unavailable.\n   */\n  position: PropTypes.oneOf(['absolute', 'fixed', 'relative', 'static', 'sticky'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAppBar'\n})(AppBar);","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.button, {\n      boxSizing: 'border-box',\n      minHeight: 36,\n      transition: theme.transitions.create(['background-color', 'box-shadow', 'border'], {\n        duration: theme.transitions.duration.short\n      }),\n      borderRadius: '50%',\n      padding: 0,\n      minWidth: 0,\n      width: 56,\n      height: 56,\n      boxShadow: theme.shadows[6],\n      '&:active': {\n        boxShadow: theme.shadows[12]\n      },\n      color: theme.palette.getContrastText(theme.palette.grey[300]),\n      backgroundColor: theme.palette.grey[300],\n      '&:hover': {\n        backgroundColor: theme.palette.grey.A100,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.grey[300]\n        },\n        '&$disabled': {\n          backgroundColor: theme.palette.action.disabledBackground\n        },\n        textDecoration: 'none'\n      },\n      '&$focusVisible': {\n        boxShadow: theme.shadows[6]\n      },\n      '&$disabled': {\n        color: theme.palette.action.disabled,\n        boxShadow: theme.shadows[0],\n        backgroundColor: theme.palette.action.disabledBackground\n      }\n    }),\n\n    /* Styles applied to the span element that wraps the children. */\n    label: {\n      width: '100%',\n      // assure the correct width for iOS Safari\n      display: 'inherit',\n      alignItems: 'inherit',\n      justifyContent: 'inherit'\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    primary: {\n      color: theme.palette.primary.contrastText,\n      backgroundColor: theme.palette.primary.main,\n      '&:hover': {\n        backgroundColor: theme.palette.primary.dark,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.primary.main\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    secondary: {\n      color: theme.palette.secondary.contrastText,\n      backgroundColor: theme.palette.secondary.main,\n      '&:hover': {\n        backgroundColor: theme.palette.secondary.dark,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.secondary.main\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"extended\"`. */\n    extended: {\n      borderRadius: 48 / 2,\n      padding: '0 16px',\n      width: 'auto',\n      minHeight: 'auto',\n      minWidth: 48,\n      height: 48,\n      '&$sizeSmall': {\n        width: 'auto',\n        padding: '0 8px',\n        borderRadius: 34 / 2,\n        minWidth: 34,\n        height: 34\n      },\n      '&$sizeMedium': {\n        width: 'auto',\n        padding: '0 16px',\n        borderRadius: 40 / 2,\n        minWidth: 40,\n        height: 40\n      }\n    },\n\n    /* Pseudo-class applied to the ButtonBase root element if the button is keyboard focused. */\n    focusVisible: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the root element if `size=\"small\"``. */\n    sizeSmall: {\n      width: 40,\n      height: 40\n    },\n\n    /* Styles applied to the root element if `size=\"medium\"``. */\n    sizeMedium: {\n      width: 48,\n      height: 48\n    }\n  };\n};\nvar Fab = /*#__PURE__*/React.forwardRef(function Fab(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'button' : _props$component,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      focusVisibleClassName = props.focusVisibleClassName,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'large' : _props$size,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'round' : _props$variant,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"color\", \"component\", \"disabled\", \"disableFocusRipple\", \"focusVisibleClassName\", \"size\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    className: clsx(classes.root, className, variant !== \"round\" && classes.extended, size !== 'large' && classes[\"size\".concat(capitalize(size))], disabled && classes.disabled, {\n      'primary': classes.primary,\n      'secondary': classes.secondary,\n      'inherit': classes.colorInherit\n    }[color]),\n    component: component,\n    disabled: disabled,\n    focusRipple: !disableFocusRipple,\n    focusVisibleClassName: clsx(classes.focusVisible, focusVisibleClassName),\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.label\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? Fab.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the button.\n   */\n  children: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, the button will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the  keyboard focus ripple will be disabled.\n   */\n  disableFocusRipple: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * The URL to link to when the button is clicked.\n   * If defined, an `a` element will be used as the root node.\n   */\n  href: PropTypes.string,\n\n  /**\n   * The size of the button.\n   * `small` is equivalent to the dense button styling.\n   */\n  size: PropTypes.oneOf(['large', 'medium', 'small']),\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['extended', 'round'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiFab'\n})(Fab);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Fab from '@material-ui/core/Fab';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport AddIcon from '@material-ui/icons/AddSharp';\nimport CloseIcon from '@material-ui/icons/CloseSharp';\n/**\n */\n\nexport var WorkspaceAddButton = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceAddButton, _Component);\n\n  var _super = _createSuper(WorkspaceAddButton);\n\n  function WorkspaceAddButton() {\n    _classCallCheck(this, WorkspaceAddButton);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceAddButton, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return\n     */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          t = _this$props.t,\n          setWorkspaceAddVisibility = _this$props.setWorkspaceAddVisibility,\n          isWorkspaceAddVisible = _this$props.isWorkspaceAddVisible,\n          useExtendedFab = _this$props.useExtendedFab;\n      return /*#__PURE__*/React.createElement(Tooltip, {\n        title: isWorkspaceAddVisible ? t('closeAddResourceMenu') : t('addResource')\n      }, /*#__PURE__*/React.createElement(Fab, {\n        size: \"medium\",\n        color: \"primary\",\n        id: \"addBtn\",\n        disableRipple: true,\n        \"aria-label\": isWorkspaceAddVisible ? t('closeAddResourceMenu') : useExtendedFab && t('startHere') || t('addResource'),\n        className: classes.fab,\n        classes: {\n          primary: classes.fabPrimary,\n          secondary: classes.fabSecondary\n        },\n        variant: useExtendedFab ? 'extended' : 'round',\n        onClick: function onClick() {\n          setWorkspaceAddVisibility(!isWorkspaceAddVisible);\n        }\n      }, isWorkspaceAddVisible ? /*#__PURE__*/React.createElement(CloseIcon, null) : /*#__PURE__*/React.createElement(AddIcon, null), useExtendedFab && t('startHere')));\n    }\n  }]);\n\n  return WorkspaceAddButton;\n}(Component);\nWorkspaceAddButton.defaultProps = {\n  isWorkspaceAddVisible: false,\n  t: function t(key) {\n    return key;\n  }\n};","import { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport withWidth from '@material-ui/core/withWidth';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getWindowIds, getWorkspace } from '../state/selectors';\nimport { WorkspaceAddButton } from '../components/WorkspaceAddButton';\n/**\n * mapStateToProps - to hook up connect\n * @memberof WorkspaceControlPanel\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var width = _ref.width;\n\n  var _getWorkspace = getWorkspace(state),\n      isWorkspaceAddVisible = _getWorkspace.isWorkspaceAddVisible;\n\n  return {\n    isWorkspaceAddVisible: isWorkspaceAddVisible,\n    useExtendedFab: width !== 'xs' && !isWorkspaceAddVisible && getWindowIds(state).length === 0\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  setWorkspaceAddVisibility: actions.setWorkspaceAddVisibility\n};\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    fab: {\n      margin: theme.spacing(1)\n    },\n    fabPrimary: {\n      '&:focus': {\n        backgroundColor: theme.palette.primary.dark\n      }\n    },\n    fabSecondary: {\n      '&:focus': {\n        backgroundColor: theme.palette.secondary.dark\n      }\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), withWidth(), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceAddButton'));\nexport default enhance(WorkspaceAddButton);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport FullscreenIcon from '@material-ui/icons/FullscreenSharp';\nimport FullscreenExitIcon from '@material-ui/icons/FullscreenExitSharp';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\n/**\n */\n\nexport var FullScreenButton = /*#__PURE__*/function (_Component) {\n  _inherits(FullScreenButton, _Component);\n\n  var _super = _createSuper(FullScreenButton);\n\n  function FullScreenButton() {\n    _classCallCheck(this, FullScreenButton);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(FullScreenButton, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return\n     */\n    function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          isFullscreenEnabled = _this$props.isFullscreenEnabled,\n          setWorkspaceFullscreen = _this$props.setWorkspaceFullscreen,\n          t = _this$props.t;\n      return /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        className: className,\n        \"aria-label\": isFullscreenEnabled ? t('exitFullScreen') : t('workspaceFullScreen'),\n        onClick: function onClick() {\n          return setWorkspaceFullscreen(!isFullscreenEnabled);\n        }\n      }, isFullscreenEnabled ? /*#__PURE__*/React.createElement(FullscreenExitIcon, null) : /*#__PURE__*/React.createElement(FullscreenIcon, null));\n    }\n  }]);\n\n  return FullScreenButton;\n}(Component);\nFullScreenButton.defaultProps = {\n  className: undefined,\n  isFullscreenEnabled: false,\n  t: function t(key) {\n    return key;\n  }\n};","import { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getFullScreenEnabled } from '../state/selectors';\nimport { FullScreenButton } from '../components/FullScreenButton';\n/**\n * mapStateToProps - to hook up connect\n * @memberof FullScreenButton\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isFullscreenEnabled: getFullScreenEnabled(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  setWorkspaceFullscreen: actions.setWorkspaceFullscreen\n};\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('FullScreenButton'));\nexport default enhance(FullScreenButton);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CheckIcon from '@material-ui/icons/CheckSharp';\n\n/**\n * LanguageSettings ~ the workspace sub menu to change the language\n * of the application\n*/\nexport var LanguageSettings = /*#__PURE__*/function (_Component) {\n  _inherits(LanguageSettings, _Component);\n\n  var _super = _createSuper(LanguageSettings);\n\n  function LanguageSettings() {\n    _classCallCheck(this, LanguageSettings);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(LanguageSettings, [{\n    key: \"render\",\n    value:\n    /**\n     * Returns the rendered component\n    */\n    function render() {\n      var _this$props = this.props,\n          handleClick = _this$props.handleClick,\n          languages = _this$props.languages;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, languages.map(function (language) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          button: !language.current,\n          key: language.locale,\n          onClick: function onClick() {\n            handleClick(language.locale);\n          }\n        }, /*#__PURE__*/React.createElement(ListItemIcon, null, language.current && /*#__PURE__*/React.createElement(CheckIcon, null)), /*#__PURE__*/React.createElement(ListItemText, {\n          primaryTypographyProps: {\n            variant: 'body1'\n          }\n        }, language.label));\n      }));\n    }\n  }]);\n\n  return LanguageSettings;\n}(Component);","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getLanguagesFromConfigWithCurrent } from '../state/selectors';\nimport { LanguageSettings } from '../components/LanguageSettings';\n/**\n * Map state to props for connect\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    languages: getLanguagesFromConfigWithCurrent(state)\n  };\n};\n/**\n * Map action dispatches to props for connect\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref) {\n  var afterSelect = _ref.afterSelect;\n  return {\n    handleClick: function handleClick(language) {\n      dispatch(actions.updateConfig({\n        language: language\n      }));\n      afterSelect && afterSelect();\n    }\n  };\n};\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withPlugins('LanguageSettings'))(LanguageSettings);","function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ExpandLess from '@material-ui/icons/ExpandLessSharp';\nimport ExpandMore from '@material-ui/icons/ExpandMoreSharp';\n/**\n * NestedMenu ~ A presentation component to render a menu item and have\n * it control the visibility of the MUI List passed in as the children\n*/\n\nexport var NestedMenu = /*#__PURE__*/function (_Component) {\n  _inherits(NestedMenu, _Component);\n\n  var _super = _createSuper(NestedMenu);\n\n  /**\n   * constructor -\n   */\n  function NestedMenu(props) {\n    var _this;\n\n    _classCallCheck(this, NestedMenu);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      nestedMenuIsOpen: false\n    };\n    _this.handleMenuClick = _this.handleMenuClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * handleMenuClick toggles the nestedMenuIsOpen state\n   */\n\n\n  _createClass(NestedMenu, [{\n    key: \"handleMenuClick\",\n    value: function handleMenuClick() {\n      var nestedMenuIsOpen = this.state.nestedMenuIsOpen;\n      this.setState({\n        nestedMenuIsOpen: !nestedMenuIsOpen\n      });\n    }\n    /**\n     * Returns the rendered component.  Spreads unused props to MenuItem\n    */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var nestedMenuIsOpen = this.state.nestedMenuIsOpen;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          icon = _this$props.icon,\n          label = _this$props.label,\n          otherProps = _objectWithoutProperties(_this$props, [\"children\", \"icon\", \"label\"]);\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MenuItem, Object.assign({\n        onClick: this.handleMenuClick,\n        divider: nestedMenuIsOpen\n      }, otherProps), icon && /*#__PURE__*/React.createElement(ListItemIcon, null, icon), /*#__PURE__*/React.createElement(ListItemText, {\n        primaryTypographyProps: {\n          variant: 'body1'\n        }\n      }, label), nestedMenuIsOpen ? /*#__PURE__*/React.createElement(ExpandLess, null) : /*#__PURE__*/React.createElement(ExpandMore, null)), nestedMenuIsOpen && children);\n    }\n  }]);\n\n  return NestedMenu;\n}(Component);\nNestedMenu.defaultProps = {\n  icon: null\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Paper from '../Paper';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    overflow: 'hidden'\n  }\n};\nvar Card = /*#__PURE__*/React.forwardRef(function Card(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$raised = props.raised,\n      raised = _props$raised === void 0 ? false : _props$raised,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"raised\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    className: clsx(classes.root, className),\n    elevation: raised ? 8 : 1,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Card.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the card will use raised styling.\n   */\n  raised: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCard'\n})(Card);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    padding: 16,\n    '&:last-child': {\n      paddingBottom: 24\n    }\n  }\n};\nvar CardContent = /*#__PURE__*/React.forwardRef(function CardContent(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardContent.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardContent'\n})(CardContent);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * ElasticWorkspaceIcon ~\n*/\n\nexport default function ElasticWorkspaceIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"120\",\n    height: \"90\",\n    viewBox: \"0 0 300 225\"\n  }, /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient\",\n    x1: \"0.5\",\n    y1: \"1\",\n    x2: \"0.5\",\n    gradientUnits: \"objectBoundingBox\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.14\",\n    stopOpacity: \"0.631\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"1\",\n    stopOpacity: \"0\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient-2\",\n    x1: \"0.5\",\n    y1: \"1\",\n    x2: \"0.5\",\n    gradientUnits: \"objectBoundingBox\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.23\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.012\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.36\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.039\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.47\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.102\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.57\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.18\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.67\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.278\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.75\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.412\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.83\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.561\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.91\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.741\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.98\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.929\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"1\",\n    stopColor: \"#fff\"\n  })), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip-elastic_icon\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"300\",\n    height: \"225\"\n  }))), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"elastic_icon\",\n    \"data-name\": \"elastic icon\",\n    clipPath: \"url(#clip-elastic_icon)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"300\",\n    height: \"225\",\n    fill: \"#fff\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_278\",\n    \"data-name\": \"Rectangle 278\",\n    transform: \"translate(232 159)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"54\",\n    height: \"54\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"53\",\n    height: \"53\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_8\",\n    \"data-name\": \"Rectangle 8\",\n    transform: \"translate(7 148)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"70\",\n    height: \"70\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"69\",\n    height: \"69\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_258\",\n    \"data-name\": \"Rectangle 258\",\n    transform: \"translate(224 6)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"70\",\n    height: \"100\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"69\",\n    height: \"99\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_259\",\n    \"data-name\": \"Rectangle 259\",\n    transform: \"translate(71 64)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"115\",\n    height: \"75\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"114\",\n    height: \"74\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_260\",\n    \"data-name\": \"Rectangle 260\",\n    transform: \"translate(99 87)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"115\",\n    height: \"75\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"114\",\n    height: \"74\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_689\",\n    \"data-name\": \"Group 689\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_687\",\n    \"data-name\": \"Group 687\",\n    transform: \"translate(0 3)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"checkbox\",\n    d: \"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z\",\n    transform: \"translate(1.164 -1.063)\",\n    fill: \"#010101\",\n    fillRule: \"evenodd\",\n    opacity: \"0.246\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Path_821\",\n    \"data-name\": \"Path 821\",\n    transform: \"translate(40 36)\",\n    fill: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0,0H220V147H0Z\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 2 2 L 2 145 L 218 145 L 218 2 L 172.9869689941406 2 L 2 2 M 0 0 L 172.9869689941406 0 L 220 0 L 220 147 L 0 147 L 0 0 Z\",\n    stroke: \"none\",\n    fill: \"#01579b\"\n  }))), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_257\",\n    \"data-name\": \"Rectangle 257\",\n    transform: \"translate(40 39)\",\n    fill: \"#fff\",\n    stroke: \"#01579b\",\n    strokeWidth: \"2\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"20\",\n    height: \"147\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"1\",\n    y: \"1\",\n    width: \"18\",\n    height: \"145\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_688\",\n    \"data-name\": \"Group 688\",\n    transform: \"translate(-27.5 -126)\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    id: \"teal_circle\",\n    \"data-name\": \"teal circle\",\n    cx: \"7.5\",\n    cy: \"7.5\",\n    r: \"7.5\",\n    transform: \"translate(70 171)\",\n    fill: \"#009688\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_333\",\n    \"data-name\": \"Group 333\",\n    transform: \"translate(70 171)\",\n    opacity: \"0.12\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"gradient_border_2\",\n    \"data-name\": \"gradient border 2\",\n    d: \"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z\",\n    transform: \"translate(-3403 -959)\",\n    fill: \"url(#linear-gradient)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"gradient_border_1\",\n    \"data-name\": \"gradient border 1\",\n    d: \"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z\",\n    transform: \"translate(-3403 -959)\",\n    fill: \"url(#linear-gradient-2)\"\n  })))))));\n}","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * WorkspaceTypeMosaicIcon ~\n*/\n\nexport default function WorkspaceTypeMosaicIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"120\",\n    height: \"90\",\n    viewBox: \"0 0 300 225\"\n  }, /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient\",\n    x1: \"0.5\",\n    y1: \"1\",\n    x2: \"0.5\",\n    gradientUnits: \"objectBoundingBox\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.14\",\n    stopOpacity: \"0.631\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"1\",\n    stopOpacity: \"0\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"linear-gradient-2\",\n    x1: \"0.5\",\n    y1: \"1\",\n    x2: \"0.5\",\n    gradientUnits: \"objectBoundingBox\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.23\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.012\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.36\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.039\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.47\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.102\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.57\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.18\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.67\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.278\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.75\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.412\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.83\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.561\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.91\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.741\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"0.98\",\n    stopColor: \"#fff\",\n    stopOpacity: \"0.929\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: \"1\",\n    stopColor: \"#fff\"\n  })), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip-mosaic_icon\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"300\",\n    height: \"225\"\n  }))), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"mosaic_icon\",\n    \"data-name\": \"mosaic icon\",\n    clipPath: \"url(#clip-mosaic_icon)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"300\",\n    height: \"225\",\n    fill: \"#fff\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"checkbox\",\n    d: \"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z\",\n    transform: \"translate(1.163 1.938)\",\n    fill: \"#010101\",\n    fillRule: \"evenodd\",\n    opacity: \"0.5\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"checkbox-2\",\n    \"data-name\": \"checkbox\",\n    d: \"M258.766,37.316v146.5H39.053V37.316Zm40.07-39.254h-300v225h300Z\",\n    transform: \"translate(1.164 1.938)\",\n    fill: \"#010101\",\n    fillRule: \"evenodd\",\n    opacity: \"0.246\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Path_821\",\n    \"data-name\": \"Path 821\",\n    transform: \"translate(40 39)\",\n    fill: \"none\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0,0H220V147H0Z\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 2 2 L 2 145 L 218 145 L 218 2 L 172.9869689941406 2 L 2 2 M 0 0 L 172.9869689941406 0 L 220 0 L 220 147 L 0 147 L 0 0 Z\",\n    stroke: \"none\",\n    fill: \"#01579b\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_257\",\n    \"data-name\": \"Rectangle 257\",\n    transform: \"translate(40 39)\",\n    fill: \"#fff\",\n    stroke: \"#01579b\",\n    strokeWidth: \"2\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"20\",\n    height: \"147\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"1\",\n    y: \"1\",\n    width: \"18\",\n    height: \"145\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_688\",\n    \"data-name\": \"Group 688\",\n    transform: \"translate(-27.5 -126)\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    id: \"teal_circle\",\n    \"data-name\": \"teal circle\",\n    cx: \"7.5\",\n    cy: \"7.5\",\n    r: \"7.5\",\n    transform: \"translate(70 171)\",\n    fill: \"#009688\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Group_333\",\n    \"data-name\": \"Group 333\",\n    transform: \"translate(70 171)\",\n    opacity: \"0.12\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"gradient_border_2\",\n    \"data-name\": \"gradient border 2\",\n    d: \"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z\",\n    transform: \"translate(-3403 -959)\",\n    fill: \"url(#linear-gradient)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"gradient_border_1\",\n    \"data-name\": \"gradient border 1\",\n    d: \"M3408,959.089A4.911,4.911,0,1,1,3403.09,964a4.911,4.911,0,0,1,4.911-4.911m0-.089a5,5,0,1,0,5,5,5,5,0,0,0-5-5Z\",\n    transform: \"translate(-3403 -959)\",\n    fill: \"url(#linear-gradient-2)\"\n  }))), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_270\",\n    \"data-name\": \"Rectangle 270\",\n    transform: \"translate(60 40.647)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"99\",\n    height: \"72\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"98\",\n    height: \"71\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_271\",\n    \"data-name\": \"Rectangle 271\",\n    transform: \"translate(159 40.647)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"99\",\n    height: \"72\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"98\",\n    height: \"71\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_272\",\n    \"data-name\": \"Rectangle 272\",\n    transform: \"translate(192 112.647)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"66\",\n    height: \"71.45\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"65\",\n    height: \"70.45\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_284\",\n    \"data-name\": \"Rectangle 284\",\n    transform: \"translate(60 112.647)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"66\",\n    height: \"71.45\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"65\",\n    height: \"70.45\",\n    fill: \"none\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rectangle_285\",\n    \"data-name\": \"Rectangle 285\",\n    transform: \"translate(126 112.647)\",\n    fill: \"#88c6c3\",\n    stroke: \"#707070\",\n    strokeWidth: \"1\",\n    opacity: \"0.747\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"66\",\n    height: \"71.45\",\n    stroke: \"none\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"0.5\",\n    y: \"0.5\",\n    width: \"65\",\n    height: \"70.45\",\n    fill: \"none\"\n  })))));\n}","function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport DialogContent from '@material-ui/core/DialogContent';\n/**\n * ScrollIndicatedDialogContent ~ Inject a style into the DialogContent component\n *                                to indicate there is scrollable content\n*/\n\nexport function ScrollIndicatedDialogContent(props) {\n  var classes = props.classes,\n      className = props.className,\n      otherProps = _objectWithoutProperties(props, [\"classes\", \"className\"]);\n\n  var ourClassName = [className, classes.shadowScrollDialog].join(' ');\n  return /*#__PURE__*/React.createElement(DialogContent, Object.assign({\n    className: ourClassName\n  }, otherProps));\n}\nScrollIndicatedDialogContent.defaultProps = {\n  className: ''\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { withStyles } from '@material-ui/core/styles';\nimport { ScrollIndicatedDialogContent } from '../components/ScrollIndicatedDialogContent';\n/**\n * Styles for the withStyles HOC\n */\n\nvar styles = function styles(theme) {\n  var _shadowScrollDialog;\n\n  return {\n    shadowScrollDialog: (_shadowScrollDialog = {\n      /* Shadow covers */\n      background: \"linear-gradient(\".concat(theme.palette.background.paper, \" 30%, rgba(255, 255, 255, 0)), \") + \"linear-gradient(rgba(255, 255, 255, 0), \".concat(theme.palette.background.paper, \" 70%) 0 100%, \") // Shaddows\n      + 'radial-gradient(50% 0, farthest-side, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)), ' + 'radial-gradient(50% 100%, farthest-side, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)) 0 100%,'\n    }, _defineProperty(_shadowScrollDialog, \"background\", \"linear-gradient(\".concat(theme.palette.background.paper, \" 30%, rgba(255, 255, 255, 0)), \") // eslint-disable-line no-dupe-keys\n    + \"linear-gradient(rgba(255, 255, 255, 0), \".concat(theme.palette.background.paper, \" 70%) 0 100%, \") // Shaddows\n    + 'radial-gradient(farthest-side at 50% 0, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)), ' + 'radial-gradient(farthest-side at 50% 100%, rgba(0, 0, 0, .2), rgba(0, 0, 0, 0)) 0 100%;'), _defineProperty(_shadowScrollDialog, \"backgroundAttachment\", 'local, local, scroll, scroll'), _defineProperty(_shadowScrollDialog, \"backgroundRepeat\", 'no-repeat'), _defineProperty(_shadowScrollDialog, \"backgroundSize\", '100% 40px, 100% 40px, 100% 14px, 100% 14px'), _defineProperty(_shadowScrollDialog, \"overflowY\", 'auto'), _shadowScrollDialog)\n  };\n};\n\nexport default withStyles(styles)(ScrollIndicatedDialogContent);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Card, CardContent, MenuList, MenuItem, Typography } from '@material-ui/core';\nimport WorkspaceTypeElasticIcon from './icons/WorkspaceTypeElasticIcon';\nimport WorkspaceTypeMosaicIcon from './icons/WorkspaceTypeMosaicIcon';\nimport ScrollIndicatedDialogContent from '../containers/ScrollIndicatedDialogContent';\n/**\n */\n\nexport var WorkspaceSelectionDialog = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceSelectionDialog, _Component);\n\n  var _super = _createSuper(WorkspaceSelectionDialog);\n\n  /**\n   * constructor\n   */\n  function WorkspaceSelectionDialog(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceSelectionDialog);\n\n    _this = _super.call(this, props);\n    _this.handleWorkspaceTypeChange = _this.handleWorkspaceTypeChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * Propagate workspace type selection into the global state\n   */\n\n\n  _createClass(WorkspaceSelectionDialog, [{\n    key: \"handleWorkspaceTypeChange\",\n    value: function handleWorkspaceTypeChange(workspaceType) {\n      var _this$props = this.props,\n          handleClose = _this$props.handleClose,\n          updateWorkspace = _this$props.updateWorkspace;\n      updateWorkspace({\n        type: workspaceType\n      });\n      handleClose();\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          container = _this$props2.container,\n          handleClose = _this$props2.handleClose,\n          open = _this$props2.open,\n          children = _this$props2.children,\n          t = _this$props2.t,\n          workspaceType = _this$props2.workspaceType;\n      return /*#__PURE__*/React.createElement(Dialog, {\n        \"aria-labelledby\": \"workspace-selection-dialog-title\",\n        container: container,\n        id: \"workspace-selection-dialog\",\n        onClose: handleClose,\n        onEntered: function onEntered(dialog) {\n          return WorkspaceSelectionDialog.setInitialFocus(dialog, workspaceType);\n        },\n        onEscapeKeyDown: handleClose,\n        open: open\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"workspace-selection-dialog-title\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\"\n      }, t('workspaceSelectionTitle'))), /*#__PURE__*/React.createElement(ScrollIndicatedDialogContent, null, children, /*#__PURE__*/React.createElement(MenuList, {\n        classes: {\n          root: classes.list\n        },\n        selected: workspaceType\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        className: classes.menuItem,\n        onClick: function onClick() {\n          return _this2.handleWorkspaceTypeChange('elastic');\n        },\n        selected: workspaceType === 'elastic',\n        value: \"elastic\"\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: classes.card\n      }, /*#__PURE__*/React.createElement(WorkspaceTypeElasticIcon, {\n        className: classes.svgIcon,\n        viewBox: \"0 0 120 90\"\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.details\n      }, /*#__PURE__*/React.createElement(CardContent, {\n        classes: {\n          root: classes.root\n        },\n        className: classes.content\n      }, /*#__PURE__*/React.createElement(Typography, {\n        className: classes.headline,\n        component: \"p\",\n        variant: \"h3\"\n      }, t('elastic')), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('elasticDescription')))))), /*#__PURE__*/React.createElement(MenuItem, {\n        className: classes.menuItem,\n        onClick: function onClick() {\n          return _this2.handleWorkspaceTypeChange('mosaic');\n        },\n        selected: workspaceType === 'mosaic',\n        value: \"mosaic\"\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: classes.card\n      }, /*#__PURE__*/React.createElement(WorkspaceTypeMosaicIcon, {\n        className: classes.svgIcon,\n        viewBox: \"0 0 120 90\"\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.details\n      }, /*#__PURE__*/React.createElement(CardContent, {\n        className: classes.content,\n        classes: {\n          root: classes.root\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        className: classes.headline,\n        component: \"p\",\n        variant: \"h3\"\n      }, t('mosaic')), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('mosaicDescription')))))))));\n    }\n  }], [{\n    key: \"setInitialFocus\",\n    value:\n    /**\n     * Set the initial focus when the dialog enters\n     * Find the selected item by using the current workspace type\n     * in a selector on the value attribute (which we need to set)\n    */\n    function setInitialFocus(dialogElement, workspaceType) {\n      var selectedListItem = dialogElement.querySelectorAll(\"li[value=\\\"\".concat(workspaceType, \"\\\"]\"));\n      if (!selectedListItem || selectedListItem.length === 0) return;\n      selectedListItem[0].focus();\n    }\n  }]);\n\n  return WorkspaceSelectionDialog;\n}(Component);\nWorkspaceSelectionDialog.defaultProps = {\n  children: null,\n  container: null,\n  open: false,\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceSelectionDialog } from '../components/WorkspaceSelectionDialog';\nimport * as actions from '../state/actions';\nimport { getWorkspaceType } from '../state/selectors';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\nvar mapDispatchToProps = {\n  updateWorkspace: actions.updateWorkspace\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    workspaceType: getWorkspaceType(state)\n  };\n};\n/** */\n\n\nvar styles = function styles(theme) {\n  return {\n    card: {\n      backgroundColor: 'transparent',\n      borderRadius: '0',\n      boxShadow: '0 0 transparent',\n      display: 'flex'\n    },\n    content: {\n      flex: '1 0 auto'\n    },\n    details: {\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    headline: {\n      paddingBottom: '6px'\n    },\n    list: {\n      '&active': {\n        outline: 'none'\n      },\n      '&focus': {\n        outline: 'none'\n      },\n      outline: 'none'\n    },\n    media: {\n      flex: '0 0 120px',\n      height: '90px'\n    },\n    menuItem: {\n      height: 'auto',\n      overflow: 'auto',\n      whiteSpace: 'inherit'\n    },\n    root: {\n      '&:last-child': {\n        paddingBottom: '12px'\n      },\n      paddingBottom: 0,\n      paddingTop: 0,\n      textAlign: 'left'\n    },\n    svgIcon: {\n      flexShrink: 0,\n      height: '90px',\n      width: '120px'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceSelectionDialog'));\nexport default enhance(WorkspaceSelectionDialog);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport { Dialog, DialogTitle, ListItemIcon, ListItemText, MenuList, MenuItem, Typography, DialogContent } from '@material-ui/core';\nimport PaletteIcon from '@material-ui/icons/PaletteSharp';\n\n/**\n * a simple dialog providing the possibility to switch the theme\n */\nexport var ChangeThemeDialog = /*#__PURE__*/function (_Component) {\n  _inherits(ChangeThemeDialog, _Component);\n\n  var _super = _createSuper(ChangeThemeDialog);\n\n  /**\n  */\n  function ChangeThemeDialog(props) {\n    var _this;\n\n    _classCallCheck(this, ChangeThemeDialog);\n\n    _this = _super.call(this, props);\n    _this.selectedItemRef = /*#__PURE__*/React.createRef();\n    _this.handleThemeChange = _this.handleThemeChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * Propagate theme palette type selection into the global state\n   */\n\n\n  _createClass(ChangeThemeDialog, [{\n    key: \"handleThemeChange\",\n    value: function handleThemeChange(theme) {\n      var _this$props = this.props,\n          setSelectedTheme = _this$props.setSelectedTheme,\n          handleClose = _this$props.handleClose;\n      setSelectedTheme(theme);\n      handleClose();\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          handleClose = _this$props2.handleClose,\n          open = _this$props2.open,\n          selectedTheme = _this$props2.selectedTheme,\n          t = _this$props2.t,\n          themeIds = _this$props2.themeIds;\n      return /*#__PURE__*/React.createElement(Dialog, {\n        onClose: handleClose,\n        onEntered: function onEntered(dialog) {\n          return ChangeThemeDialog.setInitialFocus(dialog, selectedTheme);\n        },\n        open: open\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"change-the-dialog-title\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\"\n      }, t('changeTheme'))), /*#__PURE__*/React.createElement(DialogContent, {\n        className: classes.dialogContent\n      }, /*#__PURE__*/React.createElement(MenuList, null, themeIds.map(function (value) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: value,\n          className: classes.listitem,\n          onClick: function onClick() {\n            _this2.handleThemeChange(value);\n          },\n          selected: value === selectedTheme,\n          value: value\n        }, /*#__PURE__*/React.createElement(ListItemIcon, null, /*#__PURE__*/React.createElement(PaletteIcon, {\n          className: classes[value]\n        })), /*#__PURE__*/React.createElement(ListItemText, null, t(value)));\n      }))));\n    }\n  }], [{\n    key: \"setInitialFocus\",\n    value:\n    /**\n     * Set the initial focus when the dialog enters\n     * Find the selected item by using the current theme\n     * in a selector on the value attribute (which we need to set)\n    */\n    function setInitialFocus(dialogElement, selectedTheme) {\n      var selectedListItem = dialogElement.querySelectorAll(\"li[value=\\\"\".concat(selectedTheme, \"\\\"]\"));\n      if (!selectedListItem || selectedListItem.length === 0) return;\n      selectedListItem[0].focus();\n    }\n  }]);\n\n  return ChangeThemeDialog;\n}(Component);\nChangeThemeDialog.defaultProps = {\n  open: false,\n  themeIds: []\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getThemeIds, getConfig } from '../state/selectors';\nimport { ChangeThemeDialog } from '../components/ChangeThemeDialog';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ChangeThemeDialog\n * @private\n */\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    setSelectedTheme: function setSelectedTheme(theme) {\n      return dispatch(actions.updateConfig({\n        selectedTheme: theme\n      }));\n    }\n  };\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof ChangeThemeDialog\n * @private\n */\n\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    selectedTheme: getConfig(state).selectedTheme,\n    themeIds: getThemeIds(state)\n  };\n};\n/** */\n\n\nvar styles = function styles(theme) {\n  return {\n    dark: {\n      color: '#000000'\n    },\n    dialogContent: {\n      padding: 0\n    },\n    light: {\n      color: '#BDBDBD'\n    },\n    listitem: {\n      '&:focus': {\n        backgroundColor: theme.palette.action.focus\n      },\n      '&:hover': {\n        backgroundColor: theme.palette.action.hover\n      },\n      cursor: 'pointer'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('ChangeThemeDialog'));\nexport default enhance(ChangeThemeDialog);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Typography from '@material-ui/core/Typography';\nimport LanguageSettings from '../containers/LanguageSettings';\nimport { NestedMenu } from './NestedMenu';\nimport WorkspaceSelectionDialog from '../containers/WorkspaceSelectionDialog';\nimport ns from '../config/css-ns';\nimport ChangeThemeDialog from '../containers/ChangeThemeDialog';\nimport { PluginHook } from './PluginHook';\n/**\n */\n\nexport var WorkspaceMenu = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceMenu, _Component);\n\n  var _super = _createSuper(WorkspaceMenu);\n\n  /**\n   * constructor -\n   */\n  function WorkspaceMenu(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceMenu);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      changeTheme: {},\n      toggleZoom: {},\n      workspaceSelection: {}\n    };\n    _this.handleMenuItemClick = _this.handleMenuItemClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuItemClose = _this.handleMenuItemClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WorkspaceMenu, [{\n    key: \"handleMenuItemClick\",\n    value: function handleMenuItemClick(item, event) {\n      var obj = {};\n      obj[item] = {};\n      obj[item].open = true;\n      obj[item].anchorEl = event.currentTarget;\n      this.setState(obj);\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleMenuItemClose\",\n    value: function handleMenuItemClose(item) {\n      var _this2 = this;\n\n      return function (event) {\n        var obj = {};\n        obj[item] = {};\n        obj[item].open = false;\n        obj[item].anchorEl = null;\n\n        _this2.setState(obj);\n      };\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleZoomToggleClick\",\n    value: function handleZoomToggleClick() {\n      var _this$props = this.props,\n          toggleZoomControls = _this$props.toggleZoomControls,\n          showZoomControls = _this$props.showZoomControls;\n      toggleZoomControls(!showZoomControls);\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          containerId = _this$props2.containerId,\n          handleClose = _this$props2.handleClose,\n          anchorEl = _this$props2.anchorEl,\n          showThemePicker = _this$props2.showThemePicker,\n          isWorkspaceAddVisible = _this$props2.isWorkspaceAddVisible,\n          t = _this$props2.t,\n          showZoomControls = _this$props2.showZoomControls;\n      var _this$state = this.state,\n          changeTheme = _this$state.changeTheme,\n          toggleZoom = _this$state.toggleZoom,\n          workspaceSelection = _this$state.workspaceSelection;\n      var container = document.querySelector(\"#\".concat(containerId, \" .\").concat(ns('viewer')));\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Menu, {\n        id: \"workspace-menu\",\n        container: container,\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          horizontal: 'right',\n          vertical: 'top'\n        },\n        transformOrigin: {\n          horizontal: 'left',\n          vertical: 'top'\n        },\n        open: Boolean(anchorEl),\n        onClose: handleClose\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        \"aria-haspopup\": \"true\",\n        disabled: isWorkspaceAddVisible,\n        onClick: function onClick(e) {\n          _this3.handleZoomToggleClick(e);\n\n          handleClose(e);\n        },\n        \"aria-owns\": toggleZoom.anchorEl ? 'toggle-zoom-menu' : undefined\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, showZoomControls ? t('hideZoomControls') : t('showZoomControls'))), /*#__PURE__*/React.createElement(MenuItem, {\n        \"aria-haspopup\": \"true\",\n        onClick: function onClick(e) {\n          _this3.handleMenuItemClick('workspaceSelection', e);\n\n          handleClose(e);\n        },\n        \"aria-owns\": workspaceSelection.anchorEl ? 'workspace-selection' : undefined\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('selectWorkspaceMenu'))), /*#__PURE__*/React.createElement(NestedMenu, {\n        label: t('language')\n      }, /*#__PURE__*/React.createElement(LanguageSettings, {\n        afterSelect: handleClose\n      })), showThemePicker && /*#__PURE__*/React.createElement(MenuItem, {\n        \"aria-haspopup\": \"true\",\n        onClick: function onClick(e) {\n          _this3.handleMenuItemClick('changeTheme', e);\n\n          handleClose(e);\n        },\n        \"aria-owns\": changeTheme.anchorEl ? 'change-theme' : undefined\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('changeTheme'))), /*#__PURE__*/React.createElement(PluginHook, this.props)), Boolean(changeTheme.open) && /*#__PURE__*/React.createElement(ChangeThemeDialog, {\n        container: container,\n        handleClose: this.handleMenuItemClose('changeTheme'),\n        open: Boolean(changeTheme.open)\n      }), Boolean(workspaceSelection.open) && /*#__PURE__*/React.createElement(WorkspaceSelectionDialog, {\n        open: Boolean(workspaceSelection.open),\n        container: container,\n        handleClose: this.handleMenuItemClose('workspaceSelection')\n      }));\n    }\n  }]);\n\n  return WorkspaceMenu;\n}(Component);\nWorkspaceMenu.defaultProps = {\n  anchorEl: null,\n  isWorkspaceAddVisible: false,\n  showThemePicker: false,\n  showZoomControls: false,\n  t: function t(key) {\n    return key;\n  },\n  toggleZoomControls: function toggleZoomControls() {}\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getContainerId, getShowZoomControlsConfig, getThemeIds, getWorkspace } from '../state/selectors';\nimport { WorkspaceMenu } from '../components/WorkspaceMenu';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof WorkspaceMenu\n * @private\n */\n\nvar mapDispatchToProps = {\n  toggleZoomControls: actions.toggleZoomControls\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowViewer\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    containerId: getContainerId(state),\n    isWorkspaceAddVisible: getWorkspace(state).isWorkspaceAddVisible,\n    showThemePicker: getThemeIds(state).length > 0,\n    showZoomControls: getShowZoomControlsConfig(state)\n  };\n};\n\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceMenu'));\nexport default enhance(WorkspaceMenu);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport SettingsIcon from '@material-ui/icons/SettingsSharp';\nimport classNames from 'classnames';\nimport WorkspaceMenu from '../containers/WorkspaceMenu';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\n/**\n */\n\nexport var WorkspaceMenuButton = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceMenuButton, _Component);\n\n  var _super = _createSuper(WorkspaceMenuButton);\n\n  /**\n   * constructor -\n   */\n  function WorkspaceMenuButton(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceMenuButton);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      anchorEl: null\n    };\n    _this.handleMenuClick = _this.handleMenuClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuClose = _this.handleMenuClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WorkspaceMenuButton, [{\n    key: \"handleMenuClick\",\n    value: function handleMenuClick(event) {\n      this.setState({\n        anchorEl: event.currentTarget\n      });\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleMenuClose\",\n    value: function handleMenuClose() {\n      this.setState({\n        anchorEl: null\n      });\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          t = _this$props.t;\n      var anchorEl = this.state.anchorEl;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-haspopup\": \"true\",\n        \"aria-label\": t('workspaceMenu'),\n        \"aria-owns\": anchorEl ? 'workspace-menu' : undefined,\n        className: classNames(classes.ctrlBtn, anchorEl ? classes.ctrlBtnSelected : null),\n        id: \"menuBtn\",\n        onClick: this.handleMenuClick\n      }, /*#__PURE__*/React.createElement(SettingsIcon, null)), /*#__PURE__*/React.createElement(WorkspaceMenu, {\n        anchorEl: anchorEl,\n        handleClose: this.handleMenuClose\n      }));\n    }\n  }]);\n\n  return WorkspaceMenuButton;\n}(Component);\nWorkspaceMenuButton.defaultProps = {\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceMenuButton } from '../components/WorkspaceMenuButton';\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    ctrlBtn: {\n      margin: theme.spacing(1)\n    },\n    ctrlBtnSelected: {\n      backgroundColor: theme.palette.action.selected\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), withPlugins('WorkspaceMenuButton') // further HOC\n);\nexport default enhance(WorkspaceMenuButton);","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport ownerDocument from '../utils/ownerDocument';\nimport useForkRef from '../utils/useForkRef';\nimport useEventCallback from '../utils/useEventCallback';\nimport { elementAcceptingRef, exactProp } from '@material-ui/utils';\n\nfunction mapEventPropToEvent(eventProp) {\n  return eventProp.substring(2).toLowerCase();\n}\n\nfunction clickedRootScrollbar(event) {\n  return document.documentElement.clientWidth < event.clientX || document.documentElement.clientHeight < event.clientY;\n}\n/**\n * Listen for click events that occur somewhere in the document, outside of the element itself.\n * For instance, if you need to hide a menu when people click anywhere else on your page.\n */\n\n\nfunction ClickAwayListener(props) {\n  var children = props.children,\n      _props$disableReactTr = props.disableReactTree,\n      disableReactTree = _props$disableReactTr === void 0 ? false : _props$disableReactTr,\n      _props$mouseEvent = props.mouseEvent,\n      mouseEvent = _props$mouseEvent === void 0 ? 'onClick' : _props$mouseEvent,\n      onClickAway = props.onClickAway,\n      _props$touchEvent = props.touchEvent,\n      touchEvent = _props$touchEvent === void 0 ? 'onTouchEnd' : _props$touchEvent;\n  var movedRef = React.useRef(false);\n  var nodeRef = React.useRef(null);\n  var activatedRef = React.useRef(false);\n  var syntheticEventRef = React.useRef(false);\n  React.useEffect(function () {\n    // Ensure that this component is not \"activated\" synchronously.\n    // https://github.com/facebook/react/issues/20074\n    setTimeout(function () {\n      activatedRef.current = true;\n    }, 0);\n    return function () {\n      activatedRef.current = false;\n    };\n  }, []); // can be removed once we drop support for non ref forwarding class components\n\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    nodeRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRef = useForkRef(children.ref, handleOwnRef); // The handler doesn't take event.defaultPrevented into account:\n  //\n  // event.preventDefault() is meant to stop default behaviours like\n  // clicking a checkbox to check it, hitting a button to submit a form,\n  // and hitting left arrow to move the cursor in a text input etc.\n  // Only special HTML elements have these default behaviors.\n\n  var handleClickAway = useEventCallback(function (event) {\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    var insideReactTree = syntheticEventRef.current;\n    syntheticEventRef.current = false; // 1. IE 11 support, which trigger the handleClickAway even after the unbind\n    // 2. The child might render null.\n    // 3. Behave like a blur listener.\n\n    if (!activatedRef.current || !nodeRef.current || clickedRootScrollbar(event)) {\n      return;\n    } // Do not act if user performed touchmove\n\n\n    if (movedRef.current) {\n      movedRef.current = false;\n      return;\n    }\n\n    var insideDOM; // If not enough, can use https://github.com/DieterHolvoet/event-propagation-path/blob/master/propagationPath.js\n\n    if (event.composedPath) {\n      insideDOM = event.composedPath().indexOf(nodeRef.current) > -1;\n    } else {\n      // TODO v6 remove dead logic https://caniuse.com/#search=composedPath.\n      var doc = ownerDocument(nodeRef.current);\n      insideDOM = !doc.documentElement.contains(event.target) || nodeRef.current.contains(event.target);\n    }\n\n    if (!insideDOM && (disableReactTree || !insideReactTree)) {\n      onClickAway(event);\n    }\n  }); // Keep track of mouse/touch events that bubbled up through the portal.\n\n  var createHandleSynthetic = function createHandleSynthetic(handlerName) {\n    return function (event) {\n      syntheticEventRef.current = true;\n      var childrenPropsHandler = children.props[handlerName];\n\n      if (childrenPropsHandler) {\n        childrenPropsHandler(event);\n      }\n    };\n  };\n\n  var childrenProps = {\n    ref: handleRef\n  };\n\n  if (touchEvent !== false) {\n    childrenProps[touchEvent] = createHandleSynthetic(touchEvent);\n  }\n\n  React.useEffect(function () {\n    if (touchEvent !== false) {\n      var mappedTouchEvent = mapEventPropToEvent(touchEvent);\n      var doc = ownerDocument(nodeRef.current);\n\n      var handleTouchMove = function handleTouchMove() {\n        movedRef.current = true;\n      };\n\n      doc.addEventListener(mappedTouchEvent, handleClickAway);\n      doc.addEventListener('touchmove', handleTouchMove);\n      return function () {\n        doc.removeEventListener(mappedTouchEvent, handleClickAway);\n        doc.removeEventListener('touchmove', handleTouchMove);\n      };\n    }\n\n    return undefined;\n  }, [handleClickAway, touchEvent]);\n\n  if (mouseEvent !== false) {\n    childrenProps[mouseEvent] = createHandleSynthetic(mouseEvent);\n  }\n\n  React.useEffect(function () {\n    if (mouseEvent !== false) {\n      var mappedMouseEvent = mapEventPropToEvent(mouseEvent);\n      var doc = ownerDocument(nodeRef.current);\n      doc.addEventListener(mappedMouseEvent, handleClickAway);\n      return function () {\n        doc.removeEventListener(mappedMouseEvent, handleClickAway);\n      };\n    }\n\n    return undefined;\n  }, [handleClickAway, mouseEvent]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.cloneElement(children, childrenProps));\n}\n\nprocess.env.NODE_ENV !== \"production\" ? ClickAwayListener.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The wrapped element.\n   */\n  children: elementAcceptingRef.isRequired,\n\n  /**\n   * If `true`, the React tree is ignored and only the DOM tree is considered.\n   * This prop changes how portaled elements are handled.\n   */\n  disableReactTree: PropTypes.bool,\n\n  /**\n   * The mouse event to listen to. You can disable the listener by providing `false`.\n   */\n  mouseEvent: PropTypes.oneOf(['onClick', 'onMouseDown', 'onMouseUp', false]),\n\n  /**\n   * Callback fired when a \"click away\" event is detected.\n   */\n  onClickAway: PropTypes.func.isRequired,\n\n  /**\n   * The touch event to listen to. You can disable the listener by providing `false`.\n   */\n  touchEvent: PropTypes.oneOf(['onTouchEnd', 'onTouchStart', false])\n} : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  ClickAwayListener['propTypes' + ''] = exactProp(ClickAwayListener.propTypes);\n}\n\nexport default ClickAwayListener;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Paper from '../Paper';\nimport { emphasize } from '../styles/colorManipulator';\nexport var styles = function styles(theme) {\n  var emphasis = theme.palette.type === 'light' ? 0.8 : 0.98;\n  var backgroundColor = emphasize(theme.palette.background.default, emphasis);\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body2, _defineProperty({\n      color: theme.palette.getContrastText(backgroundColor),\n      backgroundColor: backgroundColor,\n      display: 'flex',\n      alignItems: 'center',\n      flexWrap: 'wrap',\n      padding: '6px 16px',\n      borderRadius: theme.shape.borderRadius,\n      flexGrow: 1\n    }, theme.breakpoints.up('sm'), {\n      flexGrow: 'initial',\n      minWidth: 288\n    })),\n\n    /* Styles applied to the message wrapper element. */\n    message: {\n      padding: '8px 0'\n    },\n\n    /* Styles applied to the action wrapper element if `action` is provided. */\n    action: {\n      display: 'flex',\n      alignItems: 'center',\n      marginLeft: 'auto',\n      paddingLeft: 16,\n      marginRight: -8\n    }\n  };\n};\nvar SnackbarContent = /*#__PURE__*/React.forwardRef(function SnackbarContent(props, ref) {\n  var action = props.action,\n      classes = props.classes,\n      className = props.className,\n      message = props.message,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'alert' : _props$role,\n      other = _objectWithoutProperties(props, [\"action\", \"classes\", \"className\", \"message\", \"role\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    role: role,\n    square: true,\n    elevation: 6,\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.message\n  }, message), action ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, action) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? SnackbarContent.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display. It renders after the message, at the end of the snackbar.\n   */\n  action: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The message to display.\n   */\n  message: PropTypes.node,\n\n  /**\n   * The ARIA role attribute of the element.\n   */\n  role: PropTypes.string\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSnackbarContent'\n})(SnackbarContent);","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { duration } from '../styles/transitions';\nimport ClickAwayListener from '../ClickAwayListener';\nimport useEventCallback from '../utils/useEventCallback';\nimport capitalize from '../utils/capitalize';\nimport createChainedFunction from '../utils/createChainedFunction';\nimport Grow from '../Grow';\nimport SnackbarContent from '../SnackbarContent';\nexport var styles = function styles(theme) {\n  var top1 = {\n    top: 8\n  };\n  var bottom1 = {\n    bottom: 8\n  };\n  var right = {\n    justifyContent: 'flex-end'\n  };\n  var left = {\n    justifyContent: 'flex-start'\n  };\n  var top3 = {\n    top: 24\n  };\n  var bottom3 = {\n    bottom: 24\n  };\n  var right3 = {\n    right: 24\n  };\n  var left3 = {\n    left: 24\n  };\n  var center = {\n    left: '50%',\n    right: 'auto',\n    transform: 'translateX(-50%)'\n  };\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      zIndex: theme.zIndex.snackbar,\n      position: 'fixed',\n      display: 'flex',\n      left: 8,\n      right: 8,\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'center' }}`. */\n    anchorOriginTopCenter: _extends({}, top1, _defineProperty({}, theme.breakpoints.up('sm'), _extends({}, top3, center))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'center' }}`. */\n    anchorOriginBottomCenter: _extends({}, bottom1, _defineProperty({}, theme.breakpoints.up('sm'), _extends({}, bottom3, center))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'right' }}`. */\n    anchorOriginTopRight: _extends({}, top1, right, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      left: 'auto'\n    }, top3, right3))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'right' }}`. */\n    anchorOriginBottomRight: _extends({}, bottom1, right, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      left: 'auto'\n    }, bottom3, right3))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'left' }}`. */\n    anchorOriginTopLeft: _extends({}, top1, left, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      right: 'auto'\n    }, top3, left3))),\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'left' }}`. */\n    anchorOriginBottomLeft: _extends({}, bottom1, left, _defineProperty({}, theme.breakpoints.up('sm'), _extends({\n      right: 'auto'\n    }, bottom3, left3)))\n  };\n};\nvar Snackbar = /*#__PURE__*/React.forwardRef(function Snackbar(props, ref) {\n  var action = props.action,\n      _props$anchorOrigin = props.anchorOrigin;\n  _props$anchorOrigin = _props$anchorOrigin === void 0 ? {\n    vertical: 'bottom',\n    horizontal: 'center'\n  } : _props$anchorOrigin;\n\n  var vertical = _props$anchorOrigin.vertical,\n      horizontal = _props$anchorOrigin.horizontal,\n      _props$autoHideDurati = props.autoHideDuration,\n      autoHideDuration = _props$autoHideDurati === void 0 ? null : _props$autoHideDurati,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      ClickAwayListenerProps = props.ClickAwayListenerProps,\n      ContentProps = props.ContentProps,\n      _props$disableWindowB = props.disableWindowBlurListener,\n      disableWindowBlurListener = _props$disableWindowB === void 0 ? false : _props$disableWindowB,\n      message = props.message,\n      onClose = props.onClose,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      onMouseEnter = props.onMouseEnter,\n      onMouseLeave = props.onMouseLeave,\n      open = props.open,\n      resumeHideDuration = props.resumeHideDuration,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Grow : _props$TransitionComp,\n      _props$transitionDura = props.transitionDuration,\n      transitionDuration = _props$transitionDura === void 0 ? {\n    enter: duration.enteringScreen,\n    exit: duration.leavingScreen\n  } : _props$transitionDura,\n      TransitionProps = props.TransitionProps,\n      other = _objectWithoutProperties(props, [\"action\", \"anchorOrigin\", \"autoHideDuration\", \"children\", \"classes\", \"className\", \"ClickAwayListenerProps\", \"ContentProps\", \"disableWindowBlurListener\", \"message\", \"onClose\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"onMouseEnter\", \"onMouseLeave\", \"open\", \"resumeHideDuration\", \"TransitionComponent\", \"transitionDuration\", \"TransitionProps\"]);\n\n  var timerAutoHide = React.useRef();\n\n  var _React$useState = React.useState(true),\n      exited = _React$useState[0],\n      setExited = _React$useState[1];\n\n  var handleClose = useEventCallback(function () {\n    if (onClose) {\n      onClose.apply(void 0, arguments);\n    }\n  });\n  var setAutoHideTimer = useEventCallback(function (autoHideDurationParam) {\n    if (!onClose || autoHideDurationParam == null) {\n      return;\n    }\n\n    clearTimeout(timerAutoHide.current);\n    timerAutoHide.current = setTimeout(function () {\n      handleClose(null, 'timeout');\n    }, autoHideDurationParam);\n  });\n  React.useEffect(function () {\n    if (open) {\n      setAutoHideTimer(autoHideDuration);\n    }\n\n    return function () {\n      clearTimeout(timerAutoHide.current);\n    };\n  }, [open, autoHideDuration, setAutoHideTimer]); // Pause the timer when the user is interacting with the Snackbar\n  // or when the user hide the window.\n\n  var handlePause = function handlePause() {\n    clearTimeout(timerAutoHide.current);\n  }; // Restart the timer when the user is no longer interacting with the Snackbar\n  // or when the window is shown back.\n\n\n  var handleResume = React.useCallback(function () {\n    if (autoHideDuration != null) {\n      setAutoHideTimer(resumeHideDuration != null ? resumeHideDuration : autoHideDuration * 0.5);\n    }\n  }, [autoHideDuration, resumeHideDuration, setAutoHideTimer]);\n\n  var handleMouseEnter = function handleMouseEnter(event) {\n    if (onMouseEnter) {\n      onMouseEnter(event);\n    }\n\n    handlePause();\n  };\n\n  var handleMouseLeave = function handleMouseLeave(event) {\n    if (onMouseLeave) {\n      onMouseLeave(event);\n    }\n\n    handleResume();\n  };\n\n  var handleClickAway = function handleClickAway(event) {\n    if (onClose) {\n      onClose(event, 'clickaway');\n    }\n  };\n\n  var handleExited = function handleExited() {\n    setExited(true);\n  };\n\n  var handleEnter = function handleEnter() {\n    setExited(false);\n  };\n\n  React.useEffect(function () {\n    if (!disableWindowBlurListener && open) {\n      window.addEventListener('focus', handleResume);\n      window.addEventListener('blur', handlePause);\n      return function () {\n        window.removeEventListener('focus', handleResume);\n        window.removeEventListener('blur', handlePause);\n      };\n    }\n\n    return undefined;\n  }, [disableWindowBlurListener, handleResume, open]); // So we only render active snackbars.\n\n  if (!open && exited) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(ClickAwayListener, _extends({\n    onClickAway: handleClickAway\n  }, ClickAwayListenerProps), /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, classes[\"anchorOrigin\".concat(capitalize(vertical)).concat(capitalize(horizontal))], className),\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    appear: true,\n    in: open,\n    onEnter: createChainedFunction(handleEnter, onEnter),\n    onEntered: onEntered,\n    onEntering: onEntering,\n    onExit: onExit,\n    onExited: createChainedFunction(handleExited, onExited),\n    onExiting: onExiting,\n    timeout: transitionDuration,\n    direction: vertical === 'top' ? 'down' : 'up'\n  }, TransitionProps), children || /*#__PURE__*/React.createElement(SnackbarContent, _extends({\n    message: message,\n    action: action\n  }, ContentProps)))));\n});\nprocess.env.NODE_ENV !== \"production\" ? Snackbar.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display. It renders after the message, at the end of the snackbar.\n   */\n  action: PropTypes.node,\n\n  /**\n   * The anchor of the `Snackbar`.\n   */\n  anchorOrigin: PropTypes.shape({\n    horizontal: PropTypes.oneOf(['center', 'left', 'right']).isRequired,\n    vertical: PropTypes.oneOf(['bottom', 'top']).isRequired\n  }),\n\n  /**\n   * The number of milliseconds to wait before automatically calling the\n   * `onClose` function. `onClose` should then set the state of the `open`\n   * prop to hide the Snackbar. This behavior is disabled by default with\n   * the `null` value.\n   */\n  autoHideDuration: PropTypes.number,\n\n  /**\n   * Replace the `SnackbarContent` component.\n   */\n  children: PropTypes.element,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Props applied to the `ClickAwayListener` element.\n   */\n  ClickAwayListenerProps: PropTypes.object,\n\n  /**\n   * Props applied to the [`SnackbarContent`](/api/snackbar-content/) element.\n   */\n  ContentProps: PropTypes.object,\n\n  /**\n   * If `true`, the `autoHideDuration` timer will expire even if the window is not focused.\n   */\n  disableWindowBlurListener: PropTypes.bool,\n\n  /**\n   * When displaying multiple consecutive Snackbars from a parent rendering a single\n   * <Snackbar/>, add the key prop to ensure independent treatment of each message.\n   * e.g. <Snackbar key={message} />, otherwise, the message may update-in-place and\n   * features such as autoHideDuration may be canceled.\n   */\n  key: PropTypes.any,\n\n  /**\n   * The message to display.\n   */\n  message: PropTypes.node,\n\n  /**\n   * Callback fired when the component requests to be closed.\n   * Typically `onClose` is used to set state in the parent component,\n   * which is used to control the `Snackbar` `open` prop.\n   * The `reason` parameter can optionally be used to control the response to `onClose`,\n   * for example ignoring `clickaway`.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {string} reason Can be: `\"timeout\"` (`autoHideDuration` expired), `\"clickaway\"`.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Callback fired before the transition is entering.\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired when the transition has entered.\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired when the transition is entering.\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired before the transition is exiting.\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired when the transition has exited.\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * Callback fired when the transition is exiting.\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onMouseEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onMouseLeave: PropTypes.func,\n\n  /**\n   * If `true`, `Snackbar` is open.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * The number of milliseconds to wait before dismissing after user interaction.\n   * If `autoHideDuration` prop isn't specified, it does nothing.\n   * If `autoHideDuration` prop is specified but `resumeHideDuration` isn't,\n   * we default to `autoHideDuration / 2` ms.\n   */\n  resumeHideDuration: PropTypes.number,\n\n  /**\n   * The component used for the transition.\n   * [Follow this guide](/components/transitions/#transitioncomponent-prop) to learn more about the requirements for this component.\n   */\n  TransitionComponent: PropTypes.elementType,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })]),\n\n  /**\n   * Props applied to the [`Transition`](http://reactcommunity.org/react-transition-group/transition#Transition-props) element.\n   */\n  TransitionProps: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  flip: false,\n  name: 'MuiSnackbar'\n})(Snackbar);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport ScrollIndicatedDialogContent from '../containers/ScrollIndicatedDialogContent';\n/**\n */\n\nexport var WorkspaceExport = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceExport, _Component);\n\n  var _super = _createSuper(WorkspaceExport);\n\n  /** */\n  function WorkspaceExport(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceExport);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      copied: false\n    };\n    _this.onCopy = _this.onCopy.bind(_assertThisInitialized(_this));\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** Handle closing after the content is copied and the snackbar is done */\n\n\n  _createClass(WorkspaceExport, [{\n    key: \"handleClose\",\n    value: function handleClose() {\n      var handleClose = this.props.handleClose;\n      handleClose();\n    }\n    /** Show the snackbar */\n\n  }, {\n    key: \"onCopy\",\n    value: function onCopy() {\n      this.setState({\n        copied: true\n      });\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"exportedState\",\n    value: function exportedState() {\n      var exportableState = this.props.exportableState;\n      return JSON.stringify(exportableState, null, 2);\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          container = _this$props.container,\n          open = _this$props.open,\n          t = _this$props.t;\n      var copied = this.state.copied;\n\n      if (copied) {\n        return /*#__PURE__*/React.createElement(Snackbar, {\n          anchorOrigin: {\n            horizontal: 'center',\n            vertical: 'top'\n          },\n          open: true,\n          autoHideDuration: 6000,\n          onClose: this.handleClose,\n          message: t('exportCopied'),\n          action: /*#__PURE__*/React.createElement(IconButton, {\n            size: \"small\",\n            \"aria-label\": t('dismiss'),\n            color: \"inherit\",\n            onClick: this.handleClose\n          }, /*#__PURE__*/React.createElement(CloseIcon, {\n            fontSize: \"small\"\n          }))\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(Dialog, {\n        id: \"workspace-settings\",\n        container: container,\n        open: open,\n        onClose: this.handleClose,\n        scroll: \"paper\",\n        fullWidth: true,\n        maxWidth: \"sm\"\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"form-dialog-title\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\"\n      }, t('downloadExport'))), /*#__PURE__*/React.createElement(ScrollIndicatedDialogContent, null, children, /*#__PURE__*/React.createElement(\"pre\", null, this.exportedState())), /*#__PURE__*/React.createElement(DialogActions, null, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.handleClose\n      }, t('cancel')), /*#__PURE__*/React.createElement(CopyToClipboard, {\n        onCopy: this.onCopy,\n        text: this.exportedState()\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\"\n      }, t('copy')))));\n    }\n  }]);\n\n  return WorkspaceExport;\n}(Component);\nWorkspaceExport.defaultProps = {\n  children: null,\n  container: null,\n  open: false,\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceExport } from '../components/WorkspaceExport';\nimport { getExportableState } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    exportableState: getExportableState(state)\n  };\n};\n\nvar enhance = compose(withTranslation(), connect(mapStateToProps, {}), withPlugins('WorkspaceExport'));\nexport default enhance(WorkspaceExport);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { DialogActions, TextField, Typography } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport ScrollIndicatedDialogContent from '../containers/ScrollIndicatedDialogContent';\n/**\n */\n\nexport var WorkspaceImport = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceImport, _Component);\n\n  var _super = _createSuper(WorkspaceImport);\n\n  /**\n   *\n   * constructor\n   */\n  function WorkspaceImport(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceImport);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      configImportValue: ''\n    };\n    _this.handleImportConfig = _this.handleImportConfig.bind(_assertThisInitialized(_this));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WorkspaceImport, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      event.preventDefault();\n      this.setState({\n        configImportValue: event.target.value\n      });\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleImportConfig\",\n    value: function handleImportConfig(event) {\n      var _this$props = this.props,\n          handleClose = _this$props.handleClose,\n          importConfig = _this$props.importConfig;\n      var configImportValue = this.state.configImportValue;\n\n      try {\n        var configJSON = JSON.parse(configImportValue);\n        importConfig(configJSON);\n        handleClose();\n      } catch (ex) {\n        var addError = this.props.addError;\n        addError(ex.toString());\n      }\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          handleClose = _this$props2.handleClose,\n          open = _this$props2.open,\n          t = _this$props2.t;\n      return /*#__PURE__*/React.createElement(Dialog, {\n        \"aria-labelledby\": \"workspace-import-title\",\n        id: \"workspace-import\",\n        onEscapeKeyDown: handleClose,\n        onClose: handleClose,\n        open: open,\n        fullWidth: true,\n        maxWidth: \"sm\"\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"workspace-import-title\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\"\n      }, t('importWorkspace'))), /*#__PURE__*/React.createElement(ScrollIndicatedDialogContent, null, /*#__PURE__*/React.createElement(TextField, {\n        className: classes.textField,\n        id: \"workspace-import-input\",\n        multiline: true,\n        onChange: this.handleChange,\n        rows: \"15\",\n        variant: \"filled\",\n        inputProps: {\n          autoFocus: 'autofocus',\n          className: classes.textInput\n        },\n        helperText: t('importWorkspaceHint')\n      })), /*#__PURE__*/React.createElement(DialogActions, null, /*#__PURE__*/React.createElement(Button, {\n        className: classes.cancelBtn,\n        onClick: handleClose\n      }, t('cancel')), /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.handleImportConfig,\n        variant: \"contained\"\n      }, t('import'))));\n    }\n  }]);\n\n  return WorkspaceImport;\n}(Component);\nWorkspaceImport.defaultProps = {\n  classes: {},\n  open: false,\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceImport } from '../components/WorkspaceImport';\nimport * as actions from '../state/actions';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof App\n * @private\n */\n\nvar mapDispatchToProps = {\n  addError: actions.addError,\n  importConfig: actions.importMiradorState\n};\n/** */\n\nvar styles = function styles(theme) {\n  return {\n    cancelBtn: {\n      color: theme.palette.text.primary\n    },\n    textField: {\n      width: '100%'\n    },\n    textInput: {\n      fontFamily: 'monospace'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(null, mapDispatchToProps), withPlugins('WorkspaceImport'));\nexport default enhance(WorkspaceImport);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport ImportIcon from '@material-ui/icons/Input';\nimport SaveAltIcon from '@material-ui/icons/SaveAltSharp';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Typography from '@material-ui/core/Typography';\nimport WorkspaceExport from '../containers/WorkspaceExport';\nimport WorkspaceImport from '../containers/WorkspaceImport';\nimport { PluginHook } from './PluginHook';\nimport ns from '../config/css-ns';\n/**\n * WorkspaceOptionsMenu ~ the menu for workspace options such as import/export\n*/\n\nexport var WorkspaceOptionsMenu = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceOptionsMenu, _Component);\n\n  var _super = _createSuper(WorkspaceOptionsMenu);\n\n  /**\n   * constructor -\n   */\n  function WorkspaceOptionsMenu(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceOptionsMenu);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      exportWorkspace: {},\n      importWorkspace: {}\n    };\n    _this.handleMenuItemClick = _this.handleMenuItemClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuItemClose = _this.handleMenuItemClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WorkspaceOptionsMenu, [{\n    key: \"handleMenuItemClick\",\n    value: function handleMenuItemClick(item) {\n      var obj = {};\n      obj[item] = {};\n      obj[item].open = true;\n      this.setState(obj);\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleMenuItemClose\",\n    value: function handleMenuItemClose(item) {\n      var _this2 = this;\n\n      return function (event) {\n        var obj = {};\n        obj[item] = {};\n        obj[item].open = false;\n\n        _this2.setState(obj);\n      };\n    }\n    /**\n     * Returns the rendered component\n    */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          anchorEl = _this$props.anchorEl,\n          containerId = _this$props.containerId,\n          handleClose = _this$props.handleClose,\n          t = _this$props.t;\n      var _this$state = this.state,\n          exportWorkspace = _this$state.exportWorkspace,\n          importWorkspace = _this$state.importWorkspace;\n      var container = document.querySelector(\"#\".concat(containerId, \" .\").concat(ns('viewer')));\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Menu, {\n        id: \"workspace-options-menu\",\n        container: container,\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          horizontal: 'right',\n          vertical: 'top'\n        },\n        transformOrigin: {\n          horizontal: 'left',\n          vertical: 'top'\n        },\n        open: Boolean(anchorEl),\n        onClose: handleClose\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        \"aria-haspopup\": \"true\",\n        onClick: function onClick() {\n          _this3.handleMenuItemClick('exportWorkspace');\n\n          handleClose();\n        },\n        \"aria-owns\": exportWorkspace.open ? 'workspace-export' : undefined\n      }, /*#__PURE__*/React.createElement(ListItemIcon, null, /*#__PURE__*/React.createElement(SaveAltIcon, null)), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('downloadExportWorkspace'))), /*#__PURE__*/React.createElement(MenuItem, {\n        \"aria-haspopup\": \"true\",\n        id: \"workspace-menu-import\",\n        onClick: function onClick() {\n          _this3.handleMenuItemClick('importWorkspace');\n\n          handleClose();\n        },\n        \"aria-owns\": exportWorkspace.open ? 'workspace-import' : undefined\n      }, /*#__PURE__*/React.createElement(ListItemIcon, null, /*#__PURE__*/React.createElement(ImportIcon, null)), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\"\n      }, t('importWorkspace'))), /*#__PURE__*/React.createElement(PluginHook, this.props)), Boolean(exportWorkspace.open) && /*#__PURE__*/React.createElement(WorkspaceExport, {\n        open: Boolean(exportWorkspace.open),\n        container: container,\n        handleClose: this.handleMenuItemClose('exportWorkspace')\n      }), Boolean(importWorkspace.open) && /*#__PURE__*/React.createElement(WorkspaceImport, {\n        open: Boolean(importWorkspace.open),\n        container: container,\n        handleClose: this.handleMenuItemClose('importWorkspace')\n      }));\n    }\n  }]);\n\n  return WorkspaceOptionsMenu;\n}(Component);\nWorkspaceOptionsMenu.defaultProps = {\n  anchorEl: null\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { getContainerId } from '../state/selectors';\nimport { WorkspaceOptionsMenu } from '../components/WorkspaceOptionsMenu';\n/** Used for connect */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    containerId: getContainerId(state)\n  };\n}; // containerId: getContainerId(state),/\n\n\nvar enhance = compose(withTranslation(), connect(mapStateToProps, null));\nexport default enhance(WorkspaceOptionsMenu);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport MoreHorizontalIcon from '@material-ui/icons/MoreHorizSharp';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport WorkspaceOptionsMenu from '../containers/WorkspaceOptionsMenu';\n/**\n * WorkspaceOptionsButton ~\n*/\n\nexport var WorkspaceOptionsButton = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceOptionsButton, _Component);\n\n  var _super = _createSuper(WorkspaceOptionsButton);\n\n  /**\n   * constructor -\n   */\n  function WorkspaceOptionsButton(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceOptionsButton);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      anchorEl: null\n    };\n    _this.handleMenuClick = _this.handleMenuClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuClose = _this.handleMenuClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WorkspaceOptionsButton, [{\n    key: \"handleMenuClick\",\n    value: function handleMenuClick(event) {\n      this.setState({\n        anchorEl: event.currentTarget\n      });\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleMenuClose\",\n    value: function handleMenuClose() {\n      this.setState({\n        anchorEl: null\n      });\n    }\n    /**\n     * Returns the rendered component\n    */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          t = _this$props.t;\n      var anchorEl = this.state.anchorEl;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('workspaceOptions'),\n        className: classNames(classes.ctrlBtn, anchorEl ? classes.ctrlBtnSelected : null),\n        onClick: this.handleMenuClick\n      }, /*#__PURE__*/React.createElement(MoreHorizontalIcon, null)), /*#__PURE__*/React.createElement(WorkspaceOptionsMenu, {\n        anchorEl: anchorEl,\n        handleClose: this.handleMenuClose\n      }));\n    }\n  }]);\n\n  return WorkspaceOptionsButton;\n}(Component);","import { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceOptionsButton } from '../components/WorkspaceOptionsButton';\n/**\n *\n * @param theme\n */\n\nvar styles = function styles(theme) {\n  return {\n    ctrlBtn: {\n      margin: theme.spacing(1)\n    },\n    ctrlBtnSelected: {\n      backgroundColor: theme.palette.action.selected\n    }\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(), withPlugins('WorkspaceOptionsButton'));\nexport default enhance(WorkspaceOptionsButton);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ns from '../config/css-ns';\n/**\n */\n\nexport var WindowList = /*#__PURE__*/function (_Component) {\n  _inherits(WindowList, _Component);\n\n  var _super = _createSuper(WindowList);\n\n  function WindowList() {\n    _classCallCheck(this, WindowList);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowList, [{\n    key: \"titleContent\",\n    value:\n    /**\n     * Get the title for a window from its manifest title\n     * @private\n     */\n    function titleContent(windowId) {\n      var _this$props = this.props,\n          titles = _this$props.titles,\n          t = _this$props.t;\n      return titles[windowId] || t('untitled');\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _this$props2 = this.props,\n          containerId = _this$props2.containerId,\n          handleClose = _this$props2.handleClose,\n          anchorEl = _this$props2.anchorEl,\n          windowIds = _this$props2.windowIds,\n          focusWindow = _this$props2.focusWindow,\n          t = _this$props2.t;\n      return /*#__PURE__*/React.createElement(Menu, {\n        anchorOrigin: {\n          horizontal: 'right',\n          vertical: 'top'\n        },\n        transformOrigin: {\n          horizontal: 'left',\n          vertical: 'top'\n        },\n        id: \"window-list-menu\",\n        container: document.querySelector(\"#\".concat(containerId, \" .\").concat(ns('viewer'))),\n        disableAutoFocusItem: true,\n        anchorEl: anchorEl,\n        open: Boolean(anchorEl),\n        onClose: handleClose,\n        onEntering: WindowList.focus2ndListIitem\n      }, /*#__PURE__*/React.createElement(ListSubheader, {\n        role: \"presentation\",\n        selected: false,\n        disabled: true,\n        tabIndex: \"-1\"\n      }, t('openWindows')), windowIds.map(function (windowId, i) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: windowId,\n          onClick: function onClick(e) {\n            focusWindow(windowId, true);\n            handleClose(e);\n          }\n        }, /*#__PURE__*/React.createElement(ListItemText, {\n          primaryTypographyProps: {\n            variant: 'body1'\n          }\n        }, _this.titleContent(windowId)));\n      }));\n    }\n  }], [{\n    key: \"focus2ndListIitem\",\n    value:\n    /**\n     * Given the menuElement passed in by the onEntering callback,\n     * find the 2nd ListItem element (avoiding the header) and focus it\n    */\n    function focus2ndListIitem(menuElement) {\n      if (!menuElement.querySelectorAll('li') || menuElement.querySelectorAll('li').length < 2) return;\n      menuElement.querySelectorAll('li')[1].focus(); // The 2nd LI\n    }\n  }]);\n\n  return WindowList;\n}(Component);\nWindowList.defaultProps = {\n  anchorEl: null,\n  t: function t(key) {\n    return key;\n  },\n  titles: {}\n};","import { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getContainerId, getWindowIds, getWindowTitles } from '../state/selectors';\nimport { WindowList } from '../components/WindowList';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\nvar mapDispatchToProps = {\n  focusWindow: actions.focusWindow\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof WorkspaceControlPanel\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    containerId: getContainerId(state),\n    titles: getWindowTitles(state),\n    windowIds: getWindowIds(state)\n  };\n};\n\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('WindowList'));\nexport default enhance(WindowList);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport BookmarksIcon from '@material-ui/icons/BookmarksSharp';\nimport classNames from 'classnames';\nimport WindowList from '../containers/WindowList';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\n/**\n * WindowListButton ~\n*/\n\nexport var WindowListButton = /*#__PURE__*/function (_Component) {\n  _inherits(WindowListButton, _Component);\n\n  var _super = _createSuper(WindowListButton);\n\n  /** */\n  function WindowListButton(props) {\n    var _this;\n\n    _classCallCheck(this, WindowListButton);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      windowListAnchor: null\n    };\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_this));\n    _this.handleOpen = _this.handleOpen.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** Set the windowListAnchor to null on window close */\n\n\n  _createClass(WindowListButton, [{\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        windowListAnchor: null\n      });\n    }\n    /** Set the windowListAnchor to the event's current target  */\n\n  }, {\n    key: \"handleOpen\",\n    value: function handleOpen(event) {\n      this.setState({\n        windowListAnchor: event.currentTarget\n      });\n    }\n    /**\n     * Returns the rendered component\n    */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          disabled = _this$props.disabled,\n          t = _this$props.t,\n          windowCount = _this$props.windowCount;\n      var windowListAnchor = this.state.windowListAnchor;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-haspopup\": \"true\",\n        \"aria-label\": t('listAllOpenWindows'),\n        \"aria-owns\": windowListAnchor ? 'window-list' : null,\n        className: classNames(classes.ctrlBtn, windowListAnchor ? classes.ctrlBtnSelected : null),\n        disabled: disabled,\n        badge: true,\n        BadgeProps: {\n          badgeContent: windowCount,\n          classes: {\n            badge: classes.badge\n          }\n        },\n        onClick: function onClick(e) {\n          return _this2.handleOpen(e);\n        }\n      }, /*#__PURE__*/React.createElement(BookmarksIcon, null)), Boolean(windowListAnchor) && /*#__PURE__*/React.createElement(WindowList, {\n        anchorEl: windowListAnchor,\n        id: \"window-list\",\n        open: Boolean(windowListAnchor),\n        handleClose: this.handleClose\n      }));\n    }\n  }]);\n\n  return WindowListButton;\n}(Component);\nWindowListButton.defaultProps = {\n  classes: {},\n  disabled: false\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getWindowIds, getWorkspace } from '../state/selectors';\nimport { WindowListButton } from '../components/WindowListButton';\n/** */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    disabled: getWorkspace(state).isWorkspaceAddVisible,\n    windowCount: getWindowIds(state).length\n  };\n};\n/**\n *\n * @param theme\n * @returns {{background: {background: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    badge: {\n      paddingLeft: 12\n    },\n    ctrlBtn: {\n      margin: theme.spacing(1)\n    },\n    ctrlBtnSelected: {\n      backgroundColor: theme.palette.action.selected\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, null), withPlugins('WindowListButton'));\nexport default enhance(WindowListButton);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport FullScreenButton from '../containers/FullScreenButton';\nimport WorkspaceMenuButton from '../containers/WorkspaceMenuButton';\nimport WorkspaceOptionsButton from '../containers/WorkspaceOptionsButton';\nimport WindowListButton from '../containers/WindowListButton';\nimport { PluginHook } from './PluginHook';\n/**\n *\n */\n\nexport var WorkspaceControlPanelButtons = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceControlPanelButtons, _Component);\n\n  var _super = _createSuper(WorkspaceControlPanelButtons);\n\n  function WorkspaceControlPanelButtons() {\n    _classCallCheck(this, WorkspaceControlPanelButtons);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceControlPanelButtons, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     *\n     * @return {type}  description\n     */\n    function render() {\n      var classes = this.props.classes;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(WindowListButton, null), /*#__PURE__*/React.createElement(WorkspaceMenuButton, null), /*#__PURE__*/React.createElement(WorkspaceOptionsButton, null), /*#__PURE__*/React.createElement(FullScreenButton, {\n        className: classes.ctrlBtn\n      }), /*#__PURE__*/React.createElement(PluginHook, this.props));\n    }\n  }]);\n\n  return WorkspaceControlPanelButtons;\n}(Component);\nWorkspaceControlPanelButtons.defaultProps = {\n  classes: {}\n};","import { compose } from 'redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceControlPanelButtons } from '../components/WorkspaceControlPanelButtons';\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    ctrlBtn: {\n      margin: theme.spacing(1)\n    }\n  };\n};\n\nvar enhance = compose(withStyles(styles), withPlugins('WorkspaceControlPanelButtons'));\nexport default enhance(WorkspaceControlPanelButtons);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * ThumbnailNavigationRightIcon ~\n*/\n\nexport default function MiradorIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, Object.assign({\n    viewBox: \"0 0 60 55\"\n  }, props), /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"18\",\n    height: \"55\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"18\",\n    height: \"55\",\n    transform: \"translate(42)\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"18\",\n    height: \"34\",\n    transform: \"translate(21)\"\n  }));\n}","function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport MiradorIcon from './icons/MiradorIcon';\n/**\n * Display a branding icon\n */\n\nexport var Branding = /*#__PURE__*/function (_Component) {\n  _inherits(Branding, _Component);\n\n  var _super = _createSuper(Branding);\n\n  function Branding() {\n    _classCallCheck(this, Branding);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Branding, [{\n    key: \"render\",\n    value:\n    /** */\n    function render() {\n      var _this$props = this.props,\n          t = _this$props.t,\n          variant = _this$props.variant,\n          ContainerProps = _objectWithoutProperties(_this$props, [\"t\", \"variant\"]);\n\n      return /*#__PURE__*/React.createElement(\"div\", ContainerProps, variant === 'wide' && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Typography, {\n        align: \"center\",\n        component: \"p\",\n        variant: \"h3\"\n      }, t('mirador'))), /*#__PURE__*/React.createElement(Typography, {\n        align: \"center\"\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        component: \"a\",\n        href: \"https://projectmirador.org\",\n        target: \"_blank\",\n        rel: \"noopener\"\n      }, /*#__PURE__*/React.createElement(MiradorIcon, {\n        \"aria-label\": t('aboutMirador'),\n        titleAccess: t('aboutMirador'),\n        fontSize: \"large\"\n      }))));\n    }\n  }]);\n\n  return Branding;\n}(Component);\nBranding.defaultProps = {\n  t: function t(k) {\n    return k;\n  },\n  variant: 'default'\n};","import { withPlugins } from '../extend/withPlugins';\nimport { Branding } from '../components/Branding';\nexport default withPlugins('Branding')(Branding);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport WorkspaceAddButton from '../containers/WorkspaceAddButton';\nimport WorkspaceControlPanelButtons from '../containers/WorkspaceControlPanelButtons';\nimport Branding from '../containers/Branding';\nimport ns from '../config/css-ns';\n/**\n * Provides the panel responsible for controlling the entire workspace\n */\n\nexport var WorkspaceControlPanel = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceControlPanel, _Component);\n\n  var _super = _createSuper(WorkspaceControlPanel);\n\n  function WorkspaceControlPanel() {\n    _classCallCheck(this, WorkspaceControlPanel);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceControlPanel, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return {String} - HTML markup for the component\n     */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          t = _this$props.t,\n          variant = _this$props.variant;\n      return /*#__PURE__*/React.createElement(AppBar, {\n        className: classNames(classes.root, ns('workspace-control-panel'), variant === 'wide' ? classes.wide : null),\n        color: \"default\",\n        position: \"absolute\",\n        component: \"nav\",\n        \"aria-label\": t('workspaceNavigation')\n      }, /*#__PURE__*/React.createElement(Toolbar, {\n        disableGutters: true,\n        className: classes.toolbar\n      }, /*#__PURE__*/React.createElement(WorkspaceAddButton, null), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.workspaceButtons\n      }, /*#__PURE__*/React.createElement(WorkspaceControlPanelButtons, null))), /*#__PURE__*/React.createElement(Branding, {\n        className: classes.branding,\n        t: t,\n        variant: variant\n      }));\n    }\n  }]);\n\n  return WorkspaceControlPanel;\n}(Component);\nWorkspaceControlPanel.defaultProps = {\n  variant: 'default'\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceControlPanel } from '../components/WorkspaceControlPanel';\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)},\n * drawer: {overflowX: string, height: string}}}\n */\n\nvar styles = function styles(theme) {\n  var _branding;\n\n  return {\n    branding: (_branding = {\n      display: 'flex',\n      position: 'absolute'\n    }, _defineProperty(_branding, theme.breakpoints.up('xs'), {\n      display: 'none'\n    }), _defineProperty(_branding, theme.breakpoints.up('sm'), {\n      bottom: 0,\n      display: 'block',\n      \"float\": 'none',\n      right: 'auto',\n      width: '100%'\n    }), _defineProperty(_branding, \"right\", 0), _branding),\n    ctrlBtn: {\n      margin: theme.spacing(1)\n    },\n    drawer: {\n      overflowX: 'hidden'\n    },\n    root: _defineProperty({\n      height: 64\n    }, theme.breakpoints.up('sm'), {\n      height: '100%',\n      left: 0,\n      right: 'auto',\n      width: 64\n    }),\n    toolbar: _defineProperty({\n      display: 'flex',\n      justifyContent: 'space-between'\n    }, theme.breakpoints.up('sm'), {\n      flexDirection: 'column',\n      justifyContent: 'flex-start',\n      minHeight: 0\n    }),\n    wide: {\n      width: 'auto'\n    },\n    workspaceButtons: _defineProperty({}, theme.breakpoints.up('sm'), {\n      display: 'flex',\n      flexDirection: 'column'\n    })\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), withPlugins('WorkspaceControlPanel') // further HOC go here\n);\nexport default enhance(WorkspaceControlPanel);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@material-ui/utils';\nimport { useFormControl } from '../FormControl';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      cursor: 'pointer',\n      // For correct alignment with the text.\n      verticalAlign: 'middle',\n      WebkitTapHighlightColor: 'transparent',\n      marginLeft: -11,\n      marginRight: 16,\n      // used for row presentation of radio/checkbox\n      '&$disabled': {\n        cursor: 'default'\n      }\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"start\"`. */\n    labelPlacementStart: {\n      flexDirection: 'row-reverse',\n      marginLeft: 16,\n      // used for row presentation of radio/checkbox\n      marginRight: -11\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"top\"`. */\n    labelPlacementTop: {\n      flexDirection: 'column-reverse',\n      marginLeft: 16\n    },\n\n    /* Styles applied to the root element if `labelPlacement=\"bottom\"`. */\n    labelPlacementBottom: {\n      flexDirection: 'column',\n      marginLeft: 16\n    },\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the label's Typography component. */\n    label: {\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    }\n  };\n};\n/**\n * Drop in replacement of the `Radio`, `Switch` and `Checkbox` component.\n * Use this component if you want to display an extra label.\n */\n\nvar FormControlLabel = /*#__PURE__*/React.forwardRef(function FormControlLabel(props, ref) {\n  var checked = props.checked,\n      classes = props.classes,\n      className = props.className,\n      control = props.control,\n      disabledProp = props.disabled,\n      inputRef = props.inputRef,\n      label = props.label,\n      _props$labelPlacement = props.labelPlacement,\n      labelPlacement = _props$labelPlacement === void 0 ? 'end' : _props$labelPlacement,\n      name = props.name,\n      onChange = props.onChange,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"checked\", \"classes\", \"className\", \"control\", \"disabled\", \"inputRef\", \"label\", \"labelPlacement\", \"name\", \"onChange\", \"value\"]);\n\n  var muiFormControl = useFormControl();\n  var disabled = disabledProp;\n\n  if (typeof disabled === 'undefined' && typeof control.props.disabled !== 'undefined') {\n    disabled = control.props.disabled;\n  }\n\n  if (typeof disabled === 'undefined' && muiFormControl) {\n    disabled = muiFormControl.disabled;\n  }\n\n  var controlProps = {\n    disabled: disabled\n  };\n  ['checked', 'name', 'onChange', 'value', 'inputRef'].forEach(function (key) {\n    if (typeof control.props[key] === 'undefined' && typeof props[key] !== 'undefined') {\n      controlProps[key] = props[key];\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"label\", _extends({\n    className: clsx(classes.root, className, labelPlacement !== 'end' && classes[\"labelPlacement\".concat(capitalize(labelPlacement))], disabled && classes.disabled),\n    ref: ref\n  }, other), /*#__PURE__*/React.cloneElement(control, controlProps), /*#__PURE__*/React.createElement(Typography, {\n    component: \"span\",\n    className: clsx(classes.label, disabled && classes.disabled)\n  }, label));\n});\nprocess.env.NODE_ENV !== \"production\" ? FormControlLabel.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * If `true`, the component appears selected.\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * A control element. For instance, it can be be a `Radio`, a `Switch` or a `Checkbox`.\n   */\n  control: PropTypes.element.isRequired,\n\n  /**\n   * If `true`, the control will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n\n  /**\n   * The text to be used in an enclosing label element.\n   */\n  label: PropTypes.node,\n\n  /**\n   * The position of the label.\n   */\n  labelPlacement: PropTypes.oneOf(['bottom', 'end', 'start', 'top']),\n\n  /**\n   * @ignore\n   */\n  name: PropTypes.string,\n\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * The value of the component.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiFormControlLabel'\n})(FormControlLabel);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * ThumbnailNavigationBottomIcon ~\n*/\n\nexport default function ThumbnailNavigationBottomIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3,3H21V5H3Z\",\n    transform: \"translate(0 16)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21,5H3V19H21ZM19,17H5V7H19Z\",\n    transform: \"translate(0 -2)\"\n  })));\n}","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * ThumbnailNavigationRightIcon ~\n*/\n\nexport default function ThumbnailNavigationRightIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0,0H24V24H0Z\",\n    transform: \"translate(24) rotate(90)\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3,3H21V5H3Z\",\n    transform: \"translate(24) rotate(90)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19,3H5V21H19ZM17,19H7V5H17Z\",\n    transform: \"translate(-2)\"\n  })));\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ThumbnailsOffIcon from '@material-ui/icons/CropDinSharp';\nimport ThumbnailNavigationBottomIcon from './icons/ThumbnailNavigationBottomIcon';\nimport ThumbnailNavigationRightIcon from './icons/ThumbnailNavigationRightIcon';\n/**\n *\n */\n\nexport var WindowThumbnailSettings = /*#__PURE__*/function (_Component) {\n  _inherits(WindowThumbnailSettings, _Component);\n\n  var _super = _createSuper(WindowThumbnailSettings);\n\n  /**\n   * constructor -\n   */\n  function WindowThumbnailSettings(props) {\n    var _this;\n\n    _classCallCheck(this, WindowThumbnailSettings);\n\n    _this = _super.call(this, props);\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WindowThumbnailSettings, [{\n    key: \"handleChange\",\n    value: function handleChange(value) {\n      var _this$props = this.props,\n          windowId = _this$props.windowId,\n          setWindowThumbnailPosition = _this$props.setWindowThumbnailPosition;\n      setWindowThumbnailPosition(windowId, value);\n    }\n    /**\n     * render\n     *\n     * @return {type}  description\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          handleClose = _this$props2.handleClose,\n          t = _this$props2.t,\n          thumbnailNavigationPosition = _this$props2.thumbnailNavigationPosition,\n          direction = _this$props2.direction;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListSubheader, {\n        role: \"presentation\",\n        disableSticky: true,\n        tabIndex: \"-1\"\n      }, t('thumbnails')), /*#__PURE__*/React.createElement(MenuItem, {\n        className: classes.MenuItem,\n        onClick: function onClick() {\n          _this2.handleChange('off');\n\n          handleClose();\n        }\n      }, /*#__PURE__*/React.createElement(FormControlLabel, {\n        value: \"off\",\n        classes: {\n          label: thumbnailNavigationPosition === 'off' ? classes.selectedLabel : classes.label\n        },\n        control: /*#__PURE__*/React.createElement(ThumbnailsOffIcon, {\n          color: thumbnailNavigationPosition === 'off' ? 'secondary' : undefined\n        }),\n        label: t('off'),\n        labelPlacement: \"bottom\"\n      })), /*#__PURE__*/React.createElement(MenuItem, {\n        className: classes.MenuItem,\n        onClick: function onClick() {\n          _this2.handleChange('far-bottom');\n\n          handleClose();\n        }\n      }, /*#__PURE__*/React.createElement(FormControlLabel, {\n        value: \"far-bottom\",\n        classes: {\n          label: thumbnailNavigationPosition === 'far-bottom' ? classes.selectedLabel : classes.label\n        },\n        control: /*#__PURE__*/React.createElement(ThumbnailNavigationBottomIcon, {\n          color: thumbnailNavigationPosition === 'far-bottom' ? 'secondary' : undefined\n        }),\n        label: t('bottom'),\n        labelPlacement: \"bottom\"\n      })), /*#__PURE__*/React.createElement(MenuItem, {\n        className: classes.MenuItem,\n        onClick: function onClick() {\n          _this2.handleChange('far-right');\n\n          handleClose();\n        }\n      }, /*#__PURE__*/React.createElement(FormControlLabel, {\n        value: \"far-right\",\n        classes: {\n          label: thumbnailNavigationPosition === 'far-right' ? classes.selectedLabel : classes.label\n        },\n        control: /*#__PURE__*/React.createElement(ThumbnailNavigationRightIcon, {\n          color: thumbnailNavigationPosition === 'far-right' ? 'secondary' : undefined,\n          style: direction === 'rtl' ? {\n            transform: 'rotate(180deg)'\n          } : {}\n        }),\n        label: t('right'),\n        labelPlacement: \"bottom\"\n      })));\n    }\n  }]);\n\n  return WindowThumbnailSettings;\n}(Component);\nWindowThumbnailSettings.defaultProps = {\n  handleClose: function handleClose() {},\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getThumbnailNavigationPosition, getThemeDirection } from '../state/selectors';\nimport { WindowThumbnailSettings } from '../components/WindowThumbnailSettings';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\nvar mapDispatchToProps = {\n  setWindowThumbnailPosition: actions.setWindowThumbnailPosition\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowViewer\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    direction: getThemeDirection(state),\n    thumbnailNavigationPosition: getThumbnailNavigationPosition(state, {\n      windowId: windowId\n    })\n  };\n};\n/** */\n\n\nvar styles = function styles(theme) {\n  return {\n    label: {\n      borderBottom: '2px solid transparent'\n    },\n    MenuItem: {\n      display: 'inline-block'\n    },\n    selectedLabel: {\n      borderBottom: \"2px solid \".concat(theme.palette.secondary.main),\n      color: theme.palette.secondary.main\n    }\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(null, {\n  withRef: true\n}), connect(mapStateToProps, mapDispatchToProps, null, {\n  forwardRef: true\n}), withPlugins('WindowThumbnailSettings') // further HOC go here\n);\nexport default enhance(WindowThumbnailSettings);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * BookViewIcon ~\n*/\n\nexport default function BookViewIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1,4V21H22.853V4.1ZM3,19V6h8V19Zm18,0H13V6h8ZM14,9.5h6V11H14ZM14,12h6v1.5H14Zm0,2.5h6V16H14Z\"\n  })));\n}","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * GalleryViewIcon ~\n */\n\nexport default function GalleryViewIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.974,2H2V19.974H19.974V2ZM7.392,18.177H3.8V14.582H7.392Zm0-5.392H3.8V9.19H7.392Zm0-5.392H3.8V3.8H7.392Zm5.392,10.785H9.19V14.582h3.595Zm0-5.392H9.19V9.19h3.595Zm0-5.392H9.19V3.8h3.595Zm5.392,10.785H14.582V14.582h3.595Zm0-5.392H14.582V9.19h3.595Zm0-5.392H14.582V3.8h3.595Z\",\n    transform: \"translate(1 1)\"\n  })));\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport SingleIcon from '@material-ui/icons/CropOriginalSharp';\nimport ScrollViewIcon from '@material-ui/icons/ViewColumn';\nimport BookViewIcon from './icons/BookViewIcon';\nimport GalleryViewIcon from './icons/GalleryViewIcon';\n/**\n *\n */\n\nexport var WindowViewSettings = /*#__PURE__*/function (_Component) {\n  _inherits(WindowViewSettings, _Component);\n\n  var _super = _createSuper(WindowViewSettings);\n\n  /**\n   * constructor -\n   */\n  function WindowViewSettings(props) {\n    var _this;\n\n    _classCallCheck(this, WindowViewSettings);\n\n    _this = _super.call(this, props);\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WindowViewSettings, [{\n    key: \"handleChange\",\n    value: function handleChange(value) {\n      var _this$props = this.props,\n          windowId = _this$props.windowId,\n          setWindowViewType = _this$props.setWindowViewType;\n      setWindowViewType(windowId, value);\n    }\n    /**\n     * render\n     *\n     * @return {type}  description\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          handleClose = _this$props2.handleClose,\n          t = _this$props2.t,\n          windowViewType = _this$props2.windowViewType,\n          viewTypes = _this$props2.viewTypes;\n      var iconMap = {\n        book: BookViewIcon,\n        gallery: GalleryViewIcon,\n        scroll: ScrollViewIcon,\n        single: SingleIcon\n      };\n      /** Suspiciously similar to a component, yet if it is invoked through JSX\n          none of the click handlers work? */\n\n      var menuItem = function menuItem(_ref) {\n        var value = _ref.value,\n            Icon = _ref.Icon;\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: value,\n          className: classes.MenuItem,\n          autoFocus: windowViewType === value,\n          onClick: function onClick() {\n            _this2.handleChange(value);\n\n            handleClose();\n          }\n        }, /*#__PURE__*/React.createElement(FormControlLabel, {\n          value: value,\n          classes: {\n            label: windowViewType === value ? classes.selectedLabel : classes.label\n          },\n          control: /*#__PURE__*/React.createElement(Icon, {\n            color: windowViewType === value ? 'secondary' : undefined\n          }),\n          label: t(value),\n          labelPlacement: \"bottom\"\n        }));\n      };\n\n      if (viewTypes.length === 0) return null;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListSubheader, {\n        role: \"presentation\",\n        disableSticky: true,\n        tabIndex: \"-1\"\n      }, t('view')), viewTypes.map(function (value) {\n        return menuItem({\n          Icon: iconMap[value],\n          value: value\n        });\n      }));\n    }\n  }]);\n\n  return WindowViewSettings;\n}(Component);\nWindowViewSettings.defaultProps = {\n  handleClose: function handleClose() {},\n  t: function t(key) {\n    return key;\n  },\n  viewTypes: []\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getAllowedWindowViewTypes, getWindowViewType } from '../state/selectors';\nimport { WindowViewSettings } from '../components/WindowViewSettings';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\nvar mapDispatchToProps = {\n  setWindowViewType: actions.setWindowViewType\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowViewer\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    viewTypes: getAllowedWindowViewTypes(state, {\n      windowId: windowId\n    }),\n    windowViewType: getWindowViewType(state, {\n      windowId: windowId\n    })\n  };\n};\n/** */\n\n\nvar styles = function styles(theme) {\n  return {\n    label: {\n      borderBottom: '2px solid transparent'\n    },\n    MenuItem: {\n      display: 'inline-block'\n    },\n    selectedLabel: {\n      borderBottom: \"2px solid \".concat(theme.palette.secondary.main),\n      color: theme.palette.secondary.main\n    }\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(null, {\n  withRef: true\n}), connect(mapStateToProps, mapDispatchToProps, null, {\n  forwardRef: true\n}), withPlugins('WindowViewSettings'));\nexport default enhance(WindowViewSettings);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Menu from '@material-ui/core//Menu';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport WindowThumbnailSettings from '../containers/WindowThumbnailSettings';\nimport WindowViewSettings from '../containers/WindowViewSettings';\nimport { PluginHook } from './PluginHook';\nimport ns from '../config/css-ns';\n/** Renders plugins */\n\nfunction PluginHookWithHeader(props) {\n  var PluginComponents = props.PluginComponents,\n      t = props.t; // eslint-disable-line react/prop-types\n\n  return PluginComponents ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListSubheader, {\n    role: \"presentation\",\n    disableSticky: true,\n    tabIndex: \"-1\"\n  }, t('windowPluginButtons')), /*#__PURE__*/React.createElement(PluginHook, props)) : null;\n}\n/**\n */\n\n\nexport var WindowTopMenu = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopMenu, _Component);\n\n  var _super = _createSuper(WindowTopMenu);\n\n  function WindowTopMenu() {\n    _classCallCheck(this, WindowTopMenu);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowTopMenu, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return\n     */\n    function render() {\n      var _this$props = this.props,\n          containerId = _this$props.containerId,\n          handleClose = _this$props.handleClose,\n          anchorEl = _this$props.anchorEl,\n          showThumbnailNavigationSettings = _this$props.showThumbnailNavigationSettings,\n          toggleDraggingEnabled = _this$props.toggleDraggingEnabled,\n          windowId = _this$props.windowId;\n      return /*#__PURE__*/React.createElement(Menu, {\n        id: \"window-menu_\".concat(windowId),\n        container: document.querySelector(\"#\".concat(containerId, \" .\").concat(ns('viewer'))),\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          horizontal: 'right',\n          vertical: 'bottom'\n        },\n        transformOrigin: {\n          horizontal: 'right',\n          vertical: 'top'\n        },\n        getContentAnchorEl: null,\n        open: Boolean(anchorEl),\n        onClose: handleClose,\n        onEntering: toggleDraggingEnabled,\n        onExit: toggleDraggingEnabled,\n        orientation: \"horizontal\"\n      }, /*#__PURE__*/React.createElement(WindowViewSettings, {\n        windowId: windowId,\n        handleClose: handleClose\n      }), showThumbnailNavigationSettings && /*#__PURE__*/React.createElement(WindowThumbnailSettings, {\n        windowId: windowId,\n        handleClose: handleClose\n      }), /*#__PURE__*/React.createElement(PluginHookWithHeader, this.props));\n    }\n  }]);\n\n  return WindowTopMenu;\n}(Component);\nWindowTopMenu.defaultProps = {\n  anchorEl: null,\n  showThumbnailNavigationSettings: true\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { WindowTopMenu } from '../components/WindowTopMenu';\nimport { getConfig, getContainerId } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowTopMenu\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    containerId: getContainerId(state),\n    showThumbnailNavigationSettings: getConfig(state).thumbnailNavigation.displaySettings\n  };\n};\n/**\n * mapStateToProps - used to hook up connect to state\n * @memberof WindowTopMenu\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    toggleDraggingEnabled: function toggleDraggingEnabled() {\n      return dispatch(actions.toggleDraggingEnabled());\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('WindowTopMenu'));\nexport default enhance(WindowTopMenu);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * WindowMinIcon ~\n*/\n\nexport default function WindowOptionsIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0,0H24V24H0Z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24.852,17.981,3,18V15.945l21.852-.019Z\",\n    transform: \"translate(-2 5)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1,4V21H22.853V4.1ZM3,19V6h8V19Zm18,0H13V6h8Z\",\n    transform: \"translate(0 -2)\"\n  })));\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport WindowTopMenu from '../containers/WindowTopMenu';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport WindowOptionsIcon from './icons/WindowOptionsIcon';\n/**\n */\n\nexport var WindowTopMenuButton = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopMenuButton, _Component);\n\n  var _super = _createSuper(WindowTopMenuButton);\n\n  /**\n   * constructor -\n   */\n  function WindowTopMenuButton(props) {\n    var _this;\n\n    _classCallCheck(this, WindowTopMenuButton);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      anchorEl: null\n    };\n    _this.handleMenuClick = _this.handleMenuClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuClose = _this.handleMenuClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @private\n   */\n\n\n  _createClass(WindowTopMenuButton, [{\n    key: \"handleMenuClick\",\n    value: function handleMenuClick(event) {\n      this.setState({\n        anchorEl: event.currentTarget\n      });\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"handleMenuClose\",\n    value: function handleMenuClose() {\n      this.setState({\n        anchorEl: null\n      });\n    }\n    /**\n     * render\n     * @return\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          t = _this$props.t,\n          windowId = _this$props.windowId;\n      var anchorEl = this.state.anchorEl;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-haspopup\": \"true\",\n        \"aria-label\": t('windowMenu'),\n        \"aria-owns\": anchorEl ? \"window-menu_\".concat(windowId) : undefined,\n        className: anchorEl ? classes.ctrlBtnSelected : null,\n        onClick: this.handleMenuClick\n      }, /*#__PURE__*/React.createElement(WindowOptionsIcon, null)), /*#__PURE__*/React.createElement(WindowTopMenu, {\n        windowId: windowId,\n        anchorEl: anchorEl,\n        handleClose: this.handleMenuClose\n      }));\n    }\n  }]);\n\n  return WindowTopMenuButton;\n}(Component);\nWindowTopMenuButton.defaultProps = {\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WindowTopMenuButton } from '../components/WindowTopMenuButton';\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    ctrlBtnSelected: {\n      backgroundColor: theme.palette.action.selected\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), withPlugins('WindowTopMenuButton'));\nexport default enhance(WindowTopMenuButton);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport { PluginHook } from './PluginHook';\n/**\n *\n */\n\nexport var WindowTopBarPluginArea = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopBarPluginArea, _Component);\n\n  var _super = _createSuper(WindowTopBarPluginArea);\n\n  function WindowTopBarPluginArea() {\n    _classCallCheck(this, WindowTopBarPluginArea);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowTopBarPluginArea, [{\n    key: \"render\",\n    value:\n    /** */\n    function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(PluginHook, this.props));\n    }\n  }]);\n\n  return WindowTopBarPluginArea;\n}(Component);","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WindowTopBarPluginArea } from '../components/WindowTopBarPluginArea';\n/**\n */\n\nvar styles = {};\nvar enhance = compose(withTranslation(), withStyles(styles), connect(null, null), withPlugins('WindowTopBarPluginArea'));\nexport default enhance(WindowTopBarPluginArea);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport MoreVertIcon from '@material-ui/icons/MoreVertSharp';\nimport Menu from '@material-ui/core/Menu';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport { PluginHook } from './PluginHook';\nimport ns from '../config/css-ns';\n/**\n *\n */\n\nexport var WindowTopBarPluginMenu = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopBarPluginMenu, _Component);\n\n  var _super = _createSuper(WindowTopBarPluginMenu);\n\n  /**\n   * constructor -\n   */\n  function WindowTopBarPluginMenu(props) {\n    var _this;\n\n    _classCallCheck(this, WindowTopBarPluginMenu);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      anchorEl: null\n    };\n    _this.handleMenuClick = _this.handleMenuClick.bind(_assertThisInitialized(_this));\n    _this.handleMenuClose = _this.handleMenuClose.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * Set the anchorEl state to the click target\n   */\n\n\n  _createClass(WindowTopBarPluginMenu, [{\n    key: \"handleMenuClick\",\n    value: function handleMenuClick(event) {\n      this.setState({\n        anchorEl: event.currentTarget\n      });\n    }\n    /**\n     * Set the anchorEl state to null (closing the menu)\n     */\n\n  }, {\n    key: \"handleMenuClose\",\n    value: function handleMenuClose() {\n      this.setState({\n        anchorEl: null\n      });\n    }\n    /**\n     * render component\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          containerId = _this$props.containerId,\n          PluginComponents = _this$props.PluginComponents,\n          t = _this$props.t,\n          windowId = _this$props.windowId,\n          menuIcon = _this$props.menuIcon;\n      var anchorEl = this.state.anchorEl;\n      if (!PluginComponents || PluginComponents.length === 0) return /*#__PURE__*/React.createElement(React.Fragment, null);\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-haspopup\": \"true\",\n        \"aria-label\": t('windowPluginMenu'),\n        \"aria-owns\": anchorEl ? \"window-plugin-menu_\".concat(windowId) : undefined,\n        className: anchorEl ? classes.ctrlBtnSelected : null,\n        onClick: this.handleMenuClick\n      }, menuIcon), /*#__PURE__*/React.createElement(Menu, {\n        id: \"window-plugin-menu_\".concat(windowId),\n        container: document.querySelector(\"#\".concat(containerId, \" .\").concat(ns('viewer'))),\n        anchorEl: anchorEl,\n        anchorOrigin: {\n          horizontal: 'right',\n          vertical: 'bottom'\n        },\n        transformOrigin: {\n          horizontal: 'right',\n          vertical: 'top'\n        },\n        getContentAnchorEl: null,\n        open: Boolean(anchorEl),\n        onClose: function onClose() {\n          return _this2.handleMenuClose();\n        }\n      }, /*#__PURE__*/React.createElement(PluginHook, Object.assign({\n        handleClose: function handleClose() {\n          return _this2.handleMenuClose();\n        }\n      }, this.props))));\n    }\n  }]);\n\n  return WindowTopBarPluginMenu;\n}(Component);\nWindowTopBarPluginMenu.defaultProps = {\n  classes: {},\n  menuIcon: /*#__PURE__*/React.createElement(MoreVertIcon, null),\n  PluginComponents: []\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WindowTopBarPluginMenu } from '../components/WindowTopBarPluginMenu';\nimport { getContainerId } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowTopBarPluginMenu\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    containerId: getContainerId(state)\n  };\n};\n/**\n *\n * @param theme\n * @returns {{ctrlBtn: {margin: (number|string)}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    ctrlBtnSelected: {\n      backgroundColor: theme.palette.action.selected\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, null), withPlugins('WindowTopBarPluginMenu'));\nexport default enhance(WindowTopBarPluginMenu);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport ErrorIcon from '@material-ui/icons/ErrorOutlineSharp';\n/**\n * WindowTopBarTitle\n */\n\nexport var WindowTopBarTitle = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopBarTitle, _Component);\n\n  var _super = _createSuper(WindowTopBarTitle);\n\n  function WindowTopBarTitle() {\n    _classCallCheck(this, WindowTopBarTitle);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowTopBarTitle, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return\n     */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          error = _this$props.error,\n          hideWindowTitle = _this$props.hideWindowTitle,\n          isFetching = _this$props.isFetching,\n          manifestTitle = _this$props.manifestTitle;\n      /** */\n\n      var TitleTypography = function TitleTypography(props) {\n        return /*#__PURE__*/React.createElement(Typography, Object.assign({\n          variant: \"h2\",\n          noWrap: true,\n          color: \"inherit\",\n          className: classes.title\n        }, props), props.children);\n      };\n\n      var title = null;\n\n      if (isFetching) {\n        title = /*#__PURE__*/React.createElement(TitleTypography, null, /*#__PURE__*/React.createElement(Skeleton, {\n          variant: \"text\"\n        }));\n      } else if (error) {\n        title = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ErrorIcon, {\n          color: \"error\"\n        }), /*#__PURE__*/React.createElement(TitleTypography, {\n          color: \"textSecondary\"\n        }, error));\n      } else if (hideWindowTitle) {\n        title = /*#__PURE__*/React.createElement(\"div\", {\n          className: classes.title\n        });\n      } else {\n        title = /*#__PURE__*/React.createElement(TitleTypography, null, manifestTitle);\n      }\n\n      return title;\n    }\n  }]);\n\n  return WindowTopBarTitle;\n}(Component);\nWindowTopBarTitle.defaultProps = {\n  error: null,\n  hideWindowTitle: false,\n  isFetching: false,\n  manifestTitle: ''\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getManifestStatus, getManifestTitle, getWindowConfig } from '../state/selectors';\nimport { WindowTopBarTitle } from '../components/WindowTopBarTitle';\n/** mapStateToProps */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    error: getManifestStatus(state, {\n      windowId: windowId\n    }).error,\n    hideWindowTitle: getWindowConfig(state, {\n      windowId: windowId\n    }).hideWindowTitle,\n    isFetching: getManifestStatus(state, {\n      windowId: windowId\n    }).isFetching,\n    manifestTitle: getManifestTitle(state, {\n      windowId: windowId\n    })\n  };\n};\n/**\n * @param theme\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    title: _objectSpread(_objectSpread({}, theme.typography.h6), {}, {\n      flexGrow: 1,\n      paddingLeft: theme.spacing(0.5)\n    })\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, null), withPlugins('WindowTopBarTitle'));\nexport default enhance(WindowTopBarTitle);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * WindowMaxIcon ~\n*/\n\nexport default function WindowMaxIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7,14H5v5h5V17H7Zm7-9V7h3v3h2V5Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.517,1.524H1.736V22.37H22.517Zm-2,18.845H3.736V3.524H20.517Z\"\n  })));\n}","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * WindowMinIcon ~\n*/\n\nexport default function WindowMinIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5,16H8v3h2V14H5ZM16,8V5H14v5h5V8Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.517,1.524H1.736V22.37H22.517Zm-2,18.845H3.736V3.524H20.517Z\"\n  })));\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport MenuIcon from '@material-ui/icons/MenuSharp';\nimport CloseIcon from '@material-ui/icons/CloseSharp';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport AppBar from '@material-ui/core/AppBar';\nimport classNames from 'classnames';\nimport WindowTopMenuButton from '../containers/WindowTopMenuButton';\nimport WindowTopBarPluginArea from '../containers/WindowTopBarPluginArea';\nimport WindowTopBarPluginMenu from '../containers/WindowTopBarPluginMenu';\nimport WindowTopBarTitle from '../containers/WindowTopBarTitle';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport FullScreenButton from '../containers/FullScreenButton';\nimport WindowMaxIcon from './icons/WindowMaxIcon';\nimport WindowMinIcon from './icons/WindowMinIcon';\nimport ns from '../config/css-ns';\n/**\n * WindowTopBar\n */\n\nexport var WindowTopBar = /*#__PURE__*/function (_Component) {\n  _inherits(WindowTopBar, _Component);\n\n  var _super = _createSuper(WindowTopBar);\n\n  function WindowTopBar() {\n    _classCallCheck(this, WindowTopBar);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowTopBar, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return\n     */\n    function render() {\n      var _this$props = this.props,\n          removeWindow = _this$props.removeWindow,\n          windowId = _this$props.windowId,\n          classes = _this$props.classes,\n          toggleWindowSideBar = _this$props.toggleWindowSideBar,\n          t = _this$props.t,\n          windowDraggable = _this$props.windowDraggable,\n          maximizeWindow = _this$props.maximizeWindow,\n          maximized = _this$props.maximized,\n          minimizeWindow = _this$props.minimizeWindow,\n          focused = _this$props.focused,\n          allowClose = _this$props.allowClose,\n          allowMaximize = _this$props.allowMaximize,\n          focusWindow = _this$props.focusWindow,\n          allowFullscreen = _this$props.allowFullscreen,\n          allowTopMenuButton = _this$props.allowTopMenuButton,\n          allowWindowSideBar = _this$props.allowWindowSideBar;\n      return /*#__PURE__*/React.createElement(AppBar, {\n        position: \"relative\",\n        color: \"default\"\n      }, /*#__PURE__*/React.createElement(\"nav\", {\n        \"aria-label\": t('windowNavigation')\n      }, /*#__PURE__*/React.createElement(Toolbar, {\n        disableGutters: true,\n        onMouseDown: focusWindow,\n        className: classNames(classes.windowTopBarStyle, windowDraggable ? classes.windowTopBarStyleDraggable : null, focused ? classes.focused : null, ns('window-top-bar')),\n        variant: \"dense\"\n      }, allowWindowSideBar && /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('toggleWindowSideBar'),\n        onClick: toggleWindowSideBar\n      }, /*#__PURE__*/React.createElement(MenuIcon, null)), /*#__PURE__*/React.createElement(WindowTopBarTitle, {\n        windowId: windowId\n      }), allowTopMenuButton && /*#__PURE__*/React.createElement(WindowTopMenuButton, {\n        className: ns('window-menu-btn'),\n        windowId: windowId\n      }), /*#__PURE__*/React.createElement(WindowTopBarPluginArea, {\n        windowId: windowId\n      }), /*#__PURE__*/React.createElement(WindowTopBarPluginMenu, {\n        windowId: windowId\n      }), allowMaximize && /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": maximized ? t('minimizeWindow') : t('maximizeWindow'),\n        className: ns('window-maximize'),\n        onClick: maximized ? minimizeWindow : maximizeWindow\n      }, maximized ? /*#__PURE__*/React.createElement(WindowMinIcon, null) : /*#__PURE__*/React.createElement(WindowMaxIcon, null)), allowFullscreen && /*#__PURE__*/React.createElement(FullScreenButton, null), allowClose && /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('closeWindow'),\n        className: ns('window-close'),\n        onClick: removeWindow\n      }, /*#__PURE__*/React.createElement(CloseIcon, null)))));\n    }\n  }]);\n\n  return WindowTopBar;\n}(Component);\nWindowTopBar.defaultProps = {\n  allowClose: true,\n  allowFullscreen: false,\n  allowMaximize: true,\n  allowTopMenuButton: true,\n  allowWindowSideBar: true,\n  focused: false,\n  focusWindow: function focusWindow() {},\n  maximized: false,\n  maximizeWindow: function maximizeWindow() {},\n  minimizeWindow: function minimizeWindow() {},\n  t: function t(key) {\n    return key;\n  },\n  windowDraggable: true\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getWindowConfig, isFocused } from '../state/selectors';\nimport { WindowTopBar } from '../components/WindowTopBar';\n/** mapStateToProps */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  var config = getWindowConfig(state, {\n    windowId: windowId\n  });\n  return {\n    allowClose: config.allowClose,\n    allowFullscreen: config.allowFullscreen,\n    allowMaximize: config.allowMaximize,\n    allowTopMenuButton: config.allowTopMenuButton,\n    allowWindowSideBar: config.allowWindowSideBar,\n    focused: isFocused(state, {\n      windowId: windowId\n    }),\n    maximized: config.maximized\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref2) {\n  var windowId = _ref2.windowId;\n  return {\n    focusWindow: function focusWindow() {\n      return dispatch(actions.focusWindow(windowId));\n    },\n    maximizeWindow: function maximizeWindow() {\n      return dispatch(actions.maximizeWindow(windowId));\n    },\n    minimizeWindow: function minimizeWindow() {\n      return dispatch(actions.minimizeWindow(windowId));\n    },\n    removeWindow: function removeWindow() {\n      return dispatch(actions.removeWindow(windowId));\n    },\n    toggleWindowSideBar: function toggleWindowSideBar() {\n      return dispatch(actions.toggleWindowSideBar(windowId));\n    }\n  };\n};\n/**\n * @param theme\n * @returns {{typographyBody: {flexGrow: number, fontSize: number|string},\n * windowTopBarStyle: {minHeight: number, paddingLeft: number, backgroundColor: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    focused: {},\n    windowTopBarStyle: {\n      '&$focused': {\n        borderTop: \"2px solid \".concat(theme.palette.primary.main)\n      },\n      backgroundColor: theme.palette.shades.main,\n      borderTop: '2px solid transparent',\n      minHeight: 32,\n      paddingLeft: theme.spacing(0.5),\n      paddingRight: theme.spacing(0.5)\n    },\n    windowTopBarStyleDraggable: {\n      cursor: 'move'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('WindowTopBar'));\nexport default enhance(WindowTopBar);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport * as ReactDOM from 'react-dom';\nimport debounce from '../utils/debounce';\nimport { Transition } from 'react-transition-group';\nimport { elementAcceptingRef } from '@material-ui/utils';\nimport useForkRef from '../utils/useForkRef';\nimport useTheme from '../styles/useTheme';\nimport { duration } from '../styles/transitions';\nimport { reflow, getTransitionProps } from '../transitions/utils'; // Translate the node so he can't be seen on the screen.\n// Later, we gonna translate back the node to his original location\n// with `none`.`\n\nfunction getTranslateValue(direction, node) {\n  var rect = node.getBoundingClientRect();\n  var transform;\n\n  if (node.fakeTransform) {\n    transform = node.fakeTransform;\n  } else {\n    var computedStyle = window.getComputedStyle(node);\n    transform = computedStyle.getPropertyValue('-webkit-transform') || computedStyle.getPropertyValue('transform');\n  }\n\n  var offsetX = 0;\n  var offsetY = 0;\n\n  if (transform && transform !== 'none' && typeof transform === 'string') {\n    var transformValues = transform.split('(')[1].split(')')[0].split(',');\n    offsetX = parseInt(transformValues[4], 10);\n    offsetY = parseInt(transformValues[5], 10);\n  }\n\n  if (direction === 'left') {\n    return \"translateX(\".concat(window.innerWidth, \"px) translateX(\").concat(offsetX - rect.left, \"px)\");\n  }\n\n  if (direction === 'right') {\n    return \"translateX(-\".concat(rect.left + rect.width - offsetX, \"px)\");\n  }\n\n  if (direction === 'up') {\n    return \"translateY(\".concat(window.innerHeight, \"px) translateY(\").concat(offsetY - rect.top, \"px)\");\n  } // direction === 'down'\n\n\n  return \"translateY(-\".concat(rect.top + rect.height - offsetY, \"px)\");\n}\n\nexport function setTranslateValue(direction, node) {\n  var transform = getTranslateValue(direction, node);\n\n  if (transform) {\n    node.style.webkitTransform = transform;\n    node.style.transform = transform;\n  }\n}\nvar defaultTimeout = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The Slide transition is used by the [Drawer](/components/drawers/) component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Slide = /*#__PURE__*/React.forwardRef(function Slide(props, ref) {\n  var children = props.children,\n      _props$direction = props.direction,\n      direction = _props$direction === void 0 ? 'down' : _props$direction,\n      inProp = props.in,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExited = props.onExited,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? defaultTimeout : _props$timeout,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Transition : _props$TransitionComp,\n      other = _objectWithoutProperties(props, [\"children\", \"direction\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExited\", \"onExiting\", \"style\", \"timeout\", \"TransitionComponent\"]);\n\n  var theme = useTheme();\n  var childrenRef = React.useRef(null);\n  /**\n   * used in cloneElement(children, { ref: handleRef })\n   */\n\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    childrenRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRefIntermediary = useForkRef(children.ref, handleOwnRef);\n  var handleRef = useForkRef(handleRefIntermediary, ref);\n\n  var normalizedTransitionCallback = function normalizedTransitionCallback(callback) {\n    return function (isAppearing) {\n      if (callback) {\n        // onEnterXxx and onExitXxx callbacks have a different arguments.length value.\n        if (isAppearing === undefined) {\n          callback(childrenRef.current);\n        } else {\n          callback(childrenRef.current, isAppearing);\n        }\n      }\n    };\n  };\n\n  var handleEnter = normalizedTransitionCallback(function (node, isAppearing) {\n    setTranslateValue(direction, node);\n    reflow(node);\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  });\n  var handleEntering = normalizedTransitionCallback(function (node, isAppearing) {\n    var transitionProps = getTransitionProps({\n      timeout: timeout,\n      style: style\n    }, {\n      mode: 'enter'\n    });\n    node.style.webkitTransition = theme.transitions.create('-webkit-transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.easeOut\n    }));\n    node.style.transition = theme.transitions.create('transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.easeOut\n    }));\n    node.style.webkitTransform = 'none';\n    node.style.transform = 'none';\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  });\n  var handleEntered = normalizedTransitionCallback(onEntered);\n  var handleExiting = normalizedTransitionCallback(onExiting);\n  var handleExit = normalizedTransitionCallback(function (node) {\n    var transitionProps = getTransitionProps({\n      timeout: timeout,\n      style: style\n    }, {\n      mode: 'exit'\n    });\n    node.style.webkitTransition = theme.transitions.create('-webkit-transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.sharp\n    }));\n    node.style.transition = theme.transitions.create('transform', _extends({}, transitionProps, {\n      easing: theme.transitions.easing.sharp\n    }));\n    setTranslateValue(direction, node);\n\n    if (onExit) {\n      onExit(node);\n    }\n  });\n  var handleExited = normalizedTransitionCallback(function (node) {\n    // No need for transitions when the component is hidden\n    node.style.webkitTransition = '';\n    node.style.transition = '';\n\n    if (onExited) {\n      onExited(node);\n    }\n  });\n  var updatePosition = React.useCallback(function () {\n    if (childrenRef.current) {\n      setTranslateValue(direction, childrenRef.current);\n    }\n  }, [direction]);\n  React.useEffect(function () {\n    // Skip configuration where the position is screen size invariant.\n    if (inProp || direction === 'down' || direction === 'right') {\n      return undefined;\n    }\n\n    var handleResize = debounce(function () {\n      if (childrenRef.current) {\n        setTranslateValue(direction, childrenRef.current);\n      }\n    });\n    window.addEventListener('resize', handleResize);\n    return function () {\n      handleResize.clear();\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [direction, inProp]);\n  React.useEffect(function () {\n    if (!inProp) {\n      // We need to update the position of the drawer when the direction change and\n      // when it's hidden.\n      updatePosition();\n    }\n  }, [inProp, updatePosition]);\n  return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    nodeRef: childrenRef,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExited: handleExited,\n    onExiting: handleExiting,\n    appear: true,\n    in: inProp,\n    timeout: timeout\n  }, other), function (state, childProps) {\n    return /*#__PURE__*/React.cloneElement(children, _extends({\n      ref: handleRef,\n      style: _extends({\n        visibility: state === 'exited' && !inProp ? 'hidden' : undefined\n      }, style, children.props.style)\n    }, childProps));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Slide.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * A single child content element.\n   */\n  children: elementAcceptingRef,\n\n  /**\n   * Direction the child node will enter from.\n   */\n  direction: PropTypes.oneOf(['down', 'left', 'right', 'up']),\n\n  /**\n   * If `true`, show the component; triggers the enter or exit animation.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  timeout: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })])\n} : void 0;\nexport default Slide;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Modal from '../Modal';\nimport Backdrop from '../Backdrop';\nimport withStyles from '../styles/withStyles';\nimport Slide from '../Slide';\nimport Paper from '../Paper';\nimport capitalize from '../utils/capitalize';\nimport { duration } from '../styles/transitions';\nimport useTheme from '../styles/useTheme';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {},\n\n    /* Styles applied to the root element if `variant=\"permanent or persistent\"`. */\n    docked: {\n      flex: '0 0 auto'\n    },\n\n    /* Styles applied to the `Paper` component. */\n    paper: {\n      overflowY: 'auto',\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%',\n      flex: '1 0 auto',\n      zIndex: theme.zIndex.drawer,\n      WebkitOverflowScrolling: 'touch',\n      // Add iOS momentum scrolling.\n      // temporary style\n      position: 'fixed',\n      top: 0,\n      // We disable the focus ring for mouse, touch and keyboard users.\n      // At some point, it would be better to keep it for keyboard users.\n      // :focus-ring CSS pseudo-class will help.\n      outline: 0\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"left\"`. */\n    paperAnchorLeft: {\n      left: 0,\n      right: 'auto'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"right\"`. */\n    paperAnchorRight: {\n      left: 'auto',\n      right: 0\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"top\"`. */\n    paperAnchorTop: {\n      top: 0,\n      left: 0,\n      bottom: 'auto',\n      right: 0,\n      height: 'auto',\n      maxHeight: '100%'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"bottom\"`. */\n    paperAnchorBottom: {\n      top: 'auto',\n      left: 0,\n      bottom: 0,\n      right: 0,\n      height: 'auto',\n      maxHeight: '100%'\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"left\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedLeft: {\n      borderRight: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"top\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedTop: {\n      borderBottom: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"right\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedRight: {\n      borderLeft: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Paper` component if `anchor=\"bottom\"` and `variant` is not \"temporary\". */\n    paperAnchorDockedBottom: {\n      borderTop: \"1px solid \".concat(theme.palette.divider)\n    },\n\n    /* Styles applied to the `Modal` component. */\n    modal: {}\n  };\n};\nvar oppositeDirection = {\n  left: 'right',\n  right: 'left',\n  top: 'down',\n  bottom: 'up'\n};\nexport function isHorizontal(anchor) {\n  return ['left', 'right'].indexOf(anchor) !== -1;\n}\nexport function getAnchor(theme, anchor) {\n  return theme.direction === 'rtl' && isHorizontal(anchor) ? oppositeDirection[anchor] : anchor;\n}\nvar defaultTransitionDuration = {\n  enter: duration.enteringScreen,\n  exit: duration.leavingScreen\n};\n/**\n * The props of the [Modal](/api/modal/) component are available\n * when `variant=\"temporary\"` is set.\n */\n\nvar Drawer = /*#__PURE__*/React.forwardRef(function Drawer(props, ref) {\n  var _props$anchor = props.anchor,\n      anchorProp = _props$anchor === void 0 ? 'left' : _props$anchor,\n      BackdropProps = props.BackdropProps,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$elevation = props.elevation,\n      elevation = _props$elevation === void 0 ? 16 : _props$elevation,\n      _props$ModalProps = props.ModalProps;\n  _props$ModalProps = _props$ModalProps === void 0 ? {} : _props$ModalProps;\n\n  var BackdropPropsProp = _props$ModalProps.BackdropProps,\n      ModalProps = _objectWithoutProperties(_props$ModalProps, [\"BackdropProps\"]),\n      onClose = props.onClose,\n      _props$open = props.open,\n      open = _props$open === void 0 ? false : _props$open,\n      _props$PaperProps = props.PaperProps,\n      PaperProps = _props$PaperProps === void 0 ? {} : _props$PaperProps,\n      SlideProps = props.SlideProps,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Slide : _props$TransitionComp,\n      _props$transitionDura = props.transitionDuration,\n      transitionDuration = _props$transitionDura === void 0 ? defaultTransitionDuration : _props$transitionDura,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'temporary' : _props$variant,\n      other = _objectWithoutProperties(props, [\"anchor\", \"BackdropProps\", \"children\", \"classes\", \"className\", \"elevation\", \"ModalProps\", \"onClose\", \"open\", \"PaperProps\", \"SlideProps\", \"TransitionComponent\", \"transitionDuration\", \"variant\"]);\n\n  var theme = useTheme(); // Let's assume that the Drawer will always be rendered on user space.\n  // We use this state is order to skip the appear transition during the\n  // initial mount of the component.\n\n  var mounted = React.useRef(false);\n  React.useEffect(function () {\n    mounted.current = true;\n  }, []);\n  var anchor = getAnchor(theme, anchorProp);\n  var drawer = /*#__PURE__*/React.createElement(Paper, _extends({\n    elevation: variant === 'temporary' ? elevation : 0,\n    square: true\n  }, PaperProps, {\n    className: clsx(classes.paper, classes[\"paperAnchor\".concat(capitalize(anchor))], PaperProps.className, variant !== 'temporary' && classes[\"paperAnchorDocked\".concat(capitalize(anchor))])\n  }), children);\n\n  if (variant === 'permanent') {\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: clsx(classes.root, classes.docked, className),\n      ref: ref\n    }, other), drawer);\n  }\n\n  var slidingDrawer = /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    in: open,\n    direction: oppositeDirection[anchor],\n    timeout: transitionDuration,\n    appear: mounted.current\n  }, SlideProps), drawer);\n\n  if (variant === 'persistent') {\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: clsx(classes.root, classes.docked, className),\n      ref: ref\n    }, other), slidingDrawer);\n  } // variant === temporary\n\n\n  return /*#__PURE__*/React.createElement(Modal, _extends({\n    BackdropProps: _extends({}, BackdropProps, BackdropPropsProp, {\n      transitionDuration: transitionDuration\n    }),\n    BackdropComponent: Backdrop,\n    className: clsx(classes.root, classes.modal, className),\n    open: open,\n    onClose: onClose,\n    ref: ref\n  }, other, ModalProps), slidingDrawer);\n});\nprocess.env.NODE_ENV !== \"production\" ? Drawer.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Side from which the drawer will appear.\n   */\n  anchor: PropTypes.oneOf(['bottom', 'left', 'right', 'top']),\n\n  /**\n   * @ignore\n   */\n  BackdropProps: PropTypes.object,\n\n  /**\n   * The contents of the drawer.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The elevation of the drawer.\n   */\n  elevation: PropTypes.number,\n\n  /**\n   * Props applied to the [`Modal`](/api/modal/) element.\n   */\n  ModalProps: PropTypes.object,\n\n  /**\n   * Callback fired when the component requests to be closed.\n   *\n   * @param {object} event The event source of the callback.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * If `true`, the drawer is open.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * Props applied to the [`Paper`](/api/paper/) element.\n   */\n  PaperProps: PropTypes.object,\n\n  /**\n   * Props applied to the [`Slide`](/api/slide/) element.\n   */\n  SlideProps: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   */\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })]),\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['permanent', 'persistent', 'temporary'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDrawer',\n  flip: false\n})(Drawer);","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n/**\n * Render the canvas index svg\n */\n\nexport default function CanvasIndexIcon(props) {\n  return /*#__PURE__*/React.createElement(SvgIcon, props, /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.924,21H21V19H6.924ZM3,17H21V15H3Zm3.924-4H21V11H6.924Zm0-4H21V7H6.924ZM3,3V5H21V3Z\"\n  })));\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Badge from '@material-ui/core/Badge';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport InfoIcon from '@material-ui/icons/InfoSharp';\nimport AnnotationIcon from '@material-ui/icons/CommentSharp';\nimport AttributionIcon from '@material-ui/icons/CopyrightSharp';\nimport LayersIcon from '@material-ui/icons/LayersSharp';\nimport SearchIcon from '@material-ui/icons/SearchSharp';\nimport CanvasIndexIcon from './icons/CanvasIndexIcon';\n/**\n *\n */\n\nexport var WindowSideBarButtons = /*#__PURE__*/function (_Component) {\n  _inherits(WindowSideBarButtons, _Component);\n\n  var _super = _createSuper(WindowSideBarButtons);\n\n  /** */\n  function WindowSideBarButtons(props) {\n    var _this;\n\n    _classCallCheck(this, WindowSideBarButtons);\n\n    _this = _super.call(this, props);\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @param {object} event the change event\n   * @param {string} value the tab's value\n  */\n\n\n  _createClass(WindowSideBarButtons, [{\n    key: \"handleChange\",\n    value: function handleChange(event, value) {\n      var addCompanionWindow = this.props.addCompanionWindow;\n      addCompanionWindow(value);\n    }\n    /**\n     * render\n     *\n     * @return {type}  description\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          hasAnnotations = _this$props.hasAnnotations,\n          hasAnyAnnotations = _this$props.hasAnyAnnotations,\n          hasAnyLayers = _this$props.hasAnyLayers,\n          hasCurrentLayers = _this$props.hasCurrentLayers,\n          hasSearchResults = _this$props.hasSearchResults,\n          hasSearchService = _this$props.hasSearchService,\n          panels = _this$props.panels,\n          PluginComponents = _this$props.PluginComponents,\n          sideBarPanel = _this$props.sideBarPanel,\n          t = _this$props.t;\n      /** */\n\n      var TabButton = function TabButton(props) {\n        return /*#__PURE__*/React.createElement(Tooltip, {\n          title: t('openCompanionWindow', {\n            context: props.value\n          })\n        }, /*#__PURE__*/React.createElement(Tab, Object.assign({}, props, {\n          classes: {\n            root: classes.tab,\n            selected: classes.tabSelected\n          },\n          \"aria-label\": t('openCompanionWindow', {\n            context: props.value\n          }),\n          disableRipple: true,\n          onKeyUp: _this2.handleKeyUp\n        })));\n      };\n\n      return /*#__PURE__*/React.createElement(Tabs, {\n        classes: {\n          flexContainer: classes.tabsFlexContainer,\n          indicator: classes.tabsIndicator\n        },\n        value: sideBarPanel === 'closed' ? false : sideBarPanel,\n        onChange: this.handleChange,\n        variant: \"fullWidth\",\n        indicatorColor: \"primary\",\n        textColor: \"primary\",\n        orientation: \"vertical\",\n        \"aria-orientation\": \"vertical\",\n        \"aria-label\": t('sidebarPanelsNavigation')\n      }, panels.info && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"info\",\n        icon: /*#__PURE__*/React.createElement(InfoIcon, null)\n      }), panels.attribution && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"attribution\",\n        icon: /*#__PURE__*/React.createElement(AttributionIcon, null)\n      }), panels.canvas && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"canvas\",\n        icon: /*#__PURE__*/React.createElement(CanvasIndexIcon, null)\n      }), panels.annotations && (hasAnnotations || hasAnyAnnotations) && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"annotations\",\n        icon: /*#__PURE__*/React.createElement(Badge, {\n          classes: {\n            badge: classes.badge\n          },\n          invisible: !hasAnnotations,\n          variant: \"dot\"\n        }, /*#__PURE__*/React.createElement(AnnotationIcon, null))\n      }), panels.search && hasSearchService && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"search\",\n        icon: /*#__PURE__*/React.createElement(Badge, {\n          classes: {\n            badge: classes.badge\n          },\n          invisible: !hasSearchResults,\n          variant: \"dot\"\n        }, /*#__PURE__*/React.createElement(SearchIcon, null))\n      }), panels.layers && hasAnyLayers && /*#__PURE__*/React.createElement(TabButton, {\n        value: \"layers\",\n        icon: /*#__PURE__*/React.createElement(Badge, {\n          classes: {\n            badge: classes.badge\n          },\n          invisible: !hasCurrentLayers,\n          variant: \"dot\"\n        }, /*#__PURE__*/React.createElement(LayersIcon, null))\n      }), PluginComponents && PluginComponents.map(function (PluginComponent) {\n        return /*#__PURE__*/React.createElement(TabButton, {\n          key: PluginComponent.value,\n          value: PluginComponent.value,\n          icon: /*#__PURE__*/React.createElement(PluginComponent, null)\n        });\n      }));\n    }\n  }]);\n\n  return WindowSideBarButtons;\n}(Component);\nWindowSideBarButtons.defaultProps = {\n  classes: {},\n  hasAnnotations: false,\n  hasAnyAnnotations: false,\n  hasAnyLayers: false,\n  hasCurrentLayers: false,\n  hasSearchResults: false,\n  hasSearchService: false,\n  panels: [],\n  PluginComponents: null,\n  sideBarPanel: 'closed',\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport MiradorCanvas from '../lib/MiradorCanvas';\nimport { getCanvases, getVisibleCanvases, getCompanionWindowsForPosition, getAnnotationResourcesByMotivation, getManifestSearchService, getSearchQuery, getWindow, getWindowConfig } from '../state/selectors';\nimport { WindowSideBarButtons } from '../components/WindowSideBarButtons';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof WindowSideButtons\n * @private\n */\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    addCompanionWindow: function addCompanionWindow(content) {\n      return dispatch(actions.addOrUpdateCompanionWindow(windowId, {\n        content: content,\n        position: 'left'\n      }));\n    }\n  };\n};\n/** */\n\n\nfunction hasLayers(canvases) {\n  return canvases && canvases.some(function (c) {\n    return new MiradorCanvas(c).imageResources.length > 1;\n  });\n}\n/** */\n\n\nfunction hasAnnotations(canvases) {\n  return canvases && canvases.some(function (c) {\n    var canvas = new MiradorCanvas(c);\n    return canvas.annotationListUris.length > 0 || canvas.canvasAnnotationPages.length > 0;\n  });\n}\n/**\n * mapStateToProps - used to hook up connect to state\n * @memberof WindowSideButtons\n * @private\n */\n\n\nvar mapStateToProps = function mapStateToProps(state, _ref2) {\n  var windowId = _ref2.windowId;\n  return {\n    hasAnnotations: getAnnotationResourcesByMotivation(state, {\n      windowId: windowId\n    }).length > 0,\n    hasAnyAnnotations: hasAnnotations(getCanvases(state, {\n      windowId: windowId\n    })),\n    hasAnyLayers: hasLayers(getCanvases(state, {\n      windowId: windowId\n    })),\n    hasCurrentLayers: hasLayers(getVisibleCanvases(state, {\n      windowId: windowId\n    })),\n    hasSearchResults: getWindow(state, {\n      windowId: windowId\n    }).suggestedSearches || getSearchQuery(state, {\n      companionWindowId: (getCompanionWindowsForPosition(state, {\n        position: 'left',\n        windowId: windowId\n      })[0] || {}).id,\n      windowId: windowId\n    }),\n    hasSearchService: getManifestSearchService(state, {\n      windowId: windowId\n    }) !== null,\n    panels: getWindowConfig(state, {\n      windowId: windowId\n    }).panels,\n    sideBarPanel: (getCompanionWindowsForPosition(state, {\n      position: 'left',\n      windowId: windowId\n    })[0] || {}).content\n  };\n};\n/** */\n\n\nvar style = function style(theme) {\n  return {\n    badge: {\n      backgroundColor: theme.palette.notification.main\n    },\n    tab: {\n      '&:active': {\n        backgroundColor: theme.palette.action.active\n      },\n      '&:focus': {\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        },\n        backgroundColor: theme.palette.action.hover,\n        textDecoration: 'none' // Reset on touch devices, it doesn't add specificity\n\n      },\n      '&:hover': {\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        },\n        backgroundColor: theme.palette.action.hover,\n        textDecoration: 'none' // Reset on touch devices, it doesn't add specificity\n\n      },\n      borderRight: '2px solid transparent',\n      minWidth: 'auto'\n    },\n    tabSelected: {\n      borderRight: \"2px solid \".concat(theme.palette.primary.main)\n    },\n    tabsFlexContainer: {\n      flexDirection: 'column'\n    },\n    tabsIndicator: {\n      display: 'none'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(style), connect(mapStateToProps, mapDispatchToProps), withPlugins('WindowSideBarButtons'));\nexport default enhance(WindowSideBarButtons);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport Drawer from '@material-ui/core/Drawer';\nimport WindowSideBarButtons from '../containers/WindowSideBarButtons';\n/**\n * WindowSideBar\n */\n\nexport var WindowSideBar = /*#__PURE__*/function (_Component) {\n  _inherits(WindowSideBar, _Component);\n\n  var _super = _createSuper(WindowSideBar);\n\n  function WindowSideBar() {\n    _classCallCheck(this, WindowSideBar);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WindowSideBar, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return\n     */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          direction = _this$props.direction,\n          t = _this$props.t,\n          windowId = _this$props.windowId,\n          sideBarOpen = _this$props.sideBarOpen;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Drawer, {\n        variant: \"persistent\",\n        className: classNames(classes.drawer),\n        classes: {\n          paper: classNames(classes.paper)\n        },\n        anchor: direction === 'rtl' ? 'right' : 'left',\n        PaperProps: {\n          'aria-label': t('sidebarPanelsNavigation'),\n          component: 'nav',\n          style: {\n            height: '100%',\n            position: 'relative'\n          }\n        },\n        SlideProps: {\n          direction: direction === 'rtl' ? 'left' : 'right',\n          mountOnEnter: true,\n          unmountOnExit: true\n        },\n        open: sideBarOpen\n      }, /*#__PURE__*/React.createElement(WindowSideBarButtons, {\n        windowId: windowId\n      })));\n    }\n  }]);\n\n  return WindowSideBar;\n}(Component);\nWindowSideBar.defaultProps = {\n  sideBarOpen: false\n};","import { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WindowSideBar } from '../components/WindowSideBar';\nimport { getThemeDirection, getWindow } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof WindowSideBar\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    direction: getThemeDirection(state),\n    sideBarOpen: (getWindow(state, {\n      windowId: windowId\n    }) || {}).sideBarOpen,\n    sideBarPanel: (getWindow(state, {\n      windowId: windowId\n    }) || {}).sideBarPanel\n  };\n};\n/**\n *\n * @param theme\n * @returns {{toolbar: CSSProperties | toolbar | {minHeight}, grow: {flexGrow: number},\n * drawer: {overflowX: string, left: number, flexShrink: number, width: number, height: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    drawer: {\n      flexShrink: 0,\n      height: '100%',\n      order: -1000,\n      zIndex: theme.zIndex.appBar - 1\n    },\n    grow: {\n      flexGrow: 1\n    },\n    paper: {\n      borderInlineEnd: \"1px solid \".concat(theme.palette.divider),\n      overflowX: 'hidden',\n      width: 48\n    },\n    toolbar: theme.mixins.toolbar\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(), connect(mapStateToProps, null), withPlugins('WindowSideBar'));\nexport default enhance(WindowSideBar);","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","import * as React from 'react';\n/**\n * @ignore - internal component.\n * @type {React.Context<{} | {expanded: boolean, disabled: boolean, toggle: () => void}>}\n */\n\nvar AccordionContext = React.createContext({});\n\nif (process.env.NODE_ENV !== 'production') {\n  AccordionContext.displayName = 'AccordionContext';\n}\n\nexport default AccordionContext;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toArray from \"@babel/runtime/helpers/esm/toArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport { isFragment } from 'react-is';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport Collapse from '../Collapse';\nimport Paper from '../Paper';\nimport withStyles from '../styles/withStyles';\nimport AccordionContext from './AccordionContext';\nimport useControlled from '../utils/useControlled';\nexport var styles = function styles(theme) {\n  var transition = {\n    duration: theme.transitions.duration.shortest\n  };\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'relative',\n      transition: theme.transitions.create(['margin'], transition),\n      '&:before': {\n        position: 'absolute',\n        left: 0,\n        top: -1,\n        right: 0,\n        height: 1,\n        content: '\"\"',\n        opacity: 1,\n        backgroundColor: theme.palette.divider,\n        transition: theme.transitions.create(['opacity', 'background-color'], transition)\n      },\n      '&:first-child': {\n        '&:before': {\n          display: 'none'\n        }\n      },\n      '&$expanded': {\n        margin: '16px 0',\n        '&:first-child': {\n          marginTop: 0\n        },\n        '&:last-child': {\n          marginBottom: 0\n        },\n        '&:before': {\n          opacity: 0\n        }\n      },\n      '&$expanded + &': {\n        '&:before': {\n          display: 'none'\n        }\n      },\n      '&$disabled': {\n        backgroundColor: theme.palette.action.disabledBackground\n      }\n    },\n\n    /* Styles applied to the root element if `square={false}`. */\n    rounded: {\n      borderRadius: 0,\n      '&:first-child': {\n        borderTopLeftRadius: theme.shape.borderRadius,\n        borderTopRightRadius: theme.shape.borderRadius\n      },\n      '&:last-child': {\n        borderBottomLeftRadius: theme.shape.borderRadius,\n        borderBottomRightRadius: theme.shape.borderRadius,\n        // Fix a rendering issue on Edge\n        '@supports (-ms-ime-align: auto)': {\n          borderBottomLeftRadius: 0,\n          borderBottomRightRadius: 0\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `expanded={true}`. */\n    expanded: {},\n\n    /* Styles applied to the root element if `disabled={true}`. */\n    disabled: {}\n  };\n};\nvar Accordion = /*#__PURE__*/React.forwardRef(function Accordion(props, ref) {\n  var childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$defaultExpande = props.defaultExpanded,\n      defaultExpanded = _props$defaultExpande === void 0 ? false : _props$defaultExpande,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      expandedProp = props.expanded,\n      onChange = props.onChange,\n      _props$square = props.square,\n      square = _props$square === void 0 ? false : _props$square,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Collapse : _props$TransitionComp,\n      TransitionProps = props.TransitionProps,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"defaultExpanded\", \"disabled\", \"expanded\", \"onChange\", \"square\", \"TransitionComponent\", \"TransitionProps\"]);\n\n  var _useControlled = useControlled({\n    controlled: expandedProp,\n    default: defaultExpanded,\n    name: 'Accordion',\n    state: 'expanded'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      expanded = _useControlled2[0],\n      setExpandedState = _useControlled2[1];\n\n  var handleChange = React.useCallback(function (event) {\n    setExpandedState(!expanded);\n\n    if (onChange) {\n      onChange(event, !expanded);\n    }\n  }, [expanded, onChange, setExpandedState]);\n\n  var _React$Children$toArr = React.Children.toArray(childrenProp),\n      _React$Children$toArr2 = _toArray(_React$Children$toArr),\n      summary = _React$Children$toArr2[0],\n      children = _React$Children$toArr2.slice(1);\n\n  var contextValue = React.useMemo(function () {\n    return {\n      expanded: expanded,\n      disabled: disabled,\n      toggle: handleChange\n    };\n  }, [expanded, disabled, handleChange]);\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    className: clsx(classes.root, className, expanded && classes.expanded, disabled && classes.disabled, !square && classes.rounded),\n    ref: ref,\n    square: square\n  }, other), /*#__PURE__*/React.createElement(AccordionContext.Provider, {\n    value: contextValue\n  }, summary), /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    in: expanded,\n    timeout: \"auto\"\n  }, TransitionProps), /*#__PURE__*/React.createElement(\"div\", {\n    \"aria-labelledby\": summary.props.id,\n    id: summary.props['aria-controls'],\n    role: \"region\"\n  }, children)));\n});\nprocess.env.NODE_ENV !== \"production\" ? Accordion.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the accordion.\n   */\n  children: chainPropTypes(PropTypes.node.isRequired, function (props) {\n    var summary = React.Children.toArray(props.children)[0];\n\n    if (isFragment(summary)) {\n      return new Error(\"Material-UI: The Accordion doesn't accept a Fragment as a child. \" + 'Consider providing an array instead.');\n    }\n\n    if (! /*#__PURE__*/React.isValidElement(summary)) {\n      return new Error('Material-UI: Expected the first child of Accordion to be a valid element.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, expands the accordion by default.\n   */\n  defaultExpanded: PropTypes.bool,\n\n  /**\n   * If `true`, the accordion will be displayed in a disabled state.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, expands the accordion, otherwise collapse it.\n   * Setting this prop enables control over the accordion.\n   */\n  expanded: PropTypes.bool,\n\n  /**\n   * Callback fired when the expand/collapse state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * @param {boolean} expanded The `expanded` state of the accordion.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * If `true`, rounded corners are disabled.\n   */\n  square: PropTypes.bool,\n\n  /**\n   * The component used for the collapse effect.\n   * [Follow this guide](/components/transitions/#transitioncomponent-prop) to learn more about the requirements for this component.\n   */\n  TransitionComponent: PropTypes.elementType,\n\n  /**\n   * Props applied to the [`Transition`](http://reactcommunity.org/react-transition-group/transition#Transition-props) element.\n   */\n  TransitionProps: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAccordion'\n})(Accordion);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\n/* eslint-disable jsx-a11y/aria-role */\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport ButtonBase from '../ButtonBase';\nimport IconButton from '../IconButton';\nimport withStyles from '../styles/withStyles';\nimport AccordionContext from '../Accordion/AccordionContext';\nexport var styles = function styles(theme) {\n  var transition = {\n    duration: theme.transitions.duration.shortest\n  };\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'flex',\n      minHeight: 8 * 6,\n      transition: theme.transitions.create(['min-height', 'background-color'], transition),\n      padding: theme.spacing(0, 2),\n      '&:hover:not($disabled)': {\n        cursor: 'pointer'\n      },\n      '&$expanded': {\n        minHeight: 64\n      },\n      '&$focused': {\n        backgroundColor: theme.palette.action.focus\n      },\n      '&$disabled': {\n        opacity: theme.palette.action.disabledOpacity\n      }\n    },\n\n    /* Pseudo-class applied to the root element, children wrapper element and `IconButton` component if `expanded={true}`. */\n    expanded: {},\n\n    /* Pseudo-class applied to the root element if `focused={true}`. */\n    focused: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the children wrapper element. */\n    content: {\n      display: 'flex',\n      flexGrow: 1,\n      transition: theme.transitions.create(['margin'], transition),\n      margin: '12px 0',\n      '&$expanded': {\n        margin: '20px 0'\n      }\n    },\n\n    /* Styles applied to the `IconButton` component when `expandIcon` is supplied. */\n    expandIcon: {\n      transform: 'rotate(0deg)',\n      transition: theme.transitions.create('transform', transition),\n      '&:hover': {\n        // Disable the hover effect for the IconButton,\n        // because a hover effect should apply to the entire Expand button and\n        // not only to the IconButton.\n        backgroundColor: 'transparent'\n      },\n      '&$expanded': {\n        transform: 'rotate(180deg)'\n      }\n    }\n  };\n};\nvar AccordionSummary = /*#__PURE__*/React.forwardRef(function AccordionSummary(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      expandIcon = props.expandIcon,\n      IconButtonProps = props.IconButtonProps,\n      onBlur = props.onBlur,\n      onClick = props.onClick,\n      onFocusVisible = props.onFocusVisible,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"expandIcon\", \"IconButtonProps\", \"onBlur\", \"onClick\", \"onFocusVisible\"]);\n\n  var _React$useState = React.useState(false),\n      focusedState = _React$useState[0],\n      setFocusedState = _React$useState[1];\n\n  var handleFocusVisible = function handleFocusVisible(event) {\n    setFocusedState(true);\n\n    if (onFocusVisible) {\n      onFocusVisible(event);\n    }\n  };\n\n  var handleBlur = function handleBlur(event) {\n    setFocusedState(false);\n\n    if (onBlur) {\n      onBlur(event);\n    }\n  };\n\n  var _React$useContext = React.useContext(AccordionContext),\n      _React$useContext$dis = _React$useContext.disabled,\n      disabled = _React$useContext$dis === void 0 ? false : _React$useContext$dis,\n      expanded = _React$useContext.expanded,\n      toggle = _React$useContext.toggle;\n\n  var handleChange = function handleChange(event) {\n    if (toggle) {\n      toggle(event);\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    focusRipple: false,\n    disableRipple: true,\n    disabled: disabled,\n    component: \"div\",\n    \"aria-expanded\": expanded,\n    className: clsx(classes.root, className, disabled && classes.disabled, expanded && classes.expanded, focusedState && classes.focused),\n    onFocusVisible: handleFocusVisible,\n    onBlur: handleBlur,\n    onClick: handleChange,\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(classes.content, expanded && classes.expanded)\n  }, children), expandIcon && /*#__PURE__*/React.createElement(IconButton, _extends({\n    className: clsx(classes.expandIcon, expanded && classes.expanded),\n    edge: \"end\",\n    component: \"div\",\n    tabIndex: null,\n    role: null,\n    \"aria-hidden\": true\n  }, IconButtonProps), expandIcon));\n});\nprocess.env.NODE_ENV !== \"production\" ? AccordionSummary.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the accordion summary.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The icon to display as the expand indicator.\n   */\n  expandIcon: PropTypes.node,\n\n  /**\n   * Props applied to the `IconButton` element wrapping the expand icon.\n   */\n  IconButtonProps: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onFocusVisible: PropTypes.func\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAccordionSummary'\n})(AccordionSummary);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'flex',\n      padding: theme.spacing(1, 2, 2)\n    }\n  };\n};\nvar AccordionDetails = /*#__PURE__*/React.forwardRef(function AccordionDetails(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? AccordionDetails.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the accordion details.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAccordionDetails'\n})(AccordionDetails);","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z\"\n}), 'SuccessOutlined');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z\"\n}), 'ReportProblemOutlined');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'ErrorOutline');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z\"\n}), 'InfoOutlined');","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { withStyles, lighten, darken } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport SuccessOutlinedIcon from '../internal/svg-icons/SuccessOutlined';\nimport ReportProblemOutlinedIcon from '../internal/svg-icons/ReportProblemOutlined';\nimport ErrorOutlineIcon from '../internal/svg-icons/ErrorOutline';\nimport InfoOutlinedIcon from '../internal/svg-icons/InfoOutlined';\nimport CloseIcon from '../internal/svg-icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport { capitalize } from '@material-ui/core/utils';\nexport var styles = function styles(theme) {\n  var getColor = theme.palette.type === 'light' ? darken : lighten;\n  var getBackgroundColor = theme.palette.type === 'light' ? lighten : darken;\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body2, {\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: 'transparent',\n      display: 'flex',\n      padding: '6px 16px'\n    }),\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"success\"`. */\n    standardSuccess: {\n      color: getColor(theme.palette.success.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.success.main, 0.9),\n      '& $icon': {\n        color: theme.palette.success.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"info\"`. */\n    standardInfo: {\n      color: getColor(theme.palette.info.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.info.main, 0.9),\n      '& $icon': {\n        color: theme.palette.info.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"warning\"`. */\n    standardWarning: {\n      color: getColor(theme.palette.warning.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.warning.main, 0.9),\n      '& $icon': {\n        color: theme.palette.warning.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"error\"`. */\n    standardError: {\n      color: getColor(theme.palette.error.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.error.main, 0.9),\n      '& $icon': {\n        color: theme.palette.error.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"success\"`. */\n    outlinedSuccess: {\n      color: getColor(theme.palette.success.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.success.main),\n      '& $icon': {\n        color: theme.palette.success.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"info\"`. */\n    outlinedInfo: {\n      color: getColor(theme.palette.info.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.info.main),\n      '& $icon': {\n        color: theme.palette.info.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"warning\"`. */\n    outlinedWarning: {\n      color: getColor(theme.palette.warning.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.warning.main),\n      '& $icon': {\n        color: theme.palette.warning.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"error\"`. */\n    outlinedError: {\n      color: getColor(theme.palette.error.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.error.main),\n      '& $icon': {\n        color: theme.palette.error.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"success\"`. */\n    filledSuccess: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.success.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"info\"`. */\n    filledInfo: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.info.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"warning\"`. */\n    filledWarning: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.warning.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"error\"`. */\n    filledError: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.error.main\n    },\n\n    /* Styles applied to the icon wrapper element. */\n    icon: {\n      marginRight: 12,\n      padding: '7px 0',\n      display: 'flex',\n      fontSize: 22,\n      opacity: 0.9\n    },\n\n    /* Styles applied to the message wrapper element. */\n    message: {\n      padding: '8px 0'\n    },\n\n    /* Styles applied to the action wrapper element if `action` is provided. */\n    action: {\n      display: 'flex',\n      alignItems: 'center',\n      marginLeft: 'auto',\n      paddingLeft: 16,\n      marginRight: -8\n    }\n  };\n};\nvar defaultIconMapping = {\n  success: /*#__PURE__*/React.createElement(SuccessOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  warning: /*#__PURE__*/React.createElement(ReportProblemOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  error: /*#__PURE__*/React.createElement(ErrorOutlineIcon, {\n    fontSize: \"inherit\"\n  }),\n  info: /*#__PURE__*/React.createElement(InfoOutlinedIcon, {\n    fontSize: \"inherit\"\n  })\n};\n\nvar _ref = /*#__PURE__*/React.createElement(CloseIcon, {\n  fontSize: \"small\"\n});\n\nvar Alert = /*#__PURE__*/React.forwardRef(function Alert(props, ref) {\n  var action = props.action,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$closeText = props.closeText,\n      closeText = _props$closeText === void 0 ? 'Close' : _props$closeText,\n      color = props.color,\n      icon = props.icon,\n      _props$iconMapping = props.iconMapping,\n      iconMapping = _props$iconMapping === void 0 ? defaultIconMapping : _props$iconMapping,\n      onClose = props.onClose,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'alert' : _props$role,\n      _props$severity = props.severity,\n      severity = _props$severity === void 0 ? 'success' : _props$severity,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'standard' : _props$variant,\n      other = _objectWithoutProperties(props, [\"action\", \"children\", \"classes\", \"className\", \"closeText\", \"color\", \"icon\", \"iconMapping\", \"onClose\", \"role\", \"severity\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    role: role,\n    square: true,\n    elevation: 0,\n    className: clsx(classes.root, classes[\"\".concat(variant).concat(capitalize(color || severity))], className),\n    ref: ref\n  }, other), icon !== false ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.icon\n  }, icon || iconMapping[severity] || defaultIconMapping[severity]) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.message\n  }, children), action != null ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, action) : null, action == null && onClose ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    size: \"small\",\n    \"aria-label\": closeText,\n    title: closeText,\n    color: \"inherit\",\n    onClick: onClose\n  }, _ref)) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? Alert.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display. It renders after the message, at the end of the alert.\n   */\n  action: PropTypes.node,\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Override the default label for the *close popup* icon button.\n   *\n   * For localization purposes, you can use the provided [translations](/guides/localization/).\n   */\n  closeText: PropTypes.string,\n\n  /**\n   * The main color for the alert. Unless provided, the value is taken from the `severity` prop.\n   */\n  color: PropTypes.oneOf(['error', 'info', 'success', 'warning']),\n\n  /**\n   * Override the icon displayed before the children.\n   * Unless provided, the icon is mapped to the value of the `severity` prop.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The component maps the `severity` prop to a range of different icons,\n   * for instance success to `<SuccessOutlined>`.\n   * If you wish to change this mapping, you can provide your own.\n   * Alternatively, you can use the `icon` prop to override the icon displayed.\n   */\n  iconMapping: PropTypes.shape({\n    error: PropTypes.node,\n    info: PropTypes.node,\n    success: PropTypes.node,\n    warning: PropTypes.node\n  }),\n\n  /**\n   * Callback fired when the component requests to be closed.\n   * When provided and no `action` prop is set, a close icon button is displayed that triggers the callback when clicked.\n   *\n   * @param {object} event The event source of the callback.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * The ARIA role attribute of the element.\n   */\n  role: PropTypes.string,\n\n  /**\n   * The severity of the alert. This defines the color and icon used.\n   */\n  severity: PropTypes.oneOf(['error', 'info', 'success', 'warning']),\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['filled', 'outlined', 'standard'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAlert'\n})(Alert);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport Alert from '@material-ui/lab/Alert';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { PluginHook } from './PluginHook';\n/** */\n\nexport var ErrorContent = /*#__PURE__*/function (_Component) {\n  _inherits(ErrorContent, _Component);\n\n  var _super = _createSuper(ErrorContent);\n\n  function ErrorContent() {\n    _classCallCheck(this, ErrorContent);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ErrorContent, [{\n    key: \"render\",\n    value:\n    /** */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          error = _this$props.error,\n          metadata = _this$props.metadata,\n          showJsError = _this$props.showJsError,\n          t = _this$props.t;\n      if (!showJsError) return null;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n        elevation: 6,\n        variant: \"filled\",\n        severity: \"error\"\n      }, t('errorDialogTitle')), showJsError && /*#__PURE__*/React.createElement(Accordion, {\n        square: true,\n        className: classes.alert\n      }, /*#__PURE__*/React.createElement(AccordionSummary, {\n        expandIcon: /*#__PURE__*/React.createElement(ExpandMoreIcon, null)\n      }, /*#__PURE__*/React.createElement(Typography, null, t('jsError', {\n        message: error.message,\n        name: error.name\n      }))), /*#__PURE__*/React.createElement(AccordionDetails, {\n        className: classes.details\n      }, /*#__PURE__*/React.createElement(\"pre\", null, t('jsStack', {\n        stack: error.stack\n      })), metadata && /*#__PURE__*/React.createElement(\"pre\", null, JSON.stringify(metadata, null, 2)))), /*#__PURE__*/React.createElement(PluginHook, this.props));\n    }\n  }]);\n\n  return ErrorContent;\n}(Component);\nErrorContent.defaultProps = {\n  metadata: null,\n  showJsError: true,\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { ErrorContent } from '../components/ErrorContent';\nimport { getCompanionWindow, getManifest, getWindow, getViewer, getConfig } from '../state/selectors';\n/** mapStateToProps */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var companionWindowId = _ref.companionWindowId,\n      windowId = _ref.windowId;\n  return {\n    metadata: {\n      companionWindow: companionWindowId && getCompanionWindow(state, {\n        companionWindowId: companionWindowId\n      }),\n      manifest: getManifest(state, {\n        windowId: windowId\n      }),\n      viewer: getViewer(state, {\n        windowId: windowId\n      }),\n      window: getWindow(state, {\n        windowId: windowId\n      })\n    },\n    showJsError: getConfig(state).window.showJsError\n  };\n};\n/**\n * @param theme\n * @returns {{typographyBody: {flexGrow: number, fontSize: number|string},\n * windowTopBarStyle: {minHeight: number, paddingLeft: number, backgroundColor: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    alert: {\n      '& $icon': {\n        color: theme.palette.error.main\n      },\n      backgroundColor: theme.palette.error.main,\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium\n    },\n    details: {\n      '& pre': {\n        height: '100px',\n        overflowY: 'scroll'\n      },\n      flexDirection: 'column'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps), withPlugins('ErrorContent'));\nexport default enhance(ErrorContent);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport CompanionWindowRegistry from '../lib/CompanionWindowRegistry';\nimport CompanionWindow from '../containers/CompanionWindow';\nimport ErrorContent from '../containers/ErrorContent';\n/**\n * Render a companion window using the appropriate component for the content\n */\n\nexport var CompanionWindowFactory = /*#__PURE__*/function (_Component) {\n  _inherits(CompanionWindowFactory, _Component);\n\n  var _super = _createSuper(CompanionWindowFactory);\n\n  /** */\n  function CompanionWindowFactory(props) {\n    var _this;\n\n    _classCallCheck(this, CompanionWindowFactory);\n\n    _this = _super.call(this, props);\n    _this.state = {};\n    return _this;\n  }\n  /** */\n\n\n  _createClass(CompanionWindowFactory, [{\n    key: \"componentDidUpdate\",\n    value:\n    /**\n     * Clear the error state if the internal content changes; this is a rare\n     * case, only when we reuse an existing companionWindow instance for\n     * the left-anchored companion area (anti-pattern?)\n     */\n    function componentDidUpdate(prevProps) {\n      var content = this.props.content; // Typical usage (don't forget to compare props):\n\n      if (content !== prevProps.content) {\n        this.setState({\n          // eslint-disable-line react/no-did-update-set-state\n          error: null,\n          hasError: false\n        });\n      }\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          content = _this$props.content,\n          windowId = _this$props.windowId,\n          id = _this$props.id,\n          t = _this$props.t;\n      var _this$state = this.state,\n          error = _this$state.error,\n          hasError = _this$state.hasError;\n\n      if (hasError) {\n        return /*#__PURE__*/React.createElement(CompanionWindow, {\n          title: t('error'),\n          windowId: windowId,\n          id: id\n        }, /*#__PURE__*/React.createElement(ErrorContent, {\n          error: error,\n          windowId: windowId,\n          companionWindowId: id\n        }));\n      }\n\n      var type = CompanionWindowRegistry[content];\n      if (!type) return /*#__PURE__*/React.createElement(React.Fragment, null);\n      return /*#__PURE__*/React.createElement(type, {\n        id: id,\n        windowId: windowId\n      });\n    }\n  }], [{\n    key: \"getDerivedStateFromError\",\n    value: function getDerivedStateFromError(error) {\n      // Update state so the next render will show the fallback UI.\n      return {\n        error: error,\n        hasError: true\n      };\n    }\n  }]);\n\n  return CompanionWindowFactory;\n}(Component);\nCompanionWindowFactory.defaultProps = {\n  content: null,\n  t: function t(key) {\n    return key;\n  }\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getCompanionWindow } from '../state/selectors';\nimport { CompanionWindowFactory } from '../components/CompanionWindowFactory';\n/**\n * mapStateToProps - to hook up connect\n * @memberof CompanionWindow\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var id = _ref.id;\n  var companionWindow = getCompanionWindow(state, {\n    companionWindowId: id\n  });\n  return {\n    content: companionWindow.content,\n    id: id\n  };\n};\n\nvar enhance = compose(withTranslation(), connect(mapStateToProps), withPlugins('CompanionWindowFactory'));\nexport default enhance(CompanionWindowFactory);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Slide from '@material-ui/core/Slide';\nimport ArrowLeftIcon from '@material-ui/icons/ArrowLeftSharp';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRightSharp';\nimport CompanionWindowFactory from '../containers/CompanionWindowFactory';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport ns from '../config/css-ns';\n/** */\n\nexport var CompanionArea = /*#__PURE__*/function (_Component) {\n  _inherits(CompanionArea, _Component);\n\n  var _super = _createSuper(CompanionArea);\n\n  function CompanionArea() {\n    _classCallCheck(this, CompanionArea);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CompanionArea, [{\n    key: \"areaLayoutClass\",\n    value:\n    /** */\n    function areaLayoutClass() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          position = _this$props.position;\n      return position === 'bottom' || position === 'far-bottom' ? classes.horizontal : null;\n    }\n    /** */\n\n  }, {\n    key: \"collapseIcon\",\n    value: function collapseIcon() {\n      var _this$props2 = this.props,\n          companionAreaOpen = _this$props2.companionAreaOpen,\n          direction = _this$props2.direction;\n\n      if (direction === 'rtl') {\n        if (companionAreaOpen) return /*#__PURE__*/React.createElement(ArrowRightIcon, null);\n        return /*#__PURE__*/React.createElement(ArrowLeftIcon, null);\n      }\n\n      if (companionAreaOpen) return /*#__PURE__*/React.createElement(ArrowLeftIcon, null);\n      return /*#__PURE__*/React.createElement(ArrowRightIcon, null);\n    }\n    /** @private */\n\n  }, {\n    key: \"slideDirection\",\n    value: function slideDirection() {\n      var _this$props3 = this.props,\n          direction = _this$props3.direction,\n          position = _this$props3.position;\n      var defaultPosition = direction === 'rtl' ? 'left' : 'right';\n      var oppositePosition = direction === 'rtl' ? 'right' : 'left';\n\n      switch (position) {\n        case 'right':\n        case 'far-right':\n          return oppositePosition;\n\n        case 'bottom':\n        case 'far-bottom':\n          return 'up';\n\n        default:\n          return defaultPosition;\n      }\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          classes = _this$props4.classes,\n          companionWindowIds = _this$props4.companionWindowIds,\n          companionAreaOpen = _this$props4.companionAreaOpen,\n          setCompanionAreaOpen = _this$props4.setCompanionAreaOpen,\n          position = _this$props4.position,\n          sideBarOpen = _this$props4.sideBarOpen,\n          t = _this$props4.t,\n          windowId = _this$props4.windowId;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: [classes.root, this.areaLayoutClass(), ns(\"companion-area-\".concat(position))].join(' ')\n      }, /*#__PURE__*/React.createElement(Slide, {\n        \"in\": companionAreaOpen,\n        direction: this.slideDirection()\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: [ns('companion-windows'), companionWindowIds.length > 0 && classes[position], this.areaLayoutClass()].join(' '),\n        style: {\n          display: companionAreaOpen ? 'flex' : 'none'\n        }\n      }, companionWindowIds.map(function (id) {\n        return /*#__PURE__*/React.createElement(CompanionWindowFactory, {\n          id: id,\n          key: id,\n          windowId: windowId\n        });\n      }))), setCompanionAreaOpen && position === 'left' && sideBarOpen && companionWindowIds.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.toggle\n      }, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-expanded\": companionAreaOpen,\n        \"aria-label\": companionAreaOpen ? t('collapseSidePanel') : t('expandSidePanel'),\n        className: classes.toggleButton,\n        key: companionAreaOpen ? 'collapse' : 'expand',\n        onClick: function onClick() {\n          setCompanionAreaOpen(windowId, !companionAreaOpen);\n        },\n        TooltipProps: {\n          placement: 'right'\n        }\n      }, this.collapseIcon())));\n    }\n  }]);\n\n  return CompanionArea;\n}(Component);\nCompanionArea.defaultProps = {\n  classes: {},\n  setCompanionAreaOpen: function setCompanionAreaOpen() {},\n  sideBarOpen: false\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getCompanionWindowIdsForPosition, getCompanionAreaVisibility, getThemeDirection, getWindow } from '../state/selectors';\nimport * as actions from '../state/actions';\nimport { CompanionArea } from '../components/CompanionArea';\n/** */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId,\n      position = _ref.position;\n  return {\n    companionAreaOpen: getCompanionAreaVisibility(state, {\n      position: position,\n      windowId: windowId\n    }),\n    companionWindowIds: getCompanionWindowIdsForPosition(state, {\n      position: position,\n      windowId: windowId\n    }),\n    direction: getThemeDirection(state),\n    sideBarOpen: (getWindow(state, {\n      windowId: windowId\n    }) || {}).sideBarOpen\n  };\n};\n\nvar mapDispatchToProps = {\n  setCompanionAreaOpen: actions.setCompanionAreaOpen\n};\n/** */\n\nvar styles = function styles(theme) {\n  return {\n    horizontal: {\n      flexDirection: 'column',\n      width: '100%'\n    },\n    left: {\n      minWidth: 235\n    },\n    root: {\n      display: 'flex',\n      minHeight: 0,\n      position: 'relative',\n      zIndex: theme.zIndex.appBar - 2\n    },\n    toggle: {\n      backgroundColor: theme.palette.background.paper,\n      border: \"1px solid \".concat(theme.palette.shades.dark),\n      borderRadius: 0,\n      height: '48px',\n      left: '100%',\n      marginTop: '1rem',\n      padding: 2,\n      position: 'absolute',\n      width: '23px',\n      zIndex: theme.zIndex.drawer\n    },\n    toggleButton: {\n      marginBottom: 12,\n      marginTop: 12,\n      padding: 0\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('CompanionArea'));\nexport default enhance(CompanionArea);","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport { Button, Chip, Dialog, DialogActions, DialogTitle, Link, MenuList, MenuItem, Typography } from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBackSharp';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { LabelValueMetadata } from './LabelValueMetadata';\nimport CollapsibleSection from '../containers/CollapsibleSection';\nimport ScrollIndicatedDialogContent from '../containers/ScrollIndicatedDialogContent';\nimport ManifestInfo from '../containers/ManifestInfo';\n/**\n */\n\nfunction asArray(value) {\n  if (!Array.isArray(value)) {\n    return [value];\n  }\n\n  return value;\n}\n/**\n * a dialog providing the possibility to select the collection\n */\n\n\nexport var CollectionDialog = /*#__PURE__*/function (_Component) {\n  _inherits(CollectionDialog, _Component);\n\n  var _super = _createSuper(CollectionDialog);\n\n  /** */\n  function CollectionDialog(props) {\n    var _this;\n\n    _classCallCheck(this, CollectionDialog);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      filter: null\n    };\n    _this.hideDialog = _this.hideDialog.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(CollectionDialog, [{\n    key: \"setFilter\",\n    value: function setFilter(filter) {\n      this.setState({\n        filter: filter\n      });\n    }\n    /** */\n\n  }, {\n    key: \"hideDialog\",\n    value: function hideDialog() {\n      var _this$props = this.props,\n          hideCollectionDialog = _this$props.hideCollectionDialog,\n          windowId = _this$props.windowId;\n      hideCollectionDialog(windowId);\n    }\n    /** */\n\n  }, {\n    key: \"selectCollection\",\n    value: function selectCollection(c) {\n      var _this$props2 = this.props,\n          collectionPath = _this$props2.collectionPath,\n          manifestId = _this$props2.manifestId,\n          showCollectionDialog = _this$props2.showCollectionDialog,\n          windowId = _this$props2.windowId;\n      showCollectionDialog(c.id, [].concat(_toConsumableArray(collectionPath), [manifestId]), windowId);\n    }\n    /** */\n\n  }, {\n    key: \"goToPreviousCollection\",\n    value: function goToPreviousCollection() {\n      var _this$props3 = this.props,\n          collectionPath = _this$props3.collectionPath,\n          showCollectionDialog = _this$props3.showCollectionDialog,\n          windowId = _this$props3.windowId;\n      showCollectionDialog(collectionPath[collectionPath.length - 1], collectionPath.slice(0, -1), windowId);\n    }\n    /** */\n\n  }, {\n    key: \"selectManifest\",\n    value: function selectManifest(m) {\n      var _this$props4 = this.props,\n          addWindow = _this$props4.addWindow,\n          collectionPath = _this$props4.collectionPath,\n          manifestId = _this$props4.manifestId,\n          setWorkspaceAddVisibility = _this$props4.setWorkspaceAddVisibility,\n          updateWindow = _this$props4.updateWindow,\n          windowId = _this$props4.windowId;\n\n      if (windowId) {\n        updateWindow(windowId, {\n          canvasId: null,\n          collectionPath: [].concat(_toConsumableArray(collectionPath), [manifestId]),\n          manifestId: m.id\n        });\n      } else {\n        addWindow({\n          collectionPath: [].concat(_toConsumableArray(collectionPath), [manifestId]),\n          manifestId: m.id\n        });\n      }\n\n      this.hideDialog();\n      setWorkspaceAddVisibility(false);\n    }\n    /** */\n\n  }, {\n    key: \"dialogContainer\",\n    value: function dialogContainer() {\n      var _this$props5 = this.props,\n          containerId = _this$props5.containerId,\n          windowId = _this$props5.windowId;\n      return document.querySelector(\"#\".concat(containerId, \" #\").concat(windowId));\n    }\n    /** */\n\n  }, {\n    key: \"placeholder\",\n    value: function placeholder() {\n      var classes = this.props.classes;\n      return /*#__PURE__*/React.createElement(Dialog, {\n        className: classes.dialog,\n        onClose: this.hideDialog,\n        open: true,\n        container: this.dialogContainer(),\n        BackdropProps: this.backdropProps()\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"select-collection\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      })), /*#__PURE__*/React.createElement(ScrollIndicatedDialogContent, null, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      }), /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      })));\n    }\n    /** */\n\n  }, {\n    key: \"backdropProps\",\n    value: function backdropProps() {\n      var classes = this.props.classes;\n      return {\n        classes: {\n          root: classes.dialog\n        }\n      };\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props6 = this.props,\n          classes = _this$props6.classes,\n          collection = _this$props6.collection,\n          error = _this$props6.error,\n          isMultipart = _this$props6.isMultipart,\n          manifest = _this$props6.manifest,\n          ready = _this$props6.ready,\n          t = _this$props6.t;\n      var filter = this.state.filter;\n      if (error) return null; // If this component is optimistically rendering ahead of the window its in\n      // force a re-render so that it is placed correctly. The right thing here is\n      // to maybe pass a ref.\n\n      if (!this.dialogContainer()) {\n        this.forceUpdate();\n        return /*#__PURE__*/React.createElement(React.Fragment, null);\n      }\n\n      if (!ready) return this.placeholder();\n      var rights = manifest && asArray(manifest.getProperty('rights') || manifest.getProperty('license'));\n      var requiredStatement = manifest && asArray(manifest.getRequiredStatement()).filter(function (l) {\n        return l.getValue();\n      }).map(function (labelValuePair) {\n        return {\n          label: null,\n          values: labelValuePair.getValues()\n        };\n      });\n      var collections = manifest.getCollections();\n      var currentFilter = filter || (collections.length > 0 ? 'collections' : 'manifests');\n      return /*#__PURE__*/React.createElement(Dialog, {\n        className: classes.dialog,\n        onClose: this.hideDialog,\n        container: this.dialogContainer(),\n        BackdropProps: this.backdropProps(),\n        open: true\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        id: \"select-collection\",\n        disableTypography: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        component: \"div\",\n        variant: \"overline\"\n      }, t(isMultipart ? 'multipartCollection' : 'collection')), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h3\"\n      }, CollectionDialog.getUseableLabel(manifest))), /*#__PURE__*/React.createElement(ScrollIndicatedDialogContent, {\n        className: classes.dialogContent\n      }, collection && /*#__PURE__*/React.createElement(Button, {\n        startIcon: /*#__PURE__*/React.createElement(ArrowBackIcon, null),\n        onClick: function onClick() {\n          return _this2.goToPreviousCollection();\n        }\n      }, CollectionDialog.getUseableLabel(collection)), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.collectionMetadata\n      }, /*#__PURE__*/React.createElement(ManifestInfo, {\n        manifestId: manifest.id\n      }), /*#__PURE__*/React.createElement(CollapsibleSection, {\n        id: \"select-collection-rights\",\n        label: t('attributionTitle')\n      }, requiredStatement && /*#__PURE__*/React.createElement(LabelValueMetadata, {\n        labelValuePairs: requiredStatement,\n        defaultLabel: t('attribution')\n      }), rights && rights.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"subtitle2\",\n        component: \"dt\"\n      }, t('rights')), rights.map(function (v) {\n        return /*#__PURE__*/React.createElement(Typography, {\n          variant: \"body1\",\n          component: \"dd\",\n          key: v\n        }, /*#__PURE__*/React.createElement(Link, {\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          href: v\n        }, v));\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.collectionFilter\n      }, manifest.getTotalCollections() > 0 && /*#__PURE__*/React.createElement(Chip, {\n        clickable: true,\n        color: currentFilter === 'collections' ? 'primary' : 'default',\n        onClick: function onClick() {\n          return _this2.setFilter('collections');\n        },\n        label: t('totalCollections', {\n          count: manifest.getTotalCollections()\n        })\n      }), manifest.getTotalManifests() > 0 && /*#__PURE__*/React.createElement(Chip, {\n        clickable: true,\n        color: currentFilter === 'manifests' ? 'primary' : 'default',\n        onClick: function onClick() {\n          return _this2.setFilter('manifests');\n        },\n        label: t('totalManifests', {\n          count: manifest.getTotalManifests()\n        })\n      })), currentFilter === 'collections' && /*#__PURE__*/React.createElement(MenuList, null, collections.map(function (c) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: c.id,\n          onClick: function onClick() {\n            _this2.selectCollection(c);\n          }\n        }, CollectionDialog.getUseableLabel(c));\n      })), currentFilter === 'manifests' && /*#__PURE__*/React.createElement(MenuList, null, manifest.getManifests().map(function (m) {\n        return /*#__PURE__*/React.createElement(MenuItem, {\n          key: m.id,\n          onClick: function onClick() {\n            _this2.selectManifest(m);\n          }\n        }, CollectionDialog.getUseableLabel(m));\n      }))), /*#__PURE__*/React.createElement(DialogActions, null, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.hideDialog\n      }, t('close'))));\n    }\n  }], [{\n    key: \"getUseableLabel\",\n    value:\n    /** */\n    function getUseableLabel(resource, index) {\n      return resource && resource.getLabel && resource.getLabel().length > 0 ? resource.getLabel().getValue() : String(index + 1);\n    }\n  }]);\n\n  return CollectionDialog;\n}(Component);\nCollectionDialog.defaultProps = {\n  collection: null,\n  collectionPath: [],\n  containerId: null,\n  error: null,\n  isMultipart: false,\n  ready: false,\n  windowId: null\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getContainerId, getManifest, getManifestoInstance, getSequenceBehaviors, getWindow } from '../state/selectors';\nimport { CollectionDialog } from '../components/CollectionDialog';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof CollectionDialog\n * @private\n */\n\nvar mapDispatchToProps = {\n  addWindow: actions.addWindow,\n  hideCollectionDialog: actions.hideCollectionDialog,\n  setWorkspaceAddVisibility: actions.setWorkspaceAddVisibility,\n  showCollectionDialog: actions.showCollectionDialog,\n  updateWindow: actions.updateWindow\n};\n/**\n * mapStateToProps - to hook up connect\n * @memberof CollectionDialog\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n\n  var _getWindow = getWindow(state, {\n    windowId: windowId\n  }),\n      collectionPath = _getWindow.collectionPath,\n      manifestId = _getWindow.collectionManifestId;\n\n  var manifest = getManifest(state, {\n    manifestId: manifestId\n  });\n  var collectionId = collectionPath && collectionPath[collectionPath.length - 1];\n  var collection = collectionId && getManifest(state, {\n    manifestId: collectionId\n  });\n  return {\n    collection: collection && getManifestoInstance(state, {\n      manifestId: collection.id\n    }),\n    collectionPath: collectionPath,\n    containerId: getContainerId(state),\n    error: manifest && manifest.error,\n    isMultipart: getSequenceBehaviors(state, {\n      manifestId: manifestId\n    }).includes('multi-part'),\n    manifest: manifest && getManifestoInstance(state, {\n      manifestId: manifestId\n    }),\n    manifestId: manifestId,\n    open: state.workspace.collectionDialogOn,\n    ready: manifest && !!manifest.json,\n    windowId: windowId\n  };\n};\n/** */\n\n\nvar styles = function styles(theme) {\n  return {\n    collectionFilter: {\n      padding: '16px',\n      paddingTop: 0\n    },\n    collectionMetadata: {\n      padding: '16px'\n    },\n    dark: {\n      color: '#000000'\n    },\n    dialog: {\n      position: 'absolute !important'\n    },\n    dialogContent: {\n      padding: 0\n    },\n    light: {\n      color: theme.palette.grey[400]\n    },\n    listitem: {\n      '&:focus': {\n        backgroundColor: theme.palette.action.focus\n      },\n      '&:hover': {\n        backgroundColor: theme.palette.action.hover\n      },\n      cursor: 'pointer'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('CollectionDialog'));\nexport default enhance(CollectionDialog);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component, lazy, Suspense } from 'react';\nimport classNames from 'classnames';\nimport WindowSideBar from '../containers/WindowSideBar';\nimport CompanionArea from '../containers/CompanionArea';\nimport CollectionDialog from '../containers/CollectionDialog';\nimport ns from '../config/css-ns';\nvar AudioViewer = /*#__PURE__*/lazy(function () {\n  return import('../containers/AudioViewer');\n});\nvar GalleryView = /*#__PURE__*/lazy(function () {\n  return import('../containers/GalleryView');\n});\nvar SelectCollection = /*#__PURE__*/lazy(function () {\n  return import('../containers/SelectCollection');\n});\nvar WindowViewer = /*#__PURE__*/lazy(function () {\n  return import('../containers/WindowViewer');\n});\nvar VideoViewer = /*#__PURE__*/lazy(function () {\n  return import('../containers/VideoViewer');\n});\nGalleryView.displayName = 'GalleryView';\nSelectCollection.displayName = 'SelectCollection';\nWindowViewer.displayName = 'WindowViewer';\n/**\n * PrimaryWindow - component that renders the primary content of a Mirador\n * window. Right now this differentiates between a Image, Video, or Audio viewer.\n */\n\nexport var PrimaryWindow = /*#__PURE__*/function (_Component) {\n  _inherits(PrimaryWindow, _Component);\n\n  var _super = _createSuper(PrimaryWindow);\n\n  function PrimaryWindow() {\n    _classCallCheck(this, PrimaryWindow);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(PrimaryWindow, [{\n    key: \"renderViewer\",\n    value:\n    /**\n     * renderViewer - logic used to determine what type of view to show\n     *\n     * @return {(String|null)}\n     */\n    function renderViewer() {\n      var _this$props = this.props,\n          audioResources = _this$props.audioResources,\n          isCollection = _this$props.isCollection,\n          isFetching = _this$props.isFetching,\n          videoResources = _this$props.videoResources,\n          view = _this$props.view,\n          windowId = _this$props.windowId;\n\n      if (isCollection) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SelectCollection, {\n          windowId: windowId\n        }));\n      }\n\n      if (isFetching === false) {\n        if (view === 'gallery') {\n          return /*#__PURE__*/React.createElement(GalleryView, {\n            windowId: windowId\n          });\n        }\n\n        if (videoResources.length > 0) {\n          return /*#__PURE__*/React.createElement(VideoViewer, {\n            windowId: windowId\n          });\n        }\n\n        if (audioResources.length > 0) {\n          return /*#__PURE__*/React.createElement(AudioViewer, {\n            windowId: windowId\n          });\n        }\n\n        return /*#__PURE__*/React.createElement(WindowViewer, {\n          windowId: windowId\n        });\n      }\n\n      return null;\n    }\n    /**\n     * Render the component\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          isCollectionDialogVisible = _this$props2.isCollectionDialogVisible,\n          windowId = _this$props2.windowId,\n          classes = _this$props2.classes,\n          children = _this$props2.children;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames(ns('primary-window'), classes.primaryWindow)\n      }, /*#__PURE__*/React.createElement(WindowSideBar, {\n        windowId: windowId\n      }), /*#__PURE__*/React.createElement(CompanionArea, {\n        windowId: windowId,\n        position: \"left\"\n      }), isCollectionDialogVisible && /*#__PURE__*/React.createElement(CollectionDialog, {\n        windowId: windowId\n      }), /*#__PURE__*/React.createElement(Suspense, {\n        fallback: /*#__PURE__*/React.createElement(\"div\", null)\n      }, children || this.renderViewer()));\n    }\n  }]);\n\n  return PrimaryWindow;\n}(Component);\nPrimaryWindow.defaultProps = {\n  audioResources: [],\n  children: undefined,\n  isCollection: false,\n  isCollectionDialogVisible: false,\n  isFetching: false,\n  videoResources: [],\n  view: undefined\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getManifestoInstance, getVisibleCanvasAudioResources, getVisibleCanvasVideoResources, getWindow } from '../state/selectors';\nimport { PrimaryWindow } from '../components/PrimaryWindow';\n/** */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  var manifestoInstance = getManifestoInstance(state, {\n    windowId: windowId\n  });\n  return {\n    audioResources: getVisibleCanvasAudioResources(state, {\n      windowId: windowId\n    }) || [],\n    isCollection: manifestoInstance && manifestoInstance.isCollection(),\n    isCollectionDialogVisible: getWindow(state, {\n      windowId: windowId\n    }).collectionDialogOn,\n    videoResources: getVisibleCanvasVideoResources(state, {\n      windowId: windowId\n    }) || []\n  };\n};\n\nvar styles = {\n  primaryWindow: {\n    display: 'flex',\n    flex: 1,\n    position: 'relative'\n  }\n};\nvar enhance = compose(withStyles(styles), connect(mapStateToProps, null), withPlugins('PrimaryWindow'));\nexport default enhance(PrimaryWindow);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport MenuIcon from '@material-ui/icons/MenuSharp';\nimport cn from 'classnames';\nimport Paper from '@material-ui/core/Paper';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/CloseSharp';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport ns from '../config/css-ns';\n/** */\n\nexport var MinimalWindow = /*#__PURE__*/function (_Component) {\n  _inherits(MinimalWindow, _Component);\n\n  var _super = _createSuper(MinimalWindow);\n\n  function MinimalWindow() {\n    _classCallCheck(this, MinimalWindow);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(MinimalWindow, [{\n    key: \"render\",\n    value:\n    /** */\n    function render() {\n      var _this$props = this.props,\n          allowClose = _this$props.allowClose,\n          allowWindowSideBar = _this$props.allowWindowSideBar,\n          ariaLabel = _this$props.ariaLabel,\n          children = _this$props.children,\n          classes = _this$props.classes,\n          label = _this$props.label,\n          removeWindow = _this$props.removeWindow,\n          t = _this$props.t,\n          windowId = _this$props.windowId;\n      return /*#__PURE__*/React.createElement(Paper, {\n        component: \"section\",\n        elevation: 1,\n        id: windowId,\n        className: cn(classes.window, ns('placeholder-window')),\n        \"aria-label\": label && ariaLabel ? t('window', {\n          label: label\n        }) : null\n      }, /*#__PURE__*/React.createElement(AppBar, {\n        position: \"relative\",\n        color: \"default\"\n      }, /*#__PURE__*/React.createElement(Toolbar, {\n        disableGutters: true,\n        className: cn(classes.windowTopBarStyle, ns('window-top-bar')),\n        variant: \"dense\"\n      }, allowWindowSideBar && /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('toggleWindowSideBar'),\n        disabled: true\n      }, /*#__PURE__*/React.createElement(MenuIcon, null)), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\",\n        noWrap: true,\n        color: \"inherit\",\n        className: classes.title\n      }, label), allowClose && removeWindow && /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('closeWindow'),\n        className: cn(classes.button, ns('window-close')),\n        onClick: removeWindow,\n        TooltipProps: {\n          tabIndex: ariaLabel ? '0' : '-1'\n        }\n      }, /*#__PURE__*/React.createElement(CloseIcon, null)))), children);\n    }\n  }]);\n\n  return MinimalWindow;\n}(Component);\nMinimalWindow.defaultProps = {\n  allowClose: true,\n  allowWindowSideBar: true,\n  ariaLabel: true,\n  children: null,\n  classes: {},\n  label: '',\n  removeWindow: function removeWindow() {},\n  t: function t(key) {\n    return key;\n  }\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { MinimalWindow } from '../components/MinimalWindow';\nimport { getWindowConfig } from '../state/selectors';\n/** mapStateToProps */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    allowClose: getWindowConfig(state, {\n      windowId: windowId\n    }).allowClose,\n    allowWindowSideBar: getWindowConfig(state, {\n      windowId: windowId\n    }).allowWindowSideBar\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref2) {\n  var windowId = _ref2.windowId;\n  return {\n    removeWindow: function removeWindow() {\n      return dispatch(actions.removeWindow(windowId));\n    }\n  };\n};\n/**\n * @param theme\n * @returns {{typographyBody: {flexGrow: number, fontSize: number|string},\n * windowTopBarStyle: {minHeight: number, paddingLeft: number, backgroundColor: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    button: {\n      marginLeft: 'auto'\n    },\n    title: _objectSpread(_objectSpread({}, theme.typography.h6), {}, {\n      flexGrow: 1,\n      paddingLeft: theme.spacing(0.5)\n    }),\n    window: {\n      backgroundColor: theme.palette.shades.dark,\n      borderRadius: 0,\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%',\n      minHeight: 0,\n      overflow: 'hidden',\n      width: '100%'\n    },\n    windowTopBarStyle: {\n      backgroundColor: theme.palette.shades.main,\n      borderTop: '2px solid transparent',\n      minHeight: 32,\n      paddingLeft: theme.spacing(0.5),\n      paddingRight: theme.spacing(0.5)\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('MinimalWindow'));\nexport default enhance(MinimalWindow);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport IComCom from 'icomcom-react';\n/**\n * Opens a new window for click\n */\n\nexport var AccessTokenSender = /*#__PURE__*/function (_Component) {\n  _inherits(AccessTokenSender, _Component);\n\n  var _super = _createSuper(AccessTokenSender);\n\n  /** */\n  function AccessTokenSender(props) {\n    var _this;\n\n    _classCallCheck(this, AccessTokenSender);\n\n    _this = _super.call(this, props);\n    _this.onReceiveAccessTokenMessage = _this.onReceiveAccessTokenMessage.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** @private */\n\n\n  _createClass(AccessTokenSender, [{\n    key: \"onReceiveAccessTokenMessage\",\n    value: function onReceiveAccessTokenMessage(e) {\n      var _this$props = this.props,\n          handleAccessTokenMessage = _this$props.handleAccessTokenMessage,\n          url = _this$props.url;\n      if (e.data && e.data.messageId && e.data.messageId === url) handleAccessTokenMessage(e.data);\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var url = this.props.url;\n      if (!url) return /*#__PURE__*/React.createElement(React.Fragment, null);\n      /**\n      login, clickthrough/kiosk open @id, wait for close\n      external, no-op\n      */\n\n      return /*#__PURE__*/React.createElement(IComCom, {\n        attributes: {\n          'aria-hidden': true,\n          height: 1,\n          src: \"\".concat(url, \"?origin=\").concat(window.origin, \"&messageId=\").concat(url),\n          style: {\n            visibility: 'hidden'\n          },\n          width: 1\n        },\n        handleReceiveMessage: this.onReceiveAccessTokenMessage\n      });\n    }\n  }]);\n\n  return AccessTokenSender;\n}(Component);\nAccessTokenSender.defaultProps = {\n  url: undefined\n};","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from 'react';\n\n/**\n * Opens a new window for click\n */\nexport var NewWindow = /*#__PURE__*/function (_Component) {\n  _inherits(NewWindow, _Component);\n\n  var _super = _createSuper(NewWindow);\n\n  /** */\n  function NewWindow(props) {\n    var _this;\n\n    _classCallCheck(this, NewWindow);\n\n    _this = _super.call(this, props);\n    _this.released = undefined;\n    _this.window = null;\n    _this.checkIfWindowClosed = null;\n    return _this;\n  }\n  /** */\n\n\n  _createClass(NewWindow, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.openWindow();\n    }\n    /**\n     * Close the opened window we unmount\n     */\n\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.window) {\n        this.window.close();\n      }\n    }\n    /** @private */\n\n  }, {\n    key: \"onClose\",\n    value: function onClose() {\n      var _this$props = this.props,\n          onClose = _this$props.onClose,\n          url = _this$props.url;\n      if (this.released) return;\n      this.released = true;\n      clearInterval(this.checkIfWindowClosed);\n      onClose(url);\n    }\n    /** */\n\n  }, {\n    key: \"openWindow\",\n    value: function openWindow() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          depWindow = _this$props2.depWindow,\n          features = _this$props2.features,\n          name = _this$props2.name,\n          url = _this$props2.url;\n      this.window = (depWindow || window).open(url, name, features);\n      this.released = false;\n      this.checkIfWindowClosed = setInterval(function () {\n        if (!_this2.window || _this2.window.closed) {\n          _this2.onClose();\n        }\n      }, 250);\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return NewWindow;\n}(Component);\nNewWindow.defaultProps = {\n  depWindow: undefined,\n  features: undefined,\n  name: undefined\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Collapse from '@material-ui/core/Collapse';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Typography from '@material-ui/core/Typography';\nimport LockIcon from '@material-ui/icons/LockSharp';\nimport SanitizedHtml from '../containers/SanitizedHtml';\nimport { PluginHook } from './PluginHook';\n/** */\n\nexport var WindowAuthenticationBar = /*#__PURE__*/function (_Component) {\n  _inherits(WindowAuthenticationBar, _Component);\n\n  var _super = _createSuper(WindowAuthenticationBar);\n\n  /** */\n  function WindowAuthenticationBar(props) {\n    var _this;\n\n    _classCallCheck(this, WindowAuthenticationBar);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      open: false\n    };\n    _this.setOpen = _this.setOpen.bind(_assertThisInitialized(_this));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(WindowAuthenticationBar, [{\n    key: \"onSubmit\",\n    value: function onSubmit() {\n      var onConfirm = this.props.onConfirm;\n      this.setOpen(false);\n      onConfirm();\n    }\n    /** Toggle the full description */\n\n  }, {\n    key: \"setOpen\",\n    value: function setOpen(open) {\n      this.setState(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          open: open\n        });\n      });\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          confirmButton = _this$props.confirmButton,\n          continueLabel = _this$props.continueLabel,\n          header = _this$props.header,\n          description = _this$props.description,\n          icon = _this$props.icon,\n          label = _this$props.label,\n          t = _this$props.t,\n          ruleSet = _this$props.ruleSet,\n          hasLogoutService = _this$props.hasLogoutService,\n          status = _this$props.status,\n          ConfirmProps = _this$props.ConfirmProps;\n      if (status === 'ok' && !hasLogoutService) return null;\n      var open = this.state.open;\n      var button = /*#__PURE__*/React.createElement(Button, Object.assign({\n        onClick: this.onSubmit,\n        className: classes.buttonInvert,\n        color: \"secondary\"\n      }, ConfirmProps), confirmButton || t('login'));\n\n      if (!description && !header) {\n        return /*#__PURE__*/React.createElement(Paper, {\n          square: true,\n          elevation: 4,\n          color: \"secondary\",\n          classes: {\n            root: classes.paper\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: classes.topBar\n        }, icon || /*#__PURE__*/React.createElement(LockIcon, {\n          className: classes.icon\n        }), /*#__PURE__*/React.createElement(Typography, {\n          className: classes.label,\n          component: \"h3\",\n          variant: \"body1\",\n          color: \"inherit\"\n        }, ruleSet ? /*#__PURE__*/React.createElement(SanitizedHtml, {\n          htmlString: label,\n          ruleSet: ruleSet\n        }) : label), /*#__PURE__*/React.createElement(PluginHook, this.props), button));\n      }\n\n      return /*#__PURE__*/React.createElement(Paper, {\n        square: true,\n        elevation: 4,\n        color: \"secondary\",\n        classes: {\n          root: classes.paper\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        fullWidth: true,\n        className: classes.topBar,\n        onClick: function onClick() {\n          return _this2.setOpen(true);\n        },\n        component: \"div\",\n        color: \"inherit\"\n      }, icon || /*#__PURE__*/React.createElement(LockIcon, {\n        className: classes.icon\n      }), /*#__PURE__*/React.createElement(Typography, {\n        className: classes.label,\n        component: \"h3\",\n        variant: \"body1\",\n        color: \"inherit\"\n      }, ruleSet ? /*#__PURE__*/React.createElement(SanitizedHtml, {\n        htmlString: label,\n        ruleSet: ruleSet\n      }) : label), /*#__PURE__*/React.createElement(PluginHook, this.props), /*#__PURE__*/React.createElement(\"span\", {\n        className: classes.fauxButton\n      }, !open && /*#__PURE__*/React.createElement(Typography, {\n        variant: \"button\",\n        color: \"inherit\"\n      }, continueLabel || t('continue')))), /*#__PURE__*/React.createElement(Collapse, {\n        \"in\": open,\n        onClose: function onClose() {\n          return _this2.setOpen(false);\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\",\n        color: \"inherit\",\n        className: classes.expanded\n      }, ruleSet ? /*#__PURE__*/React.createElement(SanitizedHtml, {\n        htmlString: header,\n        ruleSet: ruleSet\n      }) : header, header && description ? ': ' : '', ruleSet ? /*#__PURE__*/React.createElement(SanitizedHtml, {\n        htmlString: description,\n        ruleSet: ruleSet\n      }) : description), /*#__PURE__*/React.createElement(DialogActions, null, /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          return _this2.setOpen(false);\n        },\n        color: \"inherit\"\n      }, t('cancel')), button)));\n    }\n  }]);\n\n  return WindowAuthenticationBar;\n}(Component);\nWindowAuthenticationBar.defaultProps = {\n  confirmButton: undefined,\n  ConfirmProps: {},\n  continueLabel: undefined,\n  description: undefined,\n  hasLogoutService: true,\n  header: undefined,\n  icon: undefined,\n  ruleSet: 'iiif',\n  status: undefined,\n  t: function t(k) {\n    return k;\n  }\n};","import { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WindowAuthenticationBar } from '../components/WindowAuthenticationBar';\n/**\n * @param theme\n * @returns {{typographyBody: {flexGrow: number, fontSize: number|string},\n * windowTopBarStyle: {minHeight: number, paddingLeft: number, backgroundColor: string}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    buttonInvert: {\n      '&:hover': {\n        backgroundColor: fade(theme.palette.secondary.contrastText, 1 - theme.palette.action.hoverOpacity)\n      },\n      backgroundColor: theme.palette.secondary.contrastText,\n      marginLeft: theme.spacing(5),\n      paddingBottom: 0,\n      paddingTop: 0\n    },\n    expanded: {\n      paddingLeft: theme.spacing(),\n      paddingRight: theme.spacing()\n    },\n    failure: {\n      backgroundColor: theme.palette.error.dark\n    },\n    fauxButton: {\n      marginLeft: theme.spacing(2.5)\n    },\n    icon: {\n      marginRight: theme.spacing(1.5),\n      verticalAlign: 'text-bottom'\n    },\n    label: {\n      lineHeight: 2.25\n    },\n    paper: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText,\n      cursor: 'pointer'\n    },\n    topBar: {\n      '&:hover': {\n        backgroundColor: theme.palette.secondary.main\n      },\n      alignItems: 'center',\n      display: 'flex',\n      justifyContent: 'inherit',\n      padding: theme.spacing(1),\n      textTransform: 'none'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), withPlugins('WindowAuthenticationBar'));\nexport default enhance(WindowAuthenticationBar);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport { AccessTokenSender } from './AccessTokenSender';\nimport { NewWindow } from './NewWindow';\nimport WindowAuthenticationBar from '../containers/WindowAuthenticationBar';\n/**\n * Opens a new window for click\n */\n\nexport var IIIFAuthentication = /*#__PURE__*/function (_Component) {\n  _inherits(IIIFAuthentication, _Component);\n\n  var _super = _createSuper(IIIFAuthentication);\n\n  /** */\n  function IIIFAuthentication(props) {\n    var _this;\n\n    _classCallCheck(this, IIIFAuthentication);\n\n    _this = _super.call(this, props);\n    _this.performLogout = _this.performLogout.bind(_assertThisInitialized(_this));\n    _this.onReceiveAccessTokenMessage = _this.onReceiveAccessTokenMessage.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(IIIFAuthentication, [{\n    key: \"onReceiveAccessTokenMessage\",\n    value: function onReceiveAccessTokenMessage(payload) {\n      var _this$props = this.props,\n          authServiceId = _this$props.authServiceId,\n          accessTokenServiceId = _this$props.accessTokenServiceId,\n          resolveAccessTokenRequest = _this$props.resolveAccessTokenRequest;\n      resolveAccessTokenRequest(authServiceId, accessTokenServiceId, payload);\n    }\n    /** */\n\n  }, {\n    key: \"defaultAuthBarProps\",\n    value: function defaultAuthBarProps() {\n      var _this$props2 = this.props,\n          authServiceId = _this$props2.authServiceId,\n          windowId = _this$props2.windowId,\n          status = _this$props2.status,\n          logoutServiceId = _this$props2.logoutServiceId;\n      return {\n        authServiceId: authServiceId,\n        hasLogoutService: !!logoutServiceId,\n        status: status,\n        windowId: windowId\n      };\n    }\n    /** handle the IIIF logout workflow */\n\n  }, {\n    key: \"performLogout\",\n    value: function performLogout() {\n      var _this$props3 = this.props,\n          accessTokenServiceId = _this$props3.accessTokenServiceId,\n          authServiceId = _this$props3.authServiceId,\n          features = _this$props3.features,\n          logoutServiceId = _this$props3.logoutServiceId,\n          resetAuthenticationState = _this$props3.resetAuthenticationState,\n          openWindow = _this$props3.openWindow;\n      openWindow(logoutServiceId, undefined, features);\n      resetAuthenticationState({\n        authServiceId: authServiceId,\n        tokenServiceId: accessTokenServiceId\n      });\n    }\n    /** Render the auth bar for logged in users */\n\n  }, {\n    key: \"renderLoggedIn\",\n    value: function renderLoggedIn() {\n      var _this$props4 = this.props,\n          isInteractive = _this$props4.isInteractive,\n          logoutConfirm = _this$props4.logoutConfirm,\n          t = _this$props4.t;\n      if (!isInteractive) return null;\n      return /*#__PURE__*/React.createElement(WindowAuthenticationBar, Object.assign({\n        confirmButton: logoutConfirm || t('logout'),\n        onConfirm: this.performLogout\n      }, this.defaultAuthBarProps()));\n    }\n    /** Render whatever shows up after the interactive login attempt fails */\n\n  }, {\n    key: \"renderFailure\",\n    value: function renderFailure() {\n      var _this$props5 = this.props,\n          handleAuthInteraction = _this$props5.handleAuthInteraction,\n          header = _this$props5.failureHeader,\n          description = _this$props5.failureDescription,\n          t = _this$props5.t,\n          authServiceId = _this$props5.authServiceId,\n          windowId = _this$props5.windowId;\n      return /*#__PURE__*/React.createElement(WindowAuthenticationBar, Object.assign({\n        header: header,\n        description: description,\n        confirmButton: t('retry'),\n        onConfirm: function onConfirm() {\n          return handleAuthInteraction(windowId, authServiceId);\n        }\n      }, this.defaultAuthBarProps()));\n    }\n    /** Render the login bar after we're logging in */\n\n  }, {\n    key: \"renderLoggingInCookie\",\n    value: function renderLoggingInCookie() {\n      var _this$props6 = this.props,\n          accessTokenServiceId = _this$props6.accessTokenServiceId,\n          authServiceId = _this$props6.authServiceId,\n          resolveAuthenticationRequest = _this$props6.resolveAuthenticationRequest,\n          features = _this$props6.features;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.renderLogin(), /*#__PURE__*/React.createElement(NewWindow, {\n        name: \"IiifLoginSender\",\n        url: \"\".concat(authServiceId, \"?origin=\").concat(window.origin),\n        features: features,\n        onClose: function onClose() {\n          return resolveAuthenticationRequest(authServiceId, accessTokenServiceId);\n        }\n      }));\n    }\n    /** Render the login bar after we're logging in */\n\n  }, {\n    key: \"renderLoggingInToken\",\n    value: function renderLoggingInToken() {\n      var accessTokenServiceId = this.props.accessTokenServiceId;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.renderLogin(), /*#__PURE__*/React.createElement(AccessTokenSender, {\n        handleAccessTokenMessage: this.onReceiveAccessTokenMessage,\n        url: accessTokenServiceId\n      }));\n    }\n    /** Render a login bar */\n\n  }, {\n    key: \"renderLogin\",\n    value: function renderLogin() {\n      var _this$props7 = this.props,\n          confirm = _this$props7.confirm,\n          description = _this$props7.description,\n          handleAuthInteraction = _this$props7.handleAuthInteraction,\n          header = _this$props7.header,\n          isInteractive = _this$props7.isInteractive,\n          label = _this$props7.label,\n          authServiceId = _this$props7.authServiceId,\n          windowId = _this$props7.windowId;\n      if (!isInteractive) return null;\n      return /*#__PURE__*/React.createElement(WindowAuthenticationBar, Object.assign({\n        header: header,\n        description: description,\n        label: label,\n        confirmButton: confirm,\n        onConfirm: function onConfirm() {\n          return handleAuthInteraction(windowId, authServiceId);\n        }\n      }, this.defaultAuthBarProps()));\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props8 = this.props,\n          authServiceId = _this$props8.authServiceId,\n          status = _this$props8.status;\n      if (!authServiceId) return null;\n      if (status === null) return this.renderLogin();\n      if (status === 'cookie') return this.renderLoggingInCookie();\n      if (status === 'token') return this.renderLoggingInToken();\n      if (status === 'failed') return this.renderFailure();\n      if (status === 'ok') return this.renderLoggedIn();\n      return null;\n    }\n  }]);\n\n  return IIIFAuthentication;\n}(Component);\nIIIFAuthentication.defaultProps = {\n  confirm: undefined,\n  description: undefined,\n  failureDescription: undefined,\n  failureHeader: undefined,\n  features: 'centerscreen',\n  header: undefined,\n  isInteractive: true,\n  label: undefined,\n  logoutConfirm: undefined,\n  logoutServiceId: undefined,\n  openWindow: window.open,\n  status: null,\n  t: function t(k) {\n    return k;\n  }\n};","import { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { Utils } from 'manifesto.js/dist-esmodule/Utils';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { getAuth, getAuthProfiles, selectCurrentAuthServices, getAccessTokens } from '../state/selectors';\nimport { IIIFAuthentication } from '../components/IIIFAuthentication';\n/**\n * mapStateToProps - to hook up connect\n * @memberof FullScreenButton\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  var services = selectCurrentAuthServices(state, {\n    windowId: windowId\n  }); // TODO: get the most actionable auth service...\n\n  var service = services[0];\n  var accessTokenService = service && (Utils.getService(service, 'http://iiif.io/api/auth/1/token') || Utils.getService(service, 'http://iiif.io/api/auth/0/token'));\n  var logoutService = service && (Utils.getService(service, 'http://iiif.io/api/auth/1/logout') || Utils.getService(service, 'http://iiif.io/api/auth/0/logout'));\n  var authStatuses = getAuth(state);\n  var authStatus = service && authStatuses[service.id];\n  var accessTokens = getAccessTokens(state);\n  var accessTokenStatus = accessTokenService && accessTokens[accessTokenService.id];\n  var status = null;\n\n  if (!authStatus) {\n    status = null;\n  } else if (authStatus.isFetching) {\n    if (authStatus.windowId === windowId) status = 'cookie';\n  } else if (accessTokenStatus && accessTokenStatus.isFetching) {\n    if (authStatus.windowId === windowId) status = 'token';\n  } else if (authStatus.ok) {\n    status = 'ok';\n  } else if (authStatus.ok === false) {\n    status = 'failed';\n  }\n\n  var authProfiles = getAuthProfiles(state);\n  var profile = service && service.getProfile();\n  var isInteractive = authProfiles.some(function (config) {\n    return config.profile === profile && !(config.external || config.kiosk);\n  });\n  return {\n    accessTokenServiceId: accessTokenService && accessTokenService.id,\n    authServiceId: service && service.id,\n    confirm: service && service.getConfirmLabel(),\n    description: service && service.getDescription(),\n    failureDescription: service && service.getFailureDescription(),\n    failureHeader: service && service.getFailureHeader(),\n    header: service && service.getHeader(),\n    isInteractive: isInteractive,\n    label: service && service.getLabel()[0].value,\n    logoutConfirm: logoutService && logoutService.getLabel()[0] && logoutService.getLabel()[0].value,\n    logoutServiceId: logoutService && logoutService.id,\n    profile: profile,\n    status: status\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  handleAuthInteraction: actions.addAuthenticationRequest,\n  resetAuthenticationState: actions.resetAuthenticationState,\n  resolveAccessTokenRequest: actions.resolveAccessTokenRequest,\n  resolveAuthenticationRequest: actions.resolveAuthenticationRequest\n};\nvar enhance = compose(withTranslation(), connect(mapStateToProps, mapDispatchToProps), withPlugins('IIIFAuthentication'));\nexport default enhance(IIIFAuthentication);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport cn from 'classnames';\nimport Paper from '@material-ui/core/Paper';\nimport { MosaicWindowContext } from 'react-mosaic-component/lib/contextTypes';\nimport ns from '../config/css-ns';\nimport WindowTopBar from '../containers/WindowTopBar';\nimport PrimaryWindow from '../containers/PrimaryWindow';\nimport CompanionArea from '../containers/CompanionArea';\nimport MinimalWindow from '../containers/MinimalWindow';\nimport ErrorContent from '../containers/ErrorContent';\nimport IIIFAuthentication from '../containers/IIIFAuthentication';\nimport { PluginHook } from './PluginHook';\n/**\n * Represents a Window in the mirador workspace\n * @param {object} window\n */\n\nexport var Window = /*#__PURE__*/function (_Component) {\n  _inherits(Window, _Component);\n\n  var _super = _createSuper(Window);\n\n  /** */\n  function Window(props) {\n    var _this;\n\n    _classCallCheck(this, Window);\n\n    _this = _super.call(this, props);\n    _this.state = {};\n    return _this;\n  }\n  /** */\n\n\n  _createClass(Window, [{\n    key: \"wrappedTopBar\",\n    value:\n    /**\n     * wrappedTopBar - will conditionally wrap a WindowTopBar for needed\n     * additional functionality based on workspace type\n     */\n    function wrappedTopBar() {\n      var _this$props = this.props,\n          windowId = _this$props.windowId,\n          workspaceType = _this$props.workspaceType,\n          windowDraggable = _this$props.windowDraggable;\n      var topBar = /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(WindowTopBar, {\n        windowId: windowId,\n        windowDraggable: windowDraggable\n      }), /*#__PURE__*/React.createElement(IIIFAuthentication, {\n        windowId: windowId\n      }));\n\n      if (workspaceType === 'mosaic' && windowDraggable) {\n        var mosaicWindowActions = this.context.mosaicWindowActions;\n        return mosaicWindowActions.connectDragSource(topBar);\n      }\n\n      return topBar;\n    }\n    /**\n     * Renders things\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          focusWindow = _this$props2.focusWindow,\n          label = _this$props2.label,\n          isFetching = _this$props2.isFetching,\n          maximized = _this$props2.maximized,\n          sideBarOpen = _this$props2.sideBarOpen,\n          view = _this$props2.view,\n          windowId = _this$props2.windowId,\n          classes = _this$props2.classes,\n          t = _this$props2.t,\n          manifestError = _this$props2.manifestError;\n      var _this$state = this.state,\n          error = _this$state.error,\n          hasError = _this$state.hasError;\n\n      if (hasError) {\n        return /*#__PURE__*/React.createElement(MinimalWindow, {\n          windowId: windowId\n        }, /*#__PURE__*/React.createElement(ErrorContent, {\n          error: error,\n          windowId: windowId\n        }));\n      }\n\n      return /*#__PURE__*/React.createElement(Paper, {\n        onFocus: focusWindow,\n        component: \"section\",\n        elevation: 1,\n        id: windowId,\n        className: cn(classes.window, ns('window'), maximized ? classes.maximized : null),\n        \"aria-label\": t('window', {\n          label: label\n        })\n      }, this.wrappedTopBar(), manifestError && /*#__PURE__*/React.createElement(ErrorContent, {\n        error: {\n          stack: manifestError\n        },\n        windowId: windowId\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.middle\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.middleLeft\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.primaryWindow\n      }, /*#__PURE__*/React.createElement(PrimaryWindow, {\n        view: view,\n        windowId: windowId,\n        isFetching: isFetching,\n        sideBarOpen: sideBarOpen\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.companionAreaBottom\n      }, /*#__PURE__*/React.createElement(CompanionArea, {\n        windowId: windowId,\n        position: \"bottom\"\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.companionAreaRight\n      }, /*#__PURE__*/React.createElement(CompanionArea, {\n        windowId: windowId,\n        position: \"right\"\n      }), /*#__PURE__*/React.createElement(CompanionArea, {\n        windowId: windowId,\n        position: \"far-right\"\n      }))), /*#__PURE__*/React.createElement(CompanionArea, {\n        windowId: windowId,\n        position: \"far-bottom\"\n      }), /*#__PURE__*/React.createElement(PluginHook, this.props));\n    }\n  }], [{\n    key: \"getDerivedStateFromError\",\n    value: function getDerivedStateFromError(error) {\n      // Update state so the next render will show the fallback UI.\n      return {\n        error: error,\n        hasError: true\n      };\n    }\n  }]);\n\n  return Window;\n}(Component);\nWindow.contextType = MosaicWindowContext;\nWindow.defaultProps = {\n  classes: {},\n  focusWindow: function focusWindow() {},\n  isFetching: false,\n  label: null,\n  manifestError: null,\n  maximized: false,\n  sideBarOpen: false,\n  view: undefined,\n  windowDraggable: null,\n  workspaceType: null\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { Window } from '../components/Window';\nimport { getManifestStatus, getManifestTitle, getThumbnailNavigationPosition, getWindow, getWorkspaceType, getWindowDraggability, getWindowViewType, getManifestError } from '../state/selectors';\n/**\n * mapStateToProps - used to hook up connect to action creators\n * @memberof Window\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    isFetching: getManifestStatus(state, {\n      windowId: windowId\n    }).isFetching,\n    label: getManifestTitle(state, {\n      windowId: windowId\n    }),\n    manifestError: getManifestError(state, {\n      windowId: windowId\n    }),\n    maximized: (getWindow(state, {\n      windowId: windowId\n    }) || {}).maximized,\n    sideBarOpen: (getWindow(state, {\n      windowId: windowId\n    }) || {}).sideBarOpen,\n    thumbnailNavigationPosition: getThumbnailNavigationPosition(state, {\n      windowId: windowId\n    }),\n    view: getWindowViewType(state, {\n      windowId: windowId\n    }),\n    window: getWindow(state, {\n      windowId: windowId\n    }),\n    windowDraggable: getWindowDraggability(state, {\n      windowId: windowId\n    }),\n    workspaceType: getWorkspaceType(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, _ref2) {\n  var windowId = _ref2.windowId;\n  return {\n    focusWindow: function focusWindow() {\n      return dispatch(actions.focusWindow(windowId));\n    }\n  };\n};\n/**\n * @param theme\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    companionAreaBottom: {\n      display: 'flex',\n      flex: '0',\n      flexBasis: 'auto',\n      minHeight: 0\n    },\n    companionAreaRight: {\n      display: 'flex',\n      flex: '0 1 auto',\n      minHeight: 0\n    },\n    maximized: {},\n    middle: {\n      display: 'flex',\n      flex: '1',\n      flexDirection: 'row',\n      minHeight: 0\n    },\n    middleLeft: {\n      display: 'flex',\n      flex: '1',\n      flexDirection: 'column',\n      minHeight: 0\n    },\n    primaryWindow: {\n      display: 'flex',\n      flex: '1',\n      height: '300px',\n      minHeight: 0,\n      position: 'relative'\n    },\n    thumbnailArea: {\n      backgroundColor: theme.palette.shades.dark\n    },\n    thumbnailAreaBottom: {},\n    thumbnailAreaRight: {\n      minWidth: 100\n    },\n    window: {\n      '&$maximized': {\n        left: 0,\n        position: 'absolute',\n        top: 0,\n        zIndex: theme.zIndex.modal - 1\n      },\n      backgroundColor: theme.palette.shades.dark,\n      borderRadius: 0,\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%',\n      minHeight: 0,\n      overflow: 'hidden',\n      width: '100%'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('Window'));\nexport default enhance(Window);","import React from 'react';\nimport MinimalWindow from '../containers/MinimalWindow';\n/**\n * MosaicRenderPreview is used to for the preview when dragging a mosaic window/tile\n*/\n\nexport function MosaicRenderPreview(props) {\n  var t = props.t,\n      title = props.title,\n      windowId = props.windowId;\n  return /*#__PURE__*/React.createElement(MinimalWindow, {\n    windowId: \"\".concat(windowId, \"-preview\"),\n    label: t('previewWindowTitle', {\n      title: title\n    }),\n    ariaLabel: false\n  });\n}\nMosaicRenderPreview.defaultProps = {\n  t: function t(k) {\n    return k;\n  },\n  title: ''\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withTranslation } from 'react-i18next';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getManifestTitle } from '../state/selectors';\nimport { MosaicRenderPreview } from '../components/MosaicRenderPreview';\n/** */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    title: getManifestTitle(state, {\n      windowId: windowId\n    })\n  };\n};\n/**\n *\n * @param theme\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    preview: _objectSpread({}, theme.typography.h4)\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(), connect(mapStateToProps, null), withPlugins('MosaicRenderPreview'));\nexport default enhance(MosaicRenderPreview);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { createRemoveUpdate, updateTree } from 'react-mosaic-component/lib/util/mosaicUpdates';\nimport { getNodeAtPath, getOtherDirection, getPathToCorner, Corner } from 'react-mosaic-component/lib/util/mosaicUtilities';\nimport dropRight from 'lodash/dropRight';\n/** */\n\nvar MosaicLayout = /*#__PURE__*/function () {\n  /** */\n  function MosaicLayout(layout) {\n    _classCallCheck(this, MosaicLayout);\n\n    this.layout = layout;\n  }\n  /** */\n\n\n  _createClass(MosaicLayout, [{\n    key: \"pathToCorner\",\n    value: function pathToCorner() {\n      var corner = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Corner.TOP_RIGHT;\n      return getPathToCorner(this.layout, corner);\n    }\n    /** */\n\n  }, {\n    key: \"pathToParent\",\n    value: function pathToParent(path) {\n      return getNodeAtPath(this.layout, dropRight(path));\n    }\n    /** */\n\n  }, {\n    key: \"nodeAtPath\",\n    value: function nodeAtPath(path) {\n      return getNodeAtPath(this.layout, path);\n    }\n    /**\n     * addWindows - updates the layout with new windows using an algorithm ported\n     * from the react-mosaic-components examples. Will always add to the Top Right\n     * https://github.com/nomcopter/react-mosaic/blob/5081df8d1528d4c3b83a72763a46a30b3048fe95/demo/ExampleApp.tsx#L119-L154\n     * @param {Array} addedWindowIds [description]\n     */\n\n  }, {\n    key: \"addWindows\",\n    value: function addWindows(addedWindowIds) {\n      var _this = this;\n\n      addedWindowIds.forEach(function (windowId, i) {\n        var path = _this.pathToCorner();\n\n        var parent = _this.pathToParent(path);\n\n        var destination = _this.nodeAtPath(path);\n\n        var direction = parent ? getOtherDirection(parent.direction) : 'row';\n        var first;\n        var second;\n\n        if (direction === 'row') {\n          first = destination;\n          second = addedWindowIds[i];\n        } else {\n          first = addedWindowIds[i];\n          second = destination;\n        }\n\n        var update = {\n          path: path,\n          spec: {\n            $set: {\n              direction: direction,\n              first: first,\n              second: second\n            }\n          }\n        }; // We cannot batch the updates together because we need to recalculate\n        // the new location for each new window\n\n        _this.layout = updateTree(_this.layout, [update]);\n      });\n    }\n    /**\n     * removeWindows - Generate a set of \"removeUpdates\" to update layout binary\n     * tree. Then update the layout.\n     * @param  {Array} removedWindowIds\n     * @param  {Object} windowPaths - a lookup table for window paths\n     */\n\n  }, {\n    key: \"removeWindows\",\n    value: function removeWindows(removedWindowIds, windowPaths) {\n      var _this2 = this;\n\n      var removeUpdates = removedWindowIds.map(function (windowId) {\n        return createRemoveUpdate(_this2.layout, windowPaths[windowId]);\n      });\n      this.layout = updateTree(this.layout, removeUpdates);\n    }\n  }]);\n\n  return MosaicLayout;\n}();\n\nexport { MosaicLayout as default };","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React from 'react';\nimport { MosaicWithoutDragDropContext, MosaicWindow, getLeaves, createBalancedTreeFromLeaves } from 'react-mosaic-component';\nimport difference from 'lodash/difference';\nimport isEqual from 'lodash/isEqual';\nimport classNames from 'classnames';\nimport MosaicRenderPreview from '../containers/MosaicRenderPreview';\nimport Window from '../containers/Window';\nimport MosaicLayout from '../lib/MosaicLayout';\n/**\n * Represents a work area that contains any number of windows\n * @memberof Workspace\n * @private\n */\n\nexport var WorkspaceMosaic = /*#__PURE__*/function (_React$Component) {\n  _inherits(WorkspaceMosaic, _React$Component);\n\n  var _super = _createSuper(WorkspaceMosaic);\n\n  /**\n   */\n  function WorkspaceMosaic(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceMosaic);\n\n    _this = _super.call(this, props);\n    _this.tileRenderer = _this.tileRenderer.bind(_assertThisInitialized(_this));\n    _this.mosaicChange = _this.mosaicChange.bind(_assertThisInitialized(_this));\n    _this.determineWorkspaceLayout = _this.determineWorkspaceLayout.bind(_assertThisInitialized(_this));\n    _this.zeroStateView = /*#__PURE__*/React.createElement(\"div\", null);\n    _this.windowPaths = {};\n    _this.toolbarControls = [];\n    _this.additionalControls = [];\n    return _this;\n  }\n  /** */\n\n\n  _createClass(WorkspaceMosaic, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var updateWorkspaceMosaicLayout = this.props.updateWorkspaceMosaicLayout;\n      var newLayout = this.determineWorkspaceLayout();\n      if (newLayout) updateWorkspaceMosaicLayout(newLayout);\n    }\n    /** */\n\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props = this.props,\n          windowIds = _this$props.windowIds,\n          layout = _this$props.layout,\n          updateWorkspaceMosaicLayout = _this$props.updateWorkspaceMosaicLayout;\n      var prevWindows = prevProps.windowIds; // Handles when Windows are added (not via Add Resource UI) Could be a workspace import\n\n      if (!windowIds.every(function (e) {\n        return prevWindows.includes(e);\n      })) {\n        var newLayout = this.determineWorkspaceLayout();\n        if (!isEqual(newLayout, layout)) updateWorkspaceMosaicLayout(newLayout);\n        return;\n      } // Handles when Windows are removed from the state\n\n\n      if (!prevWindows.every(function (e) {\n        return windowIds.includes(e);\n      })) {\n        // There are no more remaining Windows, just return an empty layout\n        if (windowIds.length === 0) {\n          updateWorkspaceMosaicLayout(null);\n          return;\n        }\n\n        var removedWindows = difference(prevWindows, windowIds);\n\n        var _newLayout = new MosaicLayout(layout);\n\n        _newLayout.removeWindows(removedWindows, this.windowPaths);\n\n        updateWorkspaceMosaicLayout(_newLayout.layout);\n      }\n    }\n    /**\n     * bookkeepPath - used to book keep Window's path's\n     * @param  {String} windowId   [description]\n     * @param  {Array} path [description]\n     */\n\n  }, {\n    key: \"bookkeepPath\",\n    value: function bookkeepPath(windowId, path) {\n      this.windowPaths[windowId] = path;\n    }\n    /**\n     * Used to determine whether or not a \"new\" layout should be autogenerated.\n     */\n\n  }, {\n    key: \"determineWorkspaceLayout\",\n    value: function determineWorkspaceLayout() {\n      var _this$props2 = this.props,\n          windowIds = _this$props2.windowIds,\n          layout = _this$props2.layout;\n      var leaveKeys = getLeaves(layout); // Windows were added\n\n      if (!windowIds.every(function (e) {\n        return leaveKeys.includes(e);\n      })) {\n        // No current layout, so just generate a new one\n        if (leaveKeys.length < 2) {\n          return createBalancedTreeFromLeaves(windowIds);\n        } // Add new windows to layout\n\n\n        var addedWindows = difference(windowIds, leaveKeys);\n        var newLayout = new MosaicLayout(layout);\n        newLayout.addWindows(addedWindows);\n        return newLayout.layout;\n      } // Windows were removed (perhaps in a different Workspace). We don't have a\n      // way to reconfigure.. so we have to random generate\n\n\n      if (!leaveKeys.every(function (e) {\n        return windowIds.includes(e);\n      })) {\n        return createBalancedTreeFromLeaves(windowIds);\n      }\n\n      return layout;\n    }\n    /** */\n\n  }, {\n    key: \"tileRenderer\",\n    value:\n    /**\n     * Render a tile (Window) in the Mosaic.\n     */\n    function tileRenderer(id, path) {\n      var _this$props3 = this.props,\n          windowIds = _this$props3.windowIds,\n          workspaceId = _this$props3.workspaceId;\n      if (!windowIds.includes(id)) return null;\n      this.bookkeepPath(id, path);\n      return /*#__PURE__*/React.createElement(MosaicWindow, {\n        toolbarControls: this.toolbarControls,\n        additionalControls: this.additionalControls,\n        path: path,\n        windowId: id,\n        renderPreview: WorkspaceMosaic.renderPreview\n      }, /*#__PURE__*/React.createElement(Window, {\n        key: \"\".concat(id, \"-\").concat(workspaceId),\n        windowId: id\n      }));\n    }\n    /**\n     * Update the redux store when the Mosaic is changed.\n     */\n\n  }, {\n    key: \"mosaicChange\",\n    value: function mosaicChange(newLayout) {\n      var updateWorkspaceMosaicLayout = this.props.updateWorkspaceMosaicLayout;\n      updateWorkspaceMosaicLayout(newLayout);\n    }\n    /**\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          layout = _this$props4.layout,\n          classes = _this$props4.classes;\n      return /*#__PURE__*/React.createElement(MosaicWithoutDragDropContext, {\n        renderTile: this.tileRenderer,\n        initialValue: layout || this.determineWorkspaceLayout(),\n        onChange: this.mosaicChange,\n        className: classNames('mirador-mosaic', classes.root),\n        zeroStateView: this.zeroStateView\n      });\n    }\n  }], [{\n    key: \"renderPreview\",\n    value: function renderPreview(mosaicProps) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mosaic-preview\",\n        \"aria-hidden\": true\n      }, /*#__PURE__*/React.createElement(MosaicRenderPreview, {\n        windowId: mosaicProps.windowId\n      }));\n    }\n  }]);\n\n  return WorkspaceMosaic;\n}(React.Component);\nWorkspaceMosaic.defaultProps = {\n  layout: undefined,\n  windowIds: []\n};","// Generated using jss convert node_modules/react-mosaic-component/react-mosaic-component.css > src/styles/react-mosaic-component.js\n// .mosaic-blueprint-theme styles have also been removed\nvar globalReactMosaicStyles = {\n  '@global': {\n    '.mosaic': {\n      height: '100%',\n      width: '100%'\n    },\n    '.mosaic, .mosaic > *': {\n      boxSizing: 'border-box'\n    },\n    '.mosaic .mosaic-zero-state': {\n      position: 'absolute',\n      top: 6,\n      right: 6,\n      bottom: 6,\n      left: 6,\n      width: 'auto',\n      height: 'auto',\n      zIndex: '1'\n    },\n    '.mosaic-root': {\n      position: 'absolute',\n      top: 3,\n      right: 3,\n      bottom: 3,\n      left: 3\n    },\n    '.mosaic-split': {\n      position: 'absolute',\n      zIndex: '1',\n      touchAction: 'none'\n    },\n    '.mosaic-split:hover': {\n      background: 'black'\n    },\n    '.mosaic-split .mosaic-split-line': {\n      position: 'absolute'\n    },\n    '.mosaic-split.-row': {\n      marginLeft: -3,\n      width: 6,\n      cursor: 'ew-resize'\n    },\n    '.mosaic-split.-row .mosaic-split-line': {\n      top: '0',\n      bottom: '0',\n      left: 3,\n      right: 3\n    },\n    '.mosaic-split.-column': {\n      marginTop: -3,\n      height: 6,\n      cursor: 'ns-resize'\n    },\n    '.mosaic-split.-column .mosaic-split-line': {\n      top: 3,\n      bottom: 3,\n      left: '0',\n      right: '0'\n    },\n    '.mosaic-tile': {\n      position: 'absolute',\n      margin: 3\n    },\n    '.mosaic-tile > *': {\n      height: '100%',\n      width: '100%'\n    },\n    '.mosaic-drop-target': {\n      position: 'relative'\n    },\n    '.mosaic-drop-target.drop-target-hover .drop-target-container': {\n      display: 'block'\n    },\n    '.mosaic-drop-target.mosaic > .drop-target-container .drop-target.left': {\n      right: 'calc(100% -  10px )'\n    },\n    '.mosaic-drop-target.mosaic > .drop-target-container .drop-target.right': {\n      left: 'calc(100% -  10px )'\n    },\n    '.mosaic-drop-target.mosaic > .drop-target-container .drop-target.bottom': {\n      top: 'calc(100% -  10px )'\n    },\n    '.mosaic-drop-target.mosaic > .drop-target-container .drop-target.top': {\n      bottom: 'calc(100% -  10px )'\n    },\n    '.mosaic-drop-target .drop-target-container': {\n      position: 'absolute',\n      top: '0',\n      right: '0',\n      bottom: '0',\n      left: '0',\n      display: 'none'\n    },\n    '.mosaic-drop-target .drop-target-container.-dragging': {\n      display: 'block'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target': {\n      position: 'absolute',\n      top: '0',\n      right: '0',\n      bottom: '0',\n      left: '0',\n      background: 'rgba(0, 0, 0, 0.2)',\n      border: '2px solid black',\n      opacity: '0',\n      zIndex: '5'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.left': {\n      right: 'calc(100% -  30% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.right': {\n      left: 'calc(100% -  30% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.bottom': {\n      top: 'calc(100% -  30% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.top': {\n      bottom: 'calc(100% -  30% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.drop-target-hover': {\n      opacity: '1'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.left': {\n      right: 'calc(100% -  50% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.right': {\n      left: 'calc(100% -  50% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.bottom': {\n      top: 'calc(100% -  50% )'\n    },\n    '.mosaic-drop-target .drop-target-container .drop-target.drop-target-hover.top': {\n      bottom: 'calc(100% -  50% )'\n    },\n    '.mosaic-window, .mosaic-preview': {\n      position: 'relative',\n      display: 'flex',\n      fallbacks: [{\n        display: '-webkit-box'\n      }],\n      webkitBoxOrient: 'vertical',\n      webkitBoxDirection: 'normal',\n      flexDirection: 'column',\n      overflow: 'hidden',\n      boxShadow: '0 0 1px rgba(0, 0, 0, 0.2)'\n    },\n    '.mosaic-window .mosaic-window-toolbar, .mosaic-preview .mosaic-window-toolbar': {\n      zIndex: '4',\n      display: 'flex',\n      fallbacks: [{\n        display: '-webkit-box'\n      }],\n      webkitBoxPack: 'justify',\n      justifyContent: 'space-between',\n      webkitBoxAlign: 'center',\n      alignItems: 'center',\n      flexShrink: '0',\n      height: 30,\n      background: 'white',\n      boxShadow: '0 1px 1px rgba(0, 0, 0, 0.2)'\n    },\n    '.mosaic-window .mosaic-window-toolbar.draggable, .mosaic-preview .mosaic-window-toolbar.draggable': {\n      cursor: 'move'\n    },\n    '.mosaic-window .mosaic-window-title, .mosaic-preview .mosaic-window-title': {\n      paddingLeft: 15,\n      webkitBoxFlex: '1',\n      flex: '1',\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      minHeight: 18\n    },\n    '.mosaic-window .mosaic-window-controls, .mosaic-preview .mosaic-window-controls': {\n      display: 'flex',\n      fallbacks: [{\n        display: '-webkit-box'\n      }],\n      height: '100%'\n    },\n    '.mosaic-window .mosaic-window-controls .separator, .mosaic-preview .mosaic-window-controls .separator': {\n      height: 20,\n      borderLeft: '1px solid black',\n      margin: '5px 4px'\n    },\n    '.mosaic-window .mosaic-window-body, .mosaic-preview .mosaic-window-body': {\n      position: 'relative',\n      webkitBoxFlex: '1',\n      flex: '1',\n      height: '0',\n      background: 'white',\n      zIndex: '1',\n      overflow: 'hidden'\n    },\n    '.mosaic-window .mosaic-window-additional-actions-bar, .mosaic-preview .mosaic-window-additional-actions-bar': {\n      position: 'absolute',\n      top: 30,\n      right: '0',\n      bottom: 'initial',\n      left: '0',\n      height: '0',\n      overflow: 'hidden',\n      background: 'white',\n      webkitBoxPack: 'end',\n      justifyContent: 'flex-end',\n      display: 'flex',\n      fallbacks: [{\n        display: '-webkit-box'\n      }],\n      zIndex: '3'\n    },\n    '.mosaic-window .mosaic-window-additional-actions-bar .bp3-button, .mosaic-preview .mosaic-window-additional-actions-bar .bp3-button': {\n      margin: '0'\n    },\n    '.mosaic-window .mosaic-window-additional-actions-bar .bp3-button:after, .mosaic-preview .mosaic-window-additional-actions-bar .bp3-button:after': {\n      display: 'none'\n    },\n    '.mosaic-window .mosaic-window-body-overlay, .mosaic-preview .mosaic-window-body-overlay': {\n      position: 'absolute',\n      top: '0',\n      right: '0',\n      bottom: '0',\n      left: '0',\n      opacity: '0',\n      background: 'white',\n      display: 'none',\n      zIndex: '2'\n    },\n    '.mosaic-window.additional-controls-open .mosaic-window-additional-actions-bar, .mosaic-preview.additional-controls-open .mosaic-window-additional-actions-bar': {\n      height: 30\n    },\n    '.mosaic-window.additional-controls-open .mosaic-window-body-overlay, .mosaic-preview.additional-controls-open .mosaic-window-body-overlay': {\n      display: 'block'\n    },\n    '.mosaic-window .mosaic-preview, .mosaic-preview .mosaic-preview': {\n      height: '100%',\n      width: '100%',\n      position: 'absolute',\n      zIndex: '0',\n      border: '1px solid black',\n      maxHeight: 400\n    },\n    '.mosaic-window .mosaic-preview .mosaic-window-body, .mosaic-preview .mosaic-preview .mosaic-window-body': {\n      display: 'flex',\n      fallbacks: [{\n        display: '-webkit-box'\n      }],\n      webkitBoxOrient: 'vertical',\n      webkitBoxDirection: 'normal',\n      flexDirection: 'column',\n      webkitBoxAlign: 'center',\n      alignItems: 'center',\n      webkitBoxPack: 'center',\n      justifyContent: 'center'\n    },\n    '.mosaic-window .mosaic-preview h4, .mosaic-preview .mosaic-preview h4': {\n      marginBottom: 10\n    },\n    '.mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.close-button:before': {\n      content: '\\'Close\\''\n    },\n    '.mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.split-button:before': {\n      content: '\\'Split\\''\n    },\n    '.mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.replace-button:before': {\n      content: '\\'Replace\\''\n    },\n    '.mosaic:not(.mosaic-blueprint-theme) .mosaic-default-control.expand-button:before': {\n      content: '\\'Expand\\''\n    }\n  }\n};\nexport default globalReactMosaicStyles;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getWorkspace } from '../state/selectors';\nimport * as actions from '../state/actions';\nimport { WorkspaceMosaic } from '../components/WorkspaceMosaic';\nimport globalReactMosaicStyles from '../styles/react-mosaic-component';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    layout: getWorkspace(state).layout,\n    windowIds: getWorkspace(state).windowIds,\n    workspaceId: getWorkspace(state).id\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  updateWorkspaceMosaicLayout: actions.updateWorkspaceMosaicLayout\n};\n\nvar styles = _objectSpread({\n  root: {\n    '& .mosaic-preview': {\n      boxShadow: 'none'\n    },\n    '& .mosaic-tile': {\n      boxShadow: '0 1px 3px 0 rgba(0, 0, 0, .2), 0 1px 1px 0 rgba(0, 0, 0, .2), 0 2px 1px -1px rgba(0, 0, 0, .2)'\n    },\n    '& .mosaic-window': {\n      boxShadow: 'none'\n    },\n    '& .mosaic-window-toolbar': {\n      display: 'none !important'\n    }\n  }\n}, globalReactMosaicStyles);\n\nvar enhance = compose(withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceMosaic') // further HOC go here\n);\nexport default enhance(WorkspaceMosaic);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React from 'react';\nimport { Rnd } from 'react-rnd';\nimport Window from '../containers/Window';\nimport ns from '../config/css-ns';\n/**\n * Represents a work area that contains any number of windows\n * @memberof Workspace\n * @private\n */\n\nvar WorkspaceElasticWindow = /*#__PURE__*/function (_React$Component) {\n  _inherits(WorkspaceElasticWindow, _React$Component);\n\n  var _super = _createSuper(WorkspaceElasticWindow);\n\n  function WorkspaceElasticWindow() {\n    _classCallCheck(this, WorkspaceElasticWindow);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceElasticWindow, [{\n    key: \"render\",\n    value:\n    /**\n     */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          companionWindowDimensions = _this$props.companionWindowDimensions,\n          focused = _this$props.focused,\n          layout = _this$props.layout,\n          workspace = _this$props.workspace,\n          updateElasticWindowLayout = _this$props.updateElasticWindowLayout;\n      var offsetX = workspace.width / 2;\n      var offsetY = workspace.height / 2;\n      return /*#__PURE__*/React.createElement(Rnd, {\n        key: \"\".concat(layout.windowId, \"-\").concat(workspace.id),\n        size: {\n          height: layout.height + companionWindowDimensions.height,\n          width: layout.width + companionWindowDimensions.width\n        },\n        position: {\n          x: layout.x + offsetX,\n          y: layout.y + offsetY\n        },\n        bounds: \"parent\",\n        onDragStop: function onDragStop(e, d) {\n          updateElasticWindowLayout(layout.windowId, {\n            x: d.x - offsetX,\n            y: d.y - offsetY\n          });\n        },\n        onResize: function onResize(e, direction, ref, delta, position) {\n          updateElasticWindowLayout(layout.windowId, {\n            height: Number.parseInt(ref.style.height, 10) - companionWindowDimensions.height,\n            width: Number.parseInt(ref.style.width, 10) - companionWindowDimensions.width,\n            x: position.x - offsetX,\n            y: position.y - offsetY\n          });\n        },\n        dragHandleClassName: ns('window-top-bar'),\n        className: focused ? classes.focused : null\n      }, /*#__PURE__*/React.createElement(Window, {\n        windowId: layout.windowId\n      }));\n    }\n  }]);\n\n  return WorkspaceElasticWindow;\n}(React.Component);\n\nWorkspaceElasticWindow.defaultProps = {\n  classes: {},\n  companionWindowDimensions: {\n    height: 0,\n    width: 0\n  },\n  focused: false\n};\nexport default WorkspaceElasticWindow;","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core';\nimport * as actions from '../state/actions';\nimport WorkspaceElasticWindow from '../components/WorkspaceElasticWindow';\nimport { selectCompanionWindowDimensions, getWorkspace, isFocused, getElasticLayout } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var windowId = _ref.windowId;\n  return {\n    companionWindowDimensions: selectCompanionWindowDimensions(state, {\n      windowId: windowId\n    }),\n    focused: isFocused(state, {\n      windowId: windowId\n    }),\n    layout: getElasticLayout(state)[windowId],\n    workspace: getWorkspace(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, props) {\n  return {\n    updateElasticWindowLayout: function updateElasticWindowLayout(windowId, position) {\n      dispatch(actions.updateElasticWindowLayout(windowId, position));\n    }\n  };\n};\n/**\n * @param theme\n */\n\n\nvar styles = function styles(theme) {\n  return {\n    focused: {\n      zIndex: theme.zIndex.modal - 1\n    }\n  };\n};\n\nvar enhance = compose(withStyles(styles), connect(mapStateToProps, mapDispatchToProps) // further HOC go here\n);\nexport default enhance(WorkspaceElasticWindow);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React from 'react';\nimport { Rnd } from 'react-rnd';\nimport ResizeObserver from 'react-resize-observer';\nimport classNames from 'classnames';\nimport WorkspaceElasticWindow from '../containers/WorkspaceElasticWindow';\nimport ns from '../config/css-ns';\n/**\n * Represents a work area that contains any number of windows\n * @memberof Workspace\n * @private\n */\n\nvar WorkspaceElastic = /*#__PURE__*/function (_React$Component) {\n  _inherits(WorkspaceElastic, _React$Component);\n\n  var _super = _createSuper(WorkspaceElastic);\n\n  function WorkspaceElastic() {\n    _classCallCheck(this, WorkspaceElastic);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceElastic, [{\n    key: \"render\",\n    value:\n    /**\n     */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          workspace = _this$props.workspace,\n          elasticLayout = _this$props.elasticLayout,\n          setWorkspaceViewportDimensions = _this$props.setWorkspaceViewportDimensions,\n          setWorkspaceViewportPosition = _this$props.setWorkspaceViewportPosition;\n      var viewportPosition = workspace.viewportPosition;\n      var offsetX = workspace.width / 2;\n      var offsetY = workspace.height / 2;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: '100%',\n          position: 'relative',\n          width: '100%'\n        }\n      }, /*#__PURE__*/React.createElement(ResizeObserver, {\n        onResize: function onResize(rect) {\n          setWorkspaceViewportDimensions(rect);\n        }\n      }), /*#__PURE__*/React.createElement(Rnd, {\n        size: {\n          height: workspace.height,\n          width: workspace.width\n        },\n        position: {\n          x: -1 * viewportPosition.x - offsetX,\n          y: -1 * viewportPosition.y - offsetY\n        },\n        enableResizing: {\n          bottom: false,\n          bottomLeft: false,\n          bottomRight: false,\n          left: false,\n          right: false,\n          top: false,\n          topLeft: false,\n          topRight: false\n        },\n        onDragStop: function onDragStop(e, d) {\n          setWorkspaceViewportPosition({\n            x: -1 * d.x - offsetX,\n            y: -1 * d.y - offsetY\n          });\n        },\n        cancel: \".\".concat(ns('window')),\n        className: classNames(classes.workspace, ns('workspace')),\n        disableDragging: !workspace.draggingEnabled\n      }, Object.keys(elasticLayout).map(function (windowId) {\n        return /*#__PURE__*/React.createElement(WorkspaceElasticWindow, {\n          key: windowId,\n          windowId: windowId\n        });\n      })));\n    }\n  }]);\n\n  return WorkspaceElastic;\n}(React.Component);\n\nexport default WorkspaceElastic;","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport WorkspaceElastic from '../components/WorkspaceElastic';\nimport { getElasticLayout, getWorkspace } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    elasticLayout: getElasticLayout(state),\n    workspace: getWorkspace(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, props) {\n  return {\n    setWorkspaceViewportDimensions: function setWorkspaceViewportDimensions(position) {\n      dispatch(actions.setWorkspaceViewportDimensions(position));\n    },\n    setWorkspaceViewportPosition: function setWorkspaceViewportPosition(position) {\n      dispatch(actions.setWorkspaceViewportPosition(position));\n    },\n    updateElasticWindowLayout: function updateElasticWindowLayout(windowId, position) {\n      dispatch(actions.updateElasticWindowLayout(windowId, position));\n    }\n  };\n};\n\nvar styles = {\n  workspace: {\n    boxSizing: 'border-box',\n    margin: 0,\n    position: 'absolute',\n    transitionDuration: '.7s',\n    // order matters\n    // eslint-disable-next-line sort-keys\n    '& .react-draggable-dragging': {\n      transitionDuration: 'unset'\n    }\n  }\n};\nvar enhance = compose(withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceElastic') // further HOC go here\n);\nexport default enhance(WorkspaceElastic);","/** Extract metadata from an image File */\nexport function readImageMetadata(file) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n    reader.addEventListener('load', function () {\n      var image = new Image();\n      image.addEventListener('load', function () {\n        resolve({\n          height: image.height,\n          name: file.name,\n          type: file.type,\n          url: reader.result,\n          width: image.width\n        });\n      });\n      image.src = reader.result;\n    });\n    reader.readAsDataURL(file);\n  });\n}","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React from 'react';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport InsertDriveFileSharpIcon from '@material-ui/icons/InsertDriveFileSharp';\nimport { grey } from '@material-ui/core/colors';\nimport { v4 as uuid } from 'uuid';\nimport { NativeTypes } from 'react-dnd-html5-backend';\nimport { useDrop } from 'react-dnd';\nimport { readImageMetadata } from '../lib/readImageMetadata';\n/** */\n\nexport var handleDrop = function handleDrop(item, monitor, props) {\n  var onDrop = props.onDrop;\n\n  if (item.urls) {\n    item.urls.forEach(function (str) {\n      var url = new URL(str);\n      var manifestId = url.searchParams.get('manifest');\n      var canvasId = url.searchParams.get('canvas');\n      if (manifestId) onDrop({\n        canvasId: canvasId,\n        manifestId: manifestId\n      }, props, monitor);\n    });\n  }\n\n  if (item.files) {\n    var manifestFiles = item.files.filter(function (f) {\n      return f.type === 'application/json';\n    });\n    var manifestPromises = manifestFiles.map(function (file) {\n      return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.addEventListener('load', function () {\n          var manifestJson = reader.result;\n          var manifestId = uuid();\n          if (manifestJson) onDrop({\n            manifestId: manifestId,\n            manifestJson: manifestJson\n          }, props, monitor);\n          resolve();\n        });\n        reader.readAsText(file);\n      });\n    });\n    var imageFiles = item.files.filter(function (_ref) {\n      var type = _ref.type;\n      return type.startsWith('image/');\n    });\n    var imagePromise;\n\n    if (imageFiles.length > 0) {\n      var id = uuid();\n      var imageData = imageFiles.map(function (file) {\n        return readImageMetadata(file);\n      });\n      imagePromise = Promise.all(imageData).then(function (images) {\n        var manifestJson = {\n          '@context': 'http://iiif.io/api/presentation/3/context.json',\n          id: id,\n          items: images.map(function (_ref2, index) {\n            var name = _ref2.name,\n                type = _ref2.type,\n                width = _ref2.width,\n                height = _ref2.height,\n                url = _ref2.url;\n            return {\n              height: height,\n              id: \"\".concat(id, \"/canvas/\").concat(index),\n              items: [{\n                id: \"\".concat(id, \"/canvas/\").concat(index, \"/1\"),\n                items: [{\n                  body: {\n                    format: type,\n                    id: url,\n                    type: 'Image'\n                  },\n                  height: height,\n                  id: \"\".concat(id, \"/canvas/\").concat(index, \"/1/image\"),\n                  motivation: 'painting',\n                  target: \"\".concat(id, \"/canvas/\").concat(index, \"/1\"),\n                  type: 'Annotation',\n                  width: width\n                }],\n                type: 'AnnotationPage'\n              }],\n              label: name,\n              type: 'Canvas',\n              width: width\n            };\n          }),\n          label: images[0].name,\n          type: 'Manifest'\n        };\n        var manifestId = uuid();\n        if (manifestJson) onDrop({\n          manifestId: manifestId,\n          manifestJson: manifestJson\n        }, props, monitor);\n      });\n    }\n\n    return Promise.all([].concat(_toConsumableArray(manifestPromises), [imagePromise]));\n  }\n\n  return undefined;\n};\n/** */\n\nexport var IIIFDropTarget = function IIIFDropTarget(props) {\n  var children = props.children,\n      onDrop = props.onDrop;\n\n  var _useDrop = useDrop({\n    accept: [NativeTypes.URL, NativeTypes.FILE],\n    collect: function collect(monitor) {\n      return {\n        canDrop: monitor.canDrop(),\n        isOver: monitor.isOver()\n      };\n    },\n\n    /** */\n    drop: function drop(item, monitor) {\n      if (!onDrop) return;\n      handleDrop(item, monitor, props);\n    }\n  }),\n      _useDrop2 = _slicedToArray(_useDrop, 2),\n      _useDrop2$ = _useDrop2[0],\n      canDrop = _useDrop2$.canDrop,\n      isOver = _useDrop2$.isOver,\n      drop = _useDrop2[1];\n  /**\n   * Safari reports drag+drop'ed urls as both a file and uri-list\n   * which gets mis-classified by react-dnd.\n   */\n\n\n  var hackForSafari = function hackForSafari(e) {\n    if (!window.safari || !onDrop || !e.dataTransfer) return;\n\n    if (e.dataTransfer.types.includes('Files') && e.dataTransfer.types.includes('text/uri-list')) {\n      var url = e.dataTransfer.getData('text/uri-list');\n      if (!url) return;\n      handleDrop({\n        urls: [url]\n      }, null, props);\n    }\n  };\n\n  var isActive = canDrop && isOver;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: drop,\n    onDrop: hackForSafari,\n    style: {\n      height: '100%',\n      width: '100%'\n    }\n  }, children, /*#__PURE__*/React.createElement(Backdrop, {\n    open: isActive,\n    style: {\n      zIndex: 9999\n    }\n  }, /*#__PURE__*/React.createElement(InsertDriveFileSharpIcon, {\n    style: {\n      color: grey[400],\n      fontSize: 256\n    }\n  })));\n};","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Window from '../containers/Window';\nimport WorkspaceMosaic from '../containers/WorkspaceMosaic';\nimport WorkspaceElastic from '../containers/WorkspaceElastic';\nimport ns from '../config/css-ns';\nimport { IIIFDropTarget } from './IIIFDropTarget';\n/**\n * Represents a work area that contains any number of windows\n * @memberof Workspace\n * @private\n */\n\nexport var Workspace = /*#__PURE__*/function (_React$Component) {\n  _inherits(Workspace, _React$Component);\n\n  var _super = _createSuper(Workspace);\n\n  /** */\n  function Workspace(props) {\n    var _this;\n\n    _classCallCheck(this, Workspace);\n\n    _this = _super.call(this, props);\n    _this.handleDrop = _this.handleDrop.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(Workspace, [{\n    key: \"handleDrop\",\n    value: function handleDrop(_ref, props, monitor) {\n      var canvasId = _ref.canvasId,\n          manifestId = _ref.manifestId,\n          manifestJson = _ref.manifestJson;\n      var _this$props = this.props,\n          addWindow = _this$props.addWindow,\n          allowNewWindows = _this$props.allowNewWindows;\n      if (!allowNewWindows) return;\n      addWindow({\n        canvasId: canvasId,\n        manifest: manifestJson,\n        manifestId: manifestId\n      });\n    }\n    /**\n     * Determine which workspace to render by configured type\n     */\n\n  }, {\n    key: \"workspaceByType\",\n    value: function workspaceByType() {\n      var _this$props2 = this.props,\n          workspaceId = _this$props2.workspaceId,\n          workspaceType = _this$props2.workspaceType,\n          windowIds = _this$props2.windowIds;\n\n      if (this.maximizedWindows()) {\n        return this.maximizedWindows();\n      }\n\n      if (windowIds.length === 0) return this.zeroWindows();\n\n      switch (workspaceType) {\n        case 'elastic':\n          return /*#__PURE__*/React.createElement(WorkspaceElastic, null);\n\n        case 'mosaic':\n          return /*#__PURE__*/React.createElement(WorkspaceMosaic, null);\n\n        default:\n          return windowIds.map(function (windowId) {\n            return /*#__PURE__*/React.createElement(Window, {\n              key: \"\".concat(windowId, \"-\").concat(workspaceId),\n              windowId: windowId\n            });\n          });\n      }\n    }\n    /** */\n\n  }, {\n    key: \"zeroWindows\",\n    value: function zeroWindows() {\n      var t = this.props.t;\n      return /*#__PURE__*/React.createElement(Grid, {\n        alignItems: \"center\",\n        container: true,\n        style: {\n          height: '100%'\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        xs: 12,\n        item: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h1\",\n        component: \"div\",\n        align: \"center\"\n      }, t('welcome'))));\n    }\n    /**\n     * Determine whether or not there are maximized windows\n     */\n\n  }, {\n    key: \"maximizedWindows\",\n    value: function maximizedWindows() {\n      var _this$props3 = this.props,\n          maximizedWindowIds = _this$props3.maximizedWindowIds,\n          workspaceId = _this$props3.workspaceId;\n\n      if (maximizedWindowIds.length > 0) {\n        return maximizedWindowIds.map(function (windowId) {\n          return /*#__PURE__*/React.createElement(Window, {\n            key: \"\".concat(windowId, \"-\").concat(workspaceId),\n            windowId: windowId,\n            className: classNames(ns('workspace-maximized-window'))\n          });\n        });\n      }\n\n      return false;\n    }\n    /**\n     * render\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          classes = _this$props4.classes,\n          isWorkspaceControlPanelVisible = _this$props4.isWorkspaceControlPanelVisible,\n          t = _this$props4.t;\n      return /*#__PURE__*/React.createElement(IIIFDropTarget, {\n        onDrop: this.handleDrop\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames(ns('workspace-viewport'), isWorkspaceControlPanelVisible && ns('workspace-with-control-panel'), isWorkspaceControlPanelVisible && classes.workspaceWithControlPanel, classes.workspaceViewport)\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"srOnly\",\n        component: \"h1\"\n      }, t('miradorViewer')), this.workspaceByType()));\n    }\n  }]);\n\n  return Workspace;\n}(React.Component);\nWorkspace.defaultProps = {\n  addWindow: function addWindow() {},\n  allowNewWindows: true,\n  maximizedWindowIds: [],\n  windowIds: []\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { Workspace } from '../components/Workspace';\nimport { getMaximizedWindowsIds, getWindowIds, getWorkspaceType, getConfig, getWorkspace } from '../state/selectors';\nimport * as actions from '../state/actions';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    allowNewWindows: getConfig(state).workspace.allowNewWindows,\n    isWorkspaceControlPanelVisible: getConfig(state).workspaceControlPanel.enabled,\n    maximizedWindowIds: getMaximizedWindowsIds(state),\n    windowIds: getWindowIds(state),\n    workspaceId: getWorkspace(state).id,\n    workspaceType: getWorkspaceType(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  addWindow: actions.addWindow\n};\n/**\n * @param theme\n */\n\nvar styles = function styles(theme) {\n  return {\n    workspaceViewport: {\n      bottom: 0,\n      left: 0,\n      margin: 0,\n      overflow: 'hidden',\n      position: 'absolute',\n      right: 0,\n      top: 0\n    },\n    workspaceWithControlPanel: {\n      paddingTop: 74\n    },\n    // injection order matters here\n    // eslint-disable-next-line sort-keys\n    '@media (min-width: 600px)': {\n      workspaceWithControlPanel: {\n        paddingLeft: 68,\n        paddingTop: 0\n      }\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('Workspace') // further HOC go here\n);\nexport default enhance(Workspace);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\n/**\n * Provides a form for user input of a manifest url\n * @prop {Function} fetchManifest\n */\n\nexport var ManifestForm = /*#__PURE__*/function (_Component) {\n  _inherits(ManifestForm, _Component);\n\n  var _super = _createSuper(ManifestForm);\n\n  /**\n   * constructor -\n   */\n  function ManifestForm(props) {\n    var _this;\n\n    _classCallCheck(this, ManifestForm);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      formValue: ''\n    };\n    _this.inputRef = /*#__PURE__*/React.createRef();\n    _this.formSubmit = _this.formSubmit.bind(_assertThisInitialized(_this));\n    _this.handleCancel = _this.handleCancel.bind(_assertThisInitialized(_this));\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   *\n   * @param {*} prevProps\n   * @param {*} prevState\n   */\n\n\n  _createClass(ManifestForm, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var addResourcesOpen = this.props.addResourcesOpen;\n\n      if (this.inputRef && this.inputRef.current && addResourcesOpen) {\n        this.inputRef.current.focus();\n      }\n    }\n    /**\n     * Reset the form state\n     */\n\n  }, {\n    key: \"handleCancel\",\n    value: function handleCancel() {\n      var onCancel = this.props.onCancel;\n      onCancel();\n      this.setState({\n        formValue: ''\n      });\n    }\n    /**\n     * handleInputChange - sets state based on input change.\n     * @param  {Event} event\n     * @private\n     */\n\n  }, {\n    key: \"handleInputChange\",\n    value: function handleInputChange(event) {\n      var that = this;\n      event.preventDefault();\n      that.setState({\n        formValue: event.target.value\n      });\n    }\n    /**\n     * formSubmit - triggers manifest update and sets lastRequested\n     * @param  {Event} event\n     * @private\n     */\n\n  }, {\n    key: \"formSubmit\",\n    value: function formSubmit(event) {\n      var _this$props = this.props,\n          addResource = _this$props.addResource,\n          onSubmit = _this$props.onSubmit;\n      var formValue = this.state.formValue;\n      event.preventDefault();\n      onSubmit();\n      addResource(formValue);\n      this.setState({\n        formValue: ''\n      });\n    }\n    /**\n     * render\n     * @return {String} - HTML markup for the component\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var formValue = this.state.formValue;\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          onCancel = _this$props2.onCancel,\n          t = _this$props2.t;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.formSubmit\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 2\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 8,\n        md: 9\n      }, /*#__PURE__*/React.createElement(TextField, {\n        inputRef: this.inputRef,\n        fullWidth: true,\n        value: formValue,\n        id: \"manifestURL\",\n        type: \"text\",\n        onChange: this.handleInputChange,\n        variant: \"filled\",\n        label: t('addManifestUrl'),\n        helperText: t('addManifestUrlHelp'),\n        InputLabelProps: {\n          shrink: true\n        },\n        InputProps: {\n          className: classes.input\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 4,\n        md: 3,\n        className: classes.buttons\n      }, onCancel && /*#__PURE__*/React.createElement(Button, {\n        onClick: this.handleCancel\n      }, t('cancel')), /*#__PURE__*/React.createElement(Button, {\n        id: \"fetchBtn\",\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\"\n      }, t('fetchManifest')))));\n    }\n  }]);\n\n  return ManifestForm;\n}(Component);\nManifestForm.defaultProps = {\n  classes: {},\n  onCancel: null,\n  onSubmit: function onSubmit() {},\n  t: function t(key) {\n    return key;\n  }\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { ManifestForm } from '../components/ManifestForm';\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestForm\n * @private\n */\n\nvar mapDispatchToProps = {\n  addResource: actions.addResource\n};\n/**\n *\n * @param theme\n */\n\nvar styles = function styles(theme) {\n  return {\n    buttons: _defineProperty({\n      textAlign: 'right'\n    }, theme.breakpoints.up('sm'), {\n      textAlign: 'inherit'\n    }),\n    input: _objectSpread({}, theme.typography.body1)\n  };\n};\n\nvar enhance = compose(withStyles(styles), withTranslation(), connect(null, mapDispatchToProps), withPlugins('ManifestForm'));\nexport default enhance(ManifestForm);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport ErrorIcon from '@material-ui/icons/ErrorOutlineSharp';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\n/**\n * ManifestListItemError renders a component displaying a\n * message to the user about a problem loading a manifest\n*/\n\nexport var ManifestListItemError = /*#__PURE__*/function (_Component) {\n  _inherits(ManifestListItemError, _Component);\n\n  var _super = _createSuper(ManifestListItemError);\n\n  function ManifestListItemError() {\n    _classCallCheck(this, ManifestListItemError);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ManifestListItemError, [{\n    key: \"render\",\n    value:\n    /**\n     * Returns the rendered component\n    */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          manifestId = _this$props.manifestId,\n          onDismissClick = _this$props.onDismissClick,\n          onTryAgainClick = _this$props.onTryAgainClick,\n          t = _this$props.t;\n      return /*#__PURE__*/React.createElement(Grid, {\n        container: true\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        item: true,\n        xs: 12,\n        sm: 6\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 4,\n        sm: 3\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        justify: \"center\"\n      }, /*#__PURE__*/React.createElement(ErrorIcon, {\n        className: classes.errorIcon\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        sm: 9\n      }, /*#__PURE__*/React.createElement(Typography, null, t('manifestError')), /*#__PURE__*/React.createElement(Typography, {\n        className: classes.manifestIdText\n      }, manifestId)))), /*#__PURE__*/React.createElement(Grid, {\n        container: true\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        item: true,\n        xs: 12,\n        sm: 6,\n        justify: \"flex-end\"\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          onDismissClick(manifestId);\n        }\n      }, t('dismiss')), /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          onTryAgainClick(manifestId);\n        }\n      }, t('tryAgain'))))));\n    }\n  }]);\n\n  return ManifestListItemError;\n}(Component);","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { fetchManifest, removeResource } from '../state/actions';\nimport { ManifestListItemError } from '../components/ManifestListItemError';\n/** */\n\nvar mapDispatchToProps = {\n  onDismissClick: removeResource,\n  onTryAgainClick: fetchManifest\n};\n/**\n *\n * @param theme\n * @returns {{manifestIdText: {wordBreak: string},\n * errorIcon: {color: string, width: string, height: string}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    errorIcon: {\n      color: theme.palette.error.main,\n      height: '2rem',\n      width: '2rem'\n    },\n    manifestIdText: {\n      wordBreak: 'break-all'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(null, mapDispatchToProps), withPlugins('ManifestListItemError'));\nexport default enhance(ManifestListItemError);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React from 'react';\nimport ListItem from '@material-ui/core/ListItem';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { Img } from 'react-image';\nimport ManifestListItemError from '../containers/ManifestListItemError';\nimport ns from '../config/css-ns';\n/**\n * Represents an item in a list of currently-loaded or loading manifests\n * @param {object} props\n * @param {object} [props.manifest = string]\n */\n\n/** */\n\nexport var ManifestListItem = /*#__PURE__*/function (_React$Component) {\n  _inherits(ManifestListItem, _React$Component);\n\n  var _super = _createSuper(ManifestListItem);\n\n  /** */\n  function ManifestListItem(props) {\n    var _this;\n\n    _classCallCheck(this, ManifestListItem);\n\n    _this = _super.call(this, props);\n    _this.handleOpenButtonClick = _this.handleOpenButtonClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(ManifestListItem, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          fetchManifest = _this$props.fetchManifest,\n          manifestId = _this$props.manifestId,\n          ready = _this$props.ready,\n          isFetching = _this$props.isFetching,\n          error = _this$props.error,\n          provider = _this$props.provider;\n      if (!ready && !error && !isFetching && provider !== 'file') fetchManifest(manifestId);\n    }\n    /**\n     * Handling open button click\n     */\n\n  }, {\n    key: \"handleOpenButtonClick\",\n    value: function handleOpenButtonClick() {\n      var _this$props2 = this.props,\n          addWindow = _this$props2.addWindow,\n          handleClose = _this$props2.handleClose,\n          manifestId = _this$props2.manifestId;\n      addWindow({\n        manifestId: manifestId\n      });\n      handleClose();\n    }\n    /** */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          active = _this$props3.active,\n          buttonRef = _this$props3.buttonRef,\n          manifestId = _this$props3.manifestId,\n          ready = _this$props3.ready,\n          title = _this$props3.title,\n          thumbnail = _this$props3.thumbnail,\n          manifestLogo = _this$props3.manifestLogo,\n          size = _this$props3.size,\n          classes = _this$props3.classes,\n          provider = _this$props3.provider,\n          t = _this$props3.t,\n          error = _this$props3.error,\n          isCollection = _this$props3.isCollection,\n          isMultipart = _this$props3.isMultipart;\n      var placeholder = /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        className: ns('manifest-list-item'),\n        spacing: 2\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 3,\n        sm: 2\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"rect\",\n        height: 80,\n        width: 120\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 9,\n        sm: 6\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        sm: 2\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      }), /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"text\"\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 4,\n        sm: 2\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        className: classes.placeholder,\n        variant: \"rect\",\n        height: 60,\n        width: 60\n      })));\n\n      if (error) {\n        return /*#__PURE__*/React.createElement(ListItem, {\n          divider: true,\n          className: classes.root,\n          \"data-manifestid\": manifestId\n        }, /*#__PURE__*/React.createElement(ManifestListItemError, {\n          manifestId: manifestId\n        }));\n      }\n\n      return /*#__PURE__*/React.createElement(ListItem, {\n        divider: true,\n        className: [classes.root, active ? classes.active : ''].join(' '),\n        \"data-manifestid\": manifestId\n      }, ready ? /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        className: ns('manifest-list-item'),\n        spacing: 2\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        className: classes.buttonGrid\n      }, /*#__PURE__*/React.createElement(ButtonBase, {\n        ref: buttonRef,\n        className: ns('manifest-list-item-title'),\n        style: {\n          width: '100%'\n        },\n        onClick: this.handleOpenButtonClick\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 2,\n        className: classes.label,\n        component: \"span\"\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 4,\n        sm: 3,\n        component: \"span\"\n      }, /*#__PURE__*/React.createElement(Img, {\n        className: [classes.thumbnail, ns('manifest-list-item-thumb')].join(' '),\n        src: [thumbnail],\n        alt: \"\",\n        height: \"80\",\n        unloader: /*#__PURE__*/React.createElement(Skeleton, {\n          variant: \"rect\",\n          animation: false,\n          className: classes.placeholder,\n          height: 80,\n          width: 120\n        })\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        sm: 9,\n        component: \"span\"\n      }, isCollection && /*#__PURE__*/React.createElement(Typography, {\n        component: \"div\",\n        variant: \"overline\"\n      }, t(isMultipart ? 'multipartCollection' : 'collection')), /*#__PURE__*/React.createElement(Typography, {\n        component: \"span\",\n        variant: \"h6\"\n      }, title || manifestId))))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 8,\n        sm: 4\n      }, /*#__PURE__*/React.createElement(Typography, {\n        className: ns('manifest-list-item-provider')\n      }, provider || t('addedFromUrl')), /*#__PURE__*/React.createElement(Typography, null, t('numItems', {\n        number: size\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 4,\n        sm: 2\n      }, /*#__PURE__*/React.createElement(Img, {\n        src: [manifestLogo],\n        alt: \"\",\n        role: \"presentation\",\n        className: classes.logo,\n        unloader: /*#__PURE__*/React.createElement(Skeleton, {\n          variant: \"rect\",\n          animation: false,\n          className: classes.placeholder,\n          height: 60,\n          width: 60\n        })\n      }))) : placeholder);\n    }\n  }]);\n\n  return ManifestListItem;\n}(React.Component);\nManifestListItem.defaultProps = {\n  active: false,\n  buttonRef: undefined,\n  classes: {},\n  error: null,\n  handleClose: function handleClose() {},\n  isCollection: false,\n  isFetching: false,\n  isMultipart: false,\n  manifestLogo: null,\n  provider: null,\n  ready: false,\n  size: 0,\n  t: function t(key) {\n    return key;\n  },\n  thumbnail: null,\n  title: null\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport { getManifest, getManifestTitle, getManifestThumbnail, getCanvases, getManifestLogo, getManifestProvider, getWindowManifests, getManifestoInstance, getSequenceBehaviors } from '../state/selectors';\nimport * as actions from '../state/actions';\nimport { ManifestListItem } from '../components/ManifestListItem';\n/** */\n\nvar mapStateToProps = function mapStateToProps(state, _ref) {\n  var manifestId = _ref.manifestId,\n      provider = _ref.provider;\n  var manifest = getManifest(state, {\n    manifestId: manifestId\n  }) || {};\n  var manifesto = getManifestoInstance(state, {\n    manifestId: manifestId\n  });\n  var isCollection = (manifesto || {\n    isCollection: function isCollection() {\n      return false;\n    }\n  }).isCollection();\n  var size = isCollection ? manifesto.getTotalItems() : getCanvases(state, {\n    manifestId: manifestId\n  }).length;\n  return {\n    active: getWindowManifests(state).includes(manifestId),\n    error: manifest.error,\n    isCollection: isCollection,\n    isFetching: manifest.isFetching,\n    isMultipart: isCollection && getSequenceBehaviors(state, {\n      manifestId: manifestId\n    }).includes('multi-part'),\n    manifestLogo: getManifestLogo(state, {\n      manifestId: manifestId\n    }),\n    provider: provider || getManifestProvider(state, {\n      manifestId: manifestId\n    }),\n    ready: !!manifest.json,\n    size: size,\n    thumbnail: getManifestThumbnail(state, {\n      manifestId: manifestId\n    }),\n    title: getManifestTitle(state, {\n      manifestId: manifestId\n    })\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof ManifestListItem\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  addWindow: actions.addWindow,\n  fetchManifest: actions.fetchManifest\n};\n/**\n *\n * @param theme\n * @returns {{root: {}, label: {textAlign: string, textTransform: string}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    active: {},\n    buttonGrid: {},\n    label: {\n      textAlign: 'left',\n      textTransform: 'initial'\n    },\n    logo: {\n      height: '2.5rem',\n      maxWidth: '100%',\n      objectFit: 'contain',\n      paddingRight: 8\n    },\n    placeholder: {\n      backgroundColor: theme.palette.grey[300]\n    },\n    root: _objectSpread(_objectSpread({}, theme.mixins.gutters()), {}, {\n      '&$active': {\n        borderLeft: \"4px solid \".concat(theme.palette.primary.main)\n      },\n      '&:hover,&:focus-within': {\n        '&$active': {\n          borderLeft: \"4px solid \".concat(theme.palette.primary.main)\n        },\n        backgroundColor: theme.palette.action.hover,\n        borderLeft: \"4px solid \".concat(theme.palette.action.hover)\n      },\n      borderLeft: '4px solid transparent'\n    }),\n    thumbnail: {\n      maxWidth: '100%',\n      objectFit: 'contain'\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('ManifestListItem'));\nexport default enhance(ManifestListItem);","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport AddIcon from '@material-ui/icons/AddSharp';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMoreSharp';\nimport AppBar from '@material-ui/core/AppBar';\nimport Drawer from '@material-ui/core/Drawer';\nimport Grid from '@material-ui/core/Grid';\nimport Fab from '@material-ui/core/Fab';\nimport List from '@material-ui/core/List';\nimport Paper from '@material-ui/core/Paper';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport ns from '../config/css-ns';\nimport ManifestForm from '../containers/ManifestForm';\nimport ManifestListItem from '../containers/ManifestListItem';\nimport MiradorMenuButton from '../containers/MiradorMenuButton';\nimport { IIIFDropTarget } from './IIIFDropTarget';\nimport { PluginHook } from './PluginHook';\n/**\n * An area for managing manifests and adding them to workspace\n * @memberof Workspace\n * @private\n */\n\nexport var WorkspaceAdd = /*#__PURE__*/function (_React$Component) {\n  _inherits(WorkspaceAdd, _React$Component);\n\n  var _super = _createSuper(WorkspaceAdd);\n\n  /** */\n  function WorkspaceAdd(props) {\n    var _this;\n\n    _classCallCheck(this, WorkspaceAdd);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      addResourcesOpen: false\n    };\n    _this.ref = /*#__PURE__*/React.createRef();\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    _this.setAddResourcesVisibility = _this.setAddResourcesVisibility.bind(_assertThisInitialized(_this));\n    _this.handleDrop = _this.handleDrop.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /** */\n\n\n  _createClass(WorkspaceAdd, [{\n    key: \"handleDrop\",\n    value: function handleDrop(_ref, props, monitor) {\n      var manifestId = _ref.manifestId,\n          manifestJson = _ref.manifestJson;\n      var addResource = this.props.addResource;\n\n      if (manifestJson) {\n        addResource(manifestId, manifestJson, {\n          provider: 'file'\n        });\n      } else {\n        addResource(manifestId);\n      }\n\n      this.scrollToTop();\n    }\n    /** @private */\n\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit() {\n      this.setAddResourcesVisibility(false);\n      this.scrollToTop();\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: \"setAddResourcesVisibility\",\n    value: function setAddResourcesVisibility(bool) {\n      this.setState({\n        addResourcesOpen: bool\n      });\n    }\n    /** Scroll the list back to the top */\n\n  }, {\n    key: \"scrollToTop\",\n    value: function scrollToTop() {\n      if (this.ref.current) {\n        var el = this.ref.current;\n        el.scrollTo({\n          behavior: 'smooth',\n          left: 0,\n          top: 0\n        });\n      }\n    }\n    /**\n     * render\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          catalog = _this$props.catalog,\n          setWorkspaceAddVisibility = _this$props.setWorkspaceAddVisibility,\n          t = _this$props.t,\n          classes = _this$props.classes;\n      var addResourcesOpen = this.state.addResourcesOpen;\n      var manifestList = catalog.map(function (resource, index) {\n        return /*#__PURE__*/React.createElement(ManifestListItem, Object.assign({}, index === 0 && {\n          buttonRef: function buttonRef(ref) {\n            return ref && ref.focus();\n          }\n        }, {\n          key: resource.manifestId,\n          manifestId: resource.manifestId,\n          provider: resource.provider,\n          handleClose: function handleClose() {\n            return setWorkspaceAddVisibility(false);\n          }\n        }));\n      });\n      return /*#__PURE__*/React.createElement(IIIFDropTarget, {\n        onDrop: this.handleDrop\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: this.ref,\n        className: classNames(ns('workspace-add'), classes.workspaceAdd)\n      }, catalog.length < 1 ? /*#__PURE__*/React.createElement(Grid, {\n        alignItems: \"center\",\n        container: true,\n        style: {\n          height: '100%'\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        xs: 12,\n        item: true\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h1\",\n        component: \"div\",\n        align: \"center\"\n      }, t('emptyResourceList')))) : /*#__PURE__*/React.createElement(Paper, {\n        className: classes.list\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"srOnly\",\n        component: \"h1\"\n      }, t('miradorResources')), /*#__PURE__*/React.createElement(PluginHook, this.props), /*#__PURE__*/React.createElement(List, {\n        disablePadding: true\n      }, manifestList)), /*#__PURE__*/React.createElement(Fab, {\n        variant: \"extended\",\n        disabled: addResourcesOpen,\n        className: classNames(classes.fab, ns('add-resource-button')),\n        color: \"primary\",\n        onClick: function onClick() {\n          return _this2.setAddResourcesVisibility(true);\n        }\n      }, /*#__PURE__*/React.createElement(AddIcon, null), t('addResource')), /*#__PURE__*/React.createElement(Drawer, {\n        className: classNames(_defineProperty({}, classes.displayNone, !addResourcesOpen)),\n        classes: {\n          paper: classes.paper\n        },\n        variant: \"persistent\",\n        anchor: \"bottom\",\n        open: addResourcesOpen,\n        ModalProps: {\n          disablePortal: true,\n          hideBackdrop: true,\n          style: {\n            position: 'absolute'\n          }\n        }\n      }, /*#__PURE__*/React.createElement(Paper, {\n        className: classes.form\n      }, /*#__PURE__*/React.createElement(AppBar, {\n        position: \"absolute\",\n        color: \"primary\",\n        onClick: function onClick() {\n          return _this2.setAddResourcesVisibility(false);\n        }\n      }, /*#__PURE__*/React.createElement(Toolbar, {\n        variant: \"dense\"\n      }, /*#__PURE__*/React.createElement(MiradorMenuButton, {\n        \"aria-label\": t('closeAddResourceForm'),\n        className: classes.menuButton,\n        color: \"inherit\"\n      }, /*#__PURE__*/React.createElement(ExpandMoreIcon, null)), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h2\",\n        noWrap: true,\n        color: \"inherit\",\n        className: classes.typographyBody\n      }, t('addResource')))), /*#__PURE__*/React.createElement(ManifestForm, {\n        addResourcesOpen: addResourcesOpen,\n        onSubmit: this.onSubmit,\n        onCancel: function onCancel() {\n          return _this2.setAddResourcesVisibility(false);\n        }\n      })))));\n    }\n  }]);\n\n  return WorkspaceAdd;\n}(React.Component);\nWorkspaceAdd.defaultProps = {\n  addResource: function addResource() {},\n  catalog: [],\n  classes: {},\n  t: function t(key) {\n    return key;\n  }\n};","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles } from '@material-ui/core';\nimport { withPlugins } from '../extend/withPlugins';\nimport * as actions from '../state/actions';\nimport { WorkspaceAdd } from '../components/WorkspaceAdd';\nimport { getCatalog } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof Workspace\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    catalog: getCatalog(state)\n  };\n};\n/**\n * mapDispatchToProps - used to hook up connect to action creators\n * @memberof Workspace\n * @private\n */\n\n\nvar mapDispatchToProps = {\n  addResource: actions.addResource,\n  setWorkspaceAddVisibility: actions.setWorkspaceAddVisibility\n};\n/**\n *\n * @param theme\n * @returns {{typographyBody: {flexGrow: number, fontSize: string},\n * form: {paddingBottom: number, paddingTop: number, marginTop: number},\n * fab: {bottom: number, position: string, right: number},\n * menuButton: {marginRight: number, marginLeft: number}}}\n */\n\nvar styles = function styles(theme) {\n  return {\n    displayNone: {\n      display: 'none'\n    },\n    fab: {\n      bottom: theme.spacing(2),\n      position: 'absolute',\n      right: theme.spacing(2)\n    },\n    form: _objectSpread(_objectSpread({}, theme.mixins.gutters()), {}, {\n      left: '0',\n      marginTop: 48,\n      paddingBottom: theme.spacing(2),\n      paddingTop: theme.spacing(2),\n      right: '0'\n    }),\n    list: {\n      margin: '16px'\n    },\n    menuButton: {\n      marginLeft: -12,\n      marginRight: 20\n    },\n    paper: _defineProperty({\n      borderTop: '0',\n      left: '0'\n    }, theme.breakpoints.up('sm'), {\n      left: '65px'\n    }),\n    typographyBody: {\n      flexGrow: 1\n    },\n    workspaceAdd: {\n      boxSizing: 'border-box',\n      height: '100%',\n      overflowX: 'hidden',\n      overflowY: 'auto',\n      paddingTop: 68\n    },\n    // injection order matters\n    // eslint-disable-next-line sort-keys\n    '@media (min-width: 600px)': {\n      workspaceAdd: {\n        paddingLeft: 68,\n        paddingTop: 0\n      }\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps, mapDispatchToProps), withPlugins('WorkspaceAdd'));\nexport default enhance(WorkspaceAdd);","import React from 'react';\nimport ns from '../config/css-ns';\nimport { PluginHook } from './PluginHook';\n/** invisible area where background plugins can add to */\n\nexport var BackgroundPluginArea = function BackgroundPluginArea(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: ns('background-plugin-area'),\n    style: {\n      display: 'none'\n    }\n  }, /*#__PURE__*/React.createElement(PluginHook, props));\n};\nBackgroundPluginArea.defaultProps = {\n  PluginComponents: []\n};","import { withPlugins } from '../extend/withPlugins';\nimport { BackgroundPluginArea } from '../components/BackgroundPluginArea';\nexport default withPlugins('BackgroundPluginArea')(BackgroundPluginArea);","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport ErrorDialog from '../containers/ErrorDialog';\nimport WorkspaceControlPanel from '../containers/WorkspaceControlPanel';\nimport Workspace from '../containers/Workspace';\nimport WorkspaceAdd from '../containers/WorkspaceAdd';\nimport BackgroundPluginArea from '../containers/BackgroundPluginArea';\nimport ns from '../config/css-ns';\n/**\n * This is the top level Mirador component.\n * @prop {Object} manifests\n */\n\nexport var WorkspaceArea = /*#__PURE__*/function (_Component) {\n  _inherits(WorkspaceArea, _Component);\n\n  var _super = _createSuper(WorkspaceArea);\n\n  function WorkspaceArea() {\n    _classCallCheck(this, WorkspaceArea);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(WorkspaceArea, [{\n    key: \"render\",\n    value:\n    /**\n     * render\n     * @return {String} - HTML markup for the component\n     */\n    function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          controlPanelVariant = _this$props.controlPanelVariant,\n          isWorkspaceAddVisible = _this$props.isWorkspaceAddVisible,\n          isWorkspaceControlPanelVisible = _this$props.isWorkspaceControlPanelVisible,\n          lang = _this$props.lang,\n          t = _this$props.t;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, isWorkspaceControlPanelVisible && /*#__PURE__*/React.createElement(WorkspaceControlPanel, {\n        variant: controlPanelVariant\n      }), /*#__PURE__*/React.createElement(\"main\", {\n        className: classNames(classes.viewer, ns('viewer')),\n        lang: lang,\n        \"aria-label\": t('workspace')\n      }, isWorkspaceAddVisible ? /*#__PURE__*/React.createElement(WorkspaceAdd, null) : /*#__PURE__*/React.createElement(Workspace, null), /*#__PURE__*/React.createElement(ErrorDialog, null), /*#__PURE__*/React.createElement(BackgroundPluginArea, null)));\n    }\n  }]);\n\n  return WorkspaceArea;\n}(Component);\nWorkspaceArea.defaultProps = {\n  controlPanelVariant: undefined,\n  isWorkspaceAddVisible: false,\n  lang: undefined\n};","import { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { withTranslation } from 'react-i18next';\nimport { withStyles, lighten, darken } from '@material-ui/core/styles';\nimport { withPlugins } from '../extend/withPlugins';\nimport { WorkspaceArea } from '../components/WorkspaceArea';\nimport { getConfig, getWindowIds, getWorkspace } from '../state/selectors';\n/**\n * mapStateToProps - to hook up connect\n * @memberof App\n * @private\n */\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    controlPanelVariant: getWorkspace(state).isWorkspaceAddVisible || getWindowIds(state).length > 0 ? undefined : 'wide',\n    isWorkspaceAddVisible: getWorkspace(state).isWorkspaceAddVisible,\n    isWorkspaceControlPanelVisible: getConfig(state).workspaceControlPanel.enabled,\n    lang: getConfig(state).language\n  };\n};\n/**\n *\n * @param theme\n * @returns {{background: {background: string}}}\n */\n\n\nvar styles = function styles(theme) {\n  var getBackgroundColor = theme.palette.type === 'light' ? darken : lighten;\n  return {\n    viewer: {\n      background: getBackgroundColor(theme.palette.shades.light, 0.1),\n      bottom: 0,\n      left: 0,\n      overflow: 'hidden',\n      position: 'absolute',\n      right: 0,\n      top: 0\n    }\n  };\n};\n\nvar enhance = compose(withTranslation(), withStyles(styles), connect(mapStateToProps), withPlugins('WorkspaceArea'));\nexport default enhance(WorkspaceArea);","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Split = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar clamp_1 = __importDefault(require(\"lodash/clamp\"));\nvar throttle_1 = __importDefault(require(\"lodash/throttle\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar BoundingBox_1 = require(\"./util/BoundingBox\");\nvar RESIZE_THROTTLE_MS = 1000 / 30; // 30 fps\nvar TOUCH_EVENT_OPTIONS = {\n    capture: true,\n    passive: false,\n};\nvar Split = /** @class */ (function (_super) {\n    __extends(Split, _super);\n    function Split() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElement = react_1.default.createRef();\n        _this.listenersBound = false;\n        _this.onMouseDown = function (event) {\n            if (!isTouchEvent(event)) {\n                if (event.button !== 0) {\n                    return;\n                }\n            }\n            event.preventDefault();\n            _this.bindListeners();\n        };\n        _this.onMouseUp = function (event) {\n            _this.unbindListeners();\n            var percentage = _this.calculateRelativePercentage(event);\n            _this.props.onRelease(percentage);\n        };\n        _this.onMouseMove = function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n            _this.throttledUpdatePercentage(event);\n        };\n        _this.throttledUpdatePercentage = throttle_1.default(function (event) {\n            var percentage = _this.calculateRelativePercentage(event);\n            if (percentage !== _this.props.splitPercentage) {\n                _this.props.onChange(percentage);\n            }\n        }, RESIZE_THROTTLE_MS);\n        return _this;\n    }\n    Split.prototype.render = function () {\n        var direction = this.props.direction;\n        return (react_1.default.createElement(\"div\", { className: classnames_1.default('mosaic-split', {\n                '-row': direction === 'row',\n                '-column': direction === 'column',\n            }), ref: this.rootElement, onMouseDown: this.onMouseDown, style: this.computeStyle() },\n            react_1.default.createElement(\"div\", { className: \"mosaic-split-line\" })));\n    };\n    Split.prototype.componentDidMount = function () {\n        this.rootElement.current.addEventListener('touchstart', this.onMouseDown, TOUCH_EVENT_OPTIONS);\n    };\n    Split.prototype.componentWillUnmount = function () {\n        this.unbindListeners();\n        if (this.rootElement.current) {\n            this.rootElement.current.ownerDocument.removeEventListener('touchstart', this.onMouseDown, TOUCH_EVENT_OPTIONS);\n        }\n    };\n    Split.prototype.bindListeners = function () {\n        if (!this.listenersBound) {\n            this.rootElement.current.ownerDocument.addEventListener('mousemove', this.onMouseMove, true);\n            this.rootElement.current.ownerDocument.addEventListener('touchmove', this.onMouseMove, TOUCH_EVENT_OPTIONS);\n            this.rootElement.current.ownerDocument.addEventListener('mouseup', this.onMouseUp, true);\n            this.rootElement.current.ownerDocument.addEventListener('touchend', this.onMouseUp, true);\n            this.listenersBound = true;\n        }\n    };\n    Split.prototype.unbindListeners = function () {\n        if (this.rootElement.current) {\n            this.rootElement.current.ownerDocument.removeEventListener('mousemove', this.onMouseMove, true);\n            this.rootElement.current.ownerDocument.removeEventListener('touchmove', this.onMouseMove, TOUCH_EVENT_OPTIONS);\n            this.rootElement.current.ownerDocument.removeEventListener('mouseup', this.onMouseUp, true);\n            this.rootElement.current.ownerDocument.removeEventListener('touchend', this.onMouseUp, true);\n            this.listenersBound = false;\n        }\n    };\n    Split.prototype.computeStyle = function () {\n        var _a;\n        var _b = this.props, boundingBox = _b.boundingBox, direction = _b.direction, splitPercentage = _b.splitPercentage;\n        var positionStyle = direction === 'column' ? 'top' : 'left';\n        var absolutePercentage = BoundingBox_1.BoundingBox.getAbsoluteSplitPercentage(boundingBox, splitPercentage, direction);\n        return __assign(__assign({}, BoundingBox_1.BoundingBox.asStyles(boundingBox)), (_a = {}, _a[positionStyle] = absolutePercentage + \"%\", _a));\n    };\n    Split.prototype.calculateRelativePercentage = function (event) {\n        var _a = this.props, minimumPaneSizePercentage = _a.minimumPaneSizePercentage, direction = _a.direction, boundingBox = _a.boundingBox;\n        var parentBBox = this.rootElement.current.parentElement.getBoundingClientRect();\n        var location = isTouchEvent(event) ? event.changedTouches[0] : event;\n        var absolutePercentage;\n        if (direction === 'column') {\n            absolutePercentage = ((location.clientY - parentBBox.top) / parentBBox.height) * 100.0;\n        }\n        else {\n            absolutePercentage = ((location.clientX - parentBBox.left) / parentBBox.width) * 100.0;\n        }\n        var relativePercentage = BoundingBox_1.BoundingBox.getRelativeSplitPercentage(boundingBox, absolutePercentage, direction);\n        return clamp_1.default(relativePercentage, minimumPaneSizePercentage, 100 - minimumPaneSizePercentage);\n    };\n    Split.defaultProps = {\n        onChange: function () { return void 0; },\n        onRelease: function () { return void 0; },\n        minimumPaneSizePercentage: 20,\n    };\n    return Split;\n}(react_1.default.PureComponent));\nexports.Split = Split;\nfunction isTouchEvent(event) {\n    return event.changedTouches != null;\n}\n//# sourceMappingURL=Split.js.map","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 18l2 1V1H7v2h12v15zM17 5H3v18l7-3 7 3V5z\"\n}), 'BookmarksSharp');\n\nexports.default = _default;","var baseSlice = require('./_baseSlice'),\n    toInteger = require('./toInteger');\n\n/**\n * Creates a slice of `array` with `n` elements dropped from the beginning.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=1] The number of elements to drop.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.drop([1, 2, 3]);\n * // => [2, 3]\n *\n * _.drop([1, 2, 3], 2);\n * // => [3]\n *\n * _.drop([1, 2, 3], 5);\n * // => []\n *\n * _.drop([1, 2, 3], 0);\n * // => [1, 2, 3]\n */\nfunction drop(array, n, guard) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return [];\n  }\n  n = (guard || n === undefined) ? 1 : toInteger(n);\n  return baseSlice(array, n < 0 ? 0 : n, length);\n}\n\nmodule.exports = drop;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'ErrorOutlineSharp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 12v7H5v-7H3v9h18v-9h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2v9.67z\"\n}), 'SaveAltSharp');\n\nexports.default = _default;","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"⌘\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OptionalBlueprint = void 0;\nvar React = __importStar(require(\"react\"));\nvar OptionalBlueprint;\n(function (OptionalBlueprint) {\n    var _a;\n    var Classes;\n    var IconNames;\n    try {\n        // Webpack is quieter about these errors\n        // https://github.com/nomcopter/react-mosaic/issues/109\n        require.resolve('@blueprintjs/core');\n        require.resolve('@blueprintjs/icons');\n        (_a = require('@blueprintjs/core'), Classes = _a.Classes, OptionalBlueprint.Icon = _a.Icon);\n        (IconNames = require('@blueprintjs/icons').IconNames);\n    }\n    catch (_b) {\n        OptionalBlueprint.Icon = function (_a) {\n            var icon = _a.icon;\n            return React.createElement(\"span\", null, icon);\n        };\n    }\n    function getClasses() {\n        var names = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            names[_i] = arguments[_i];\n        }\n        if (Classes) {\n            return names.map(function (name) { return Classes[name]; }).join(' ');\n        }\n        return '';\n    }\n    OptionalBlueprint.getClasses = getClasses;\n    function getIconClass(iconName) {\n        if (Classes && IconNames) {\n            return Classes.iconClass(IconNames[iconName]);\n        }\n        return '';\n    }\n    OptionalBlueprint.getIconClass = getIconClass;\n})(OptionalBlueprint = exports.OptionalBlueprint || (exports.OptionalBlueprint = {}));\n//# sourceMappingURL=OptionalBlueprint.js.map","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"\n}), 'FullscreenSharp');\n\nexports.default = _default;"],"sourceRoot":""}